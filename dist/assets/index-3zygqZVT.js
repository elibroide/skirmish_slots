var fy=Object.defineProperty;var dy=(t,e,n)=>e in t?fy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O=(t,e,n)=>dy(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ad(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=Symbol.for("react.transitional.element"),gy=Symbol.for("react.fragment");function Td(t,e,n){var a=null;if(n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:hy,type:t,key:a,ref:e!==void 0?e:null,props:n}}Zs.Fragment=gy;Zs.jsx=Td;Zs.jsxs=Td;wd.exports=Zs;var g=wd.exports,xd={exports:{}},L={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.transitional.element"),my=Symbol.for("react.portal"),yy=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),by=Symbol.for("react.consumer"),Sy=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),wy=Symbol.for("react.memo"),Dd=Symbol.for("react.lazy"),Ty=Symbol.for("react.activity"),wo=Symbol.iterator;function xy(t){return t===null||typeof t!="object"?null:(t=wo&&t[wo]||t["@@iterator"],typeof t=="function"?t:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cd=Object.assign,Od={};function ll(t,e,n){this.props=t,this.context=e,this.refs=Od,this.updater=n||Nd}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rd(){}Rd.prototype=ll.prototype;function uc(t,e,n){this.props=t,this.context=e,this.refs=Od,this.updater=n||Nd}var cc=uc.prototype=new Rd;cc.constructor=uc;Cd(cc,ll.prototype);cc.isPureReactComponent=!0;var To=Array.isArray;function su(){}var rt={H:null,A:null,T:null,S:null},_d=Object.prototype.hasOwnProperty;function oc(t,e,n){var a=n.ref;return{$$typeof:rc,type:t,key:e,ref:a!==void 0?a:null,props:n}}function Dy(t,e){return oc(t.type,e,t.props)}function fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===rc}function Ny(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xo=/\/+/g;function br(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ny(""+t.key):e.toString(36)}function Cy(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(su,su):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Sa(t,e,n,a,l){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case rc:case my:s=!0;break;case Dd:return s=t._init,Sa(s(t._payload),e,n,a,l)}}if(s)return l=l(t),s=a===""?"."+br(t,0):a,To(l)?(n="",s!=null&&(n=s.replace(xo,"$&/")+"/"),Sa(l,e,n,"",function(c){return c})):l!=null&&(fc(l)&&(l=Dy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(xo,"$&/")+"/")+s)),e.push(l)),1;s=0;var r=a===""?".":a+":";if(To(t))for(var u=0;u<t.length;u++)a=t[u],i=r+br(a,u),s+=Sa(a,e,n,i,l);else if(u=xy(t),typeof u=="function")for(t=u.call(t),u=0;!(a=t.next()).done;)a=a.value,i=r+br(a,u++),s+=Sa(a,e,n,i,l);else if(i==="object"){if(typeof t.then=="function")return Sa(Cy(t),e,n,a,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Mi(t,e,n){if(t==null)return t;var a=[],l=0;return Sa(t,a,"","",function(i){return e.call(n,i,l++)}),a}function Oy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Do=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ry={map:Mi,forEach:function(t,e,n){Mi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mi(t,function(){e++}),e},toArray:function(t){return Mi(t,function(e){return e})||[]},only:function(t){if(!fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Activity=Ty;L.Children=Ry;L.Component=ll;L.Fragment=yy;L.Profiler=vy;L.PureComponent=uc;L.StrictMode=py;L.Suspense=Ay;L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt;L.__COMPILER_RUNTIME={__proto__:null,c:function(t){return rt.H.useMemoCache(t)}};L.cache=function(t){return function(){return t.apply(null,arguments)}};L.cacheSignal=function(){return null};L.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var a=Cd({},t.props),l=t.key;if(e!=null)for(i in e.key!==void 0&&(l=""+e.key),e)!_d.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(a[i]=e[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var s=Array(i),r=0;r<i;r++)s[r]=arguments[r+2];a.children=s}return oc(t.type,l,a)};L.createContext=function(t){return t={$$typeof:Sy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:by,_context:t},t};L.createElement=function(t,e,n){var a,l={},i=null;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)_d.call(e,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(l[a]=e[a]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var r=Array(s),u=0;u<s;u++)r[u]=arguments[u+2];l.children=r}if(t&&t.defaultProps)for(a in s=t.defaultProps,s)l[a]===void 0&&(l[a]=s[a]);return oc(t,i,l)};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Ey,render:t}};L.isValidElement=fc;L.lazy=function(t){return{$$typeof:Dd,_payload:{_status:-1,_result:t},_init:Oy}};L.memo=function(t,e){return{$$typeof:wy,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=rt.T,n={};rt.T=n;try{var a=t(),l=rt.S;l!==null&&l(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(su,Do)}catch(i){Do(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),rt.T=e}};L.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()};L.use=function(t){return rt.H.use(t)};L.useActionState=function(t,e,n){return rt.H.useActionState(t,e,n)};L.useCallback=function(t,e){return rt.H.useCallback(t,e)};L.useContext=function(t){return rt.H.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t,e){return rt.H.useDeferredValue(t,e)};L.useEffect=function(t,e){return rt.H.useEffect(t,e)};L.useEffectEvent=function(t){return rt.H.useEffectEvent(t)};L.useId=function(){return rt.H.useId()};L.useImperativeHandle=function(t,e,n){return rt.H.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return rt.H.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return rt.H.useLayoutEffect(t,e)};L.useMemo=function(t,e){return rt.H.useMemo(t,e)};L.useOptimistic=function(t,e){return rt.H.useOptimistic(t,e)};L.useReducer=function(t,e,n){return rt.H.useReducer(t,e,n)};L.useRef=function(t){return rt.H.useRef(t)};L.useState=function(t){return rt.H.useState(t)};L.useSyncExternalStore=function(t,e,n){return rt.H.useSyncExternalStore(t,e,n)};L.useTransition=function(){return rt.H.useTransition()};L.version="19.2.0";xd.exports=L;var E=xd.exports;const at=Ad(E);var Md={exports:{}},Ks={},zd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,z){var j=C.length;C.push(z);t:for(;0<j;){var Z=j-1>>>1,tt=C[Z];if(0<l(tt,z))C[Z]=z,C[j]=tt,j=Z;else break t}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var z=C[0],j=C.pop();if(j!==z){C[0]=j;t:for(var Z=0,tt=C.length,we=tt>>>1;Z<we;){var jt=2*(Z+1)-1,Wt=C[jt],M=jt+1,H=C[M];if(0>l(Wt,j))M<tt&&0>l(H,Wt)?(C[Z]=H,C[M]=j,Z=M):(C[Z]=Wt,C[jt]=j,Z=jt);else if(M<tt&&0>l(H,j))C[Z]=H,C[M]=j,Z=M;else break t}}return z}function l(C,z){var j=C.sortIndex-z.sortIndex;return j!==0?j:C.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,r=s.now();t.unstable_now=function(){return s.now()-r}}var u=[],c=[],h=1,d=null,o=3,p=!1,S=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(C){for(var z=n(c);z!==null;){if(z.callback===null)a(c);else if(z.startTime<=C)a(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function A(C){if(v=!1,b(C),!S)if(n(u)!==null)S=!0,D||(D=!0,dt());else{var z=n(c);z!==null&&$t(A,z.startTime-C)}}var D=!1,T=-1,N=5,R=-1;function _(){return x?!0:!(t.unstable_now()-R<N)}function k(){if(x=!1,D){var C=t.unstable_now();R=C;var z=!0;try{t:{S=!1,v&&(v=!1,f(T),T=-1),p=!0;var j=o;try{e:{for(b(C),d=n(u);d!==null&&!(d.expirationTime>C&&_());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,o=d.priorityLevel;var tt=Z(d.expirationTime<=C);if(C=t.unstable_now(),typeof tt=="function"){d.callback=tt,b(C),z=!0;break e}d===n(u)&&a(u),b(C)}else a(u);d=n(u)}if(d!==null)z=!0;else{var we=n(c);we!==null&&$t(A,we.startTime-C),z=!1}}break t}finally{d=null,o=j,p=!1}z=void 0}}finally{z?dt():D=!1}}}var dt;if(typeof y=="function")dt=function(){y(k)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,It=Nt.port2;Nt.port1.onmessage=k,dt=function(){It.postMessage(null)}}else dt=function(){m(k,0)};function $t(C,z){T=m(function(){C(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_next=function(C){switch(o){case 1:case 2:case 3:var z=3;break;default:z=o}var j=o;o=z;try{return C()}finally{o=j}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(C,z){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var j=o;o=C;try{return z()}finally{o=j}},t.unstable_scheduleCallback=function(C,z,j){var Z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Z+j:Z):j=Z,C){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=j+tt,C={id:h++,callback:z,priorityLevel:C,startTime:j,expirationTime:tt,sortIndex:-1},j>Z?(C.sortIndex=j,e(c,C),n(u)===null&&C===n(c)&&(v?(f(T),T=-1):v=!0,$t(A,j-Z))):(C.sortIndex=tt,e(u,C),S||p||(S=!0,D||(D=!0,dt()))),C},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(C){var z=o;return function(){var j=o;o=z;try{return C.apply(this,arguments)}finally{o=j}}}})(Ud);zd.exports=Ud;var _y=zd.exports,jd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=E;function Ld(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mn(){}var Yt={d:{f:mn,r:function(){throw Error(Ld(522))},D:mn,C:mn,L:mn,m:mn,X:mn,S:mn,M:mn},p:0,findDOMNode:null},zy=Symbol.for("react.portal");function Uy(t,e,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zy,key:a==null?null:""+a,children:t,containerInfo:e,implementation:n}}var Ml=My.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Js(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yt;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Ld(299));return Uy(t,e,null,n)};Gt.flushSync=function(t){var e=Ml.T,n=Yt.p;try{if(Ml.T=null,Yt.p=2,t)return t()}finally{Ml.T=e,Yt.p=n,Yt.d.f()}};Gt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Yt.d.C(t,e))};Gt.prefetchDNS=function(t){typeof t=="string"&&Yt.d.D(t)};Gt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,a=Js(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Yt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:a,integrity:l,fetchPriority:i}):n==="script"&&Yt.d.X(t,{crossOrigin:a,integrity:l,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Gt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Js(e.as,e.crossOrigin);Yt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Yt.d.M(t)};Gt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,a=Js(n,e.crossOrigin);Yt.d.L(t,n,{crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Gt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Js(e.as,e.crossOrigin);Yt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Yt.d.m(t)};Gt.requestFormReset=function(t){Yt.d.r(t)};Gt.unstable_batchedUpdates=function(t,e){return t(e)};Gt.useFormState=function(t,e,n){return Ml.H.useFormState(t,e,n)};Gt.useFormStatus=function(){return Ml.H.useHostTransitionStatus()};Gt.version="19.2.0";function Id(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Id)}catch(t){console.error(t)}}Id(),jd.exports=Gt;var Fn=jd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=_y,Hd=E,jy=Fn;function w(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bd(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function No(t){if(hi(t)!==t)throw Error(w(188))}function Ly(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return No(l),t;if(i===a)return No(l),e;i=i.sibling}throw Error(w(188))}if(n.return!==a.return)n=l,a=i;else{for(var s=!1,r=l.child;r;){if(r===n){s=!0,n=l,a=i;break}if(r===a){s=!0,a=l,n=i;break}r=r.sibling}if(!s){for(r=i.child;r;){if(r===n){s=!0,n=i,a=l;break}if(r===a){s=!0,a=i,n=l;break}r=r.sibling}if(!s)throw Error(w(189))}}if(n.alternate!==a)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function kd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=kd(t),e!==null)return e;t=t.sibling}return null}var ut=Object.assign,Iy=Symbol.for("react.element"),zi=Symbol.for("react.transitional.element"),Nl=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),ru=Symbol.for("react.profiler"),Xd=Symbol.for("react.consumer"),Je=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),uu=Symbol.for("react.suspense"),cu=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),ou=Symbol.for("react.activity"),Hy=Symbol.for("react.memo_cache_sentinel"),Co=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=Co&&t[Co]||t["@@iterator"],typeof t=="function"?t:null)}var Yy=Symbol.for("react.client.reference");function fu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Yy?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case ru:return"Profiler";case qd:return"StrictMode";case uu:return"Suspense";case cu:return"SuspenseList";case ou:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Nl:return"Portal";case Je:return t.displayName||"Context";case Xd:return(t._context.displayName||"Context")+".Consumer";case dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hc:return e=t.displayName||null,e!==null?e:fu(t.type)||"Memo";case pn:e=t._payload,t=t._init;try{return fu(t(e))}catch{}}return null}var Cl=Array.isArray,U=Hd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=jy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pn={pending:!1,data:null,method:null,action:null},du=[],Ta=-1;function je(t){return{current:t}}function Dt(t){0>Ta||(t.current=du[Ta],du[Ta]=null,Ta--)}function lt(t,e){Ta++,du[Ta]=t.current,t.current=e}var Ue=je(null),$l=je(null),On=je(null),fs=je(null);function ds(t,e){switch(lt(On,e),lt($l,t),lt(Ue,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jf(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jf(e),t=om(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Dt(Ue),lt(Ue,t)}function Qa(){Dt(Ue),Dt($l),Dt(On)}function hu(t){t.memoizedState!==null&&lt(fs,t);var e=Ue.current,n=om(e,t.type);e!==n&&(lt($l,t),lt(Ue,n))}function hs(t){$l.current===t&&(Dt(Ue),Dt($l)),fs.current===t&&(Dt(fs),ri._currentValue=Pn)}var Sr,Oo;function Kn(t){if(Sr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sr=e&&e[1]||"",Oo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+t+Oo}var Er=!1;function Ar(t,e){if(!t||Er)return"";Er=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var o=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){o=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){o=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&o&&typeof p.stack=="string")return[p.stack,o.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),s=i[0],r=i[1];if(s&&r){var u=s.split(`
`),c=r.split(`
`);for(l=a=0;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;for(;l<c.length&&!c[l].includes("DetermineComponentFrameRoot");)l++;if(a===u.length||l===c.length)for(a=u.length-1,l=c.length-1;1<=a&&0<=l&&u[a]!==c[l];)l--;for(;1<=a&&0<=l;a--,l--)if(u[a]!==c[l]){if(a!==1||l!==1)do if(a--,l--,0>l||u[a]!==c[l]){var h=`
`+u[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=l);break}}}finally{Er=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Kn(n):""}function Gy(t,e){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==e&&e!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Ar(t.type,!1);case 11:return Ar(t.type.render,!1);case 1:return Ar(t.type,!0);case 31:return Kn("Activity");default:return""}}function Ro(t){try{var e="",n=null;do e+=Gy(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var gu=Object.prototype.hasOwnProperty,gc=At.unstable_scheduleCallback,wr=At.unstable_cancelCallback,By=At.unstable_shouldYield,ky=At.unstable_requestPaint,ie=At.unstable_now,qy=At.unstable_getCurrentPriorityLevel,Vd=At.unstable_ImmediatePriority,Qd=At.unstable_UserBlockingPriority,gs=At.unstable_NormalPriority,Xy=At.unstable_LowPriority,Zd=At.unstable_IdlePriority,Vy=At.log,Qy=At.unstable_setDisableYieldValue,gi=null,se=null;function Tn(t){if(typeof Vy=="function"&&Qy(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(gi,t)}catch{}}var re=Math.clz32?Math.clz32:Jy,Zy=Math.log,Ky=Math.LN2;function Jy(t){return t>>>=0,t===0?32:31-(Zy(t)/Ky|0)|0}var Ui=256,ji=262144,Li=4194304;function Jn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $s(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var r=a&134217727;return r!==0?(a=r&~i,a!==0?l=Jn(a):(s&=r,s!==0?l=Jn(s):n||(n=r&~t,n!==0&&(l=Jn(n))))):(r=a&~i,r!==0?l=Jn(r):s!==0?l=Jn(s):n||(n=a&~t,n!==0&&(l=Jn(n)))),l===0?0:e!==0&&e!==l&&!(e&i)&&(i=l&-l,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:l}function mi(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $y(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(){var t=Li;return Li<<=1,!(Li&62914560)&&(Li=4194304),t}function Tr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wy(t,e,n,a,l,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var h=31-re(n),d=1<<h;r[h]=0,u[h]=-1;var o=c[h];if(o!==null)for(c[h]=null,h=0;h<o.length;h++){var p=o[h];p!==null&&(p.lane&=-536870913)}n&=~d}a!==0&&Jd(t,a,0),i!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function Jd(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-re(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function $d(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-re(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Wd(t,e){var n=e&-e;return n=n&42?1:mc(n),n&(t.suspendedLanes|e)?0:n}function mc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Fd(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Em(t.type))}function _o(t,e){var n=Q.p;try{return Q.p=t,e()}finally{Q.p=n}}var qn=Math.random().toString(36).slice(2),_t="__reactFiber$"+qn,Kt="__reactProps$"+qn,il="__reactContainer$"+qn,mu="__reactEvents$"+qn,Fy="__reactListeners$"+qn,Py="__reactHandles$"+qn,Mo="__reactResources$"+qn,pi="__reactMarker$"+qn;function pc(t){delete t[_t],delete t[Kt],delete t[mu],delete t[Fy],delete t[Py]}function xa(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[il]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gf(t);t!==null;){if(n=t[_t])return n;t=Gf(t)}return e}t=n,n=t.parentNode}return null}function sl(t){if(t=t[_t]||t[il]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ol(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(w(33))}function La(t){var e=t[Mo];return e||(e=t[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[pi]=!0}var Pd=new Set,th={};function oa(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(th[t]=e,t=0;t<e.length;t++)Pd.add(e[t])}var tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Uo={};function ep(t){return gu.call(Uo,t)?!0:gu.call(zo,t)?!1:tp.test(t)?Uo[t]=!0:(zo[t]=!0,!1)}function Ji(t,e,n){if(ep(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ii(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ke(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function ge(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function np(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){if(!t._valueTracker){var e=eh(t)?"checked":"value";t._valueTracker=np(t,e,""+t[e])}}function nh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=eh(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ap=/[\n"\\]/g;function pe(t){return t.replace(ap,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pu(t,e,n,a,l,i,s,r){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ge(e)):t.value!==""+ge(e)&&(t.value=""+ge(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?vu(t,s,ge(e)):n!=null?vu(t,s,ge(n)):a!=null&&t.removeAttribute("value"),l==null&&i!=null&&(t.defaultChecked=!!i),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+ge(r):t.removeAttribute("name")}function ah(t,e,n,a,l,i,s,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){yu(t);return}n=n!=null?""+ge(n):"",e=e!=null?""+ge(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=r?t.checked:!!a,t.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),yu(t)}function vu(t,e,n){e==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ia(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+ge(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function lh(t,e,n){if(e!=null&&(e=""+ge(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ge(n):""}function ih(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(w(92));if(Cl(a)){if(1<a.length)throw Error(w(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=ge(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),yu(t)}function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||lp.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function sh(t,e,n){if(e!=null&&typeof e!="object")throw Error(w(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&jo(t,l,a)}else for(var i in e)e.hasOwnProperty(i)&&jo(t,i,e[i])}function vc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(t){return sp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $e(){}var bu=null;function bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Da=null,Ha=null;function Lo(t){var e=sl(t);if(e&&(t=e.stateNode)){var n=t[Kt]||null;t:switch(t=e.stateNode,e.type){case"input":if(pu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pe(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[Kt]||null;if(!l)throw Error(w(90));pu(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&nh(a)}break t;case"textarea":lh(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Ia(t,!!n.multiple,e,!1)}}}var xr=!1;function rh(t,e,n){if(xr)return t(e,n);xr=!0;try{var a=t(e);return a}finally{if(xr=!1,(Da!==null||Ha!==null)&&(ur(),Da&&(e=Da,t=Ha,Ha=Da=null,Lo(e),t)))for(e=0;e<t.length;e++)Lo(t[e])}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Kt]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=!1;if(en)try{var El={};Object.defineProperty(El,"passive",{get:function(){Su=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Su=!1}var xn=null,Sc=null,Wi=null;function uh(){if(Wi)return Wi;var t,e=Sc,n=e.length,a,l="value"in xn?xn.value:xn.textContent,i=l.length;for(t=0;t<n&&e[t]===l[t];t++);var s=n-t;for(a=1;a<=s&&e[n-a]===l[i-a];a++);return Wi=l.slice(t,1<a?1-a:void 0)}function Fi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Io(){return!1}function Jt(t){function e(n,a,l,i,s){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hi:Io,this.isPropagationStopped=Io,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Jt(fa),vi=ut({},fa,{view:0,detail:0}),rp=Jt(vi),Dr,Nr,Al,Fs=ut({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(Dr=t.screenX-Al.screenX,Nr=t.screenY-Al.screenY):Nr=Dr=0,Al=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),Ho=Jt(Fs),up=ut({},Fs,{dataTransfer:0}),cp=Jt(up),op=ut({},vi,{relatedTarget:0}),Cr=Jt(op),fp=ut({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=Jt(fp),hp=ut({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gp=Jt(hp),mp=ut({},fa,{data:0}),Yo=Jt(mp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vp[t])?!!e[t]:!1}function Ec(){return bp}var Sp=ut({},vi,{key:function(t){if(t.key){var e=yp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?Fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ep=Jt(Sp),Ap=ut({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Jt(Ap),wp=ut({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),Tp=Jt(wp),xp=ut({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dp=Jt(xp),Np=ut({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cp=Jt(Np),Op=ut({},fa,{newState:0,oldState:0}),Rp=Jt(Op),_p=[9,13,27,32],Ac=en&&"CompositionEvent"in window,zl=null;en&&"documentMode"in document&&(zl=document.documentMode);var Mp=en&&"TextEvent"in window&&!zl,ch=en&&(!Ac||zl&&8<zl&&11>=zl),Bo=" ",ko=!1;function oh(t,e){switch(t){case"keyup":return _p.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function zp(t,e){switch(t){case"compositionend":return fh(e);case"keypress":return e.which!==32?null:(ko=!0,Bo);case"textInput":return t=e.data,t===Bo&&ko?null:t;default:return null}}function Up(t,e){if(Na)return t==="compositionend"||!Ac&&oh(t,e)?(t=uh(),Wi=Sc=xn=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ch&&e.locale!=="ko"?null:e.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jp[t.type]:e==="textarea"}function dh(t,e,n,a){Da?Ha?Ha.push(a):Ha=[a]:Da=a,e=zs(e,"onChange"),0<e.length&&(n=new Ws("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var Ul=null,Fl=null;function Lp(t){rm(t,0)}function Ps(t){var e=Ol(t);if(nh(e))return t}function Xo(t,e){if(t==="change")return e}var hh=!1;if(en){var Or;if(en){var Rr="oninput"in document;if(!Rr){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),Rr=typeof Vo.oninput=="function"}Or=Rr}else Or=!1;hh=Or&&(!document.documentMode||9<document.documentMode)}function Qo(){Ul&&(Ul.detachEvent("onpropertychange",gh),Fl=Ul=null)}function gh(t){if(t.propertyName==="value"&&Ps(Fl)){var e=[];dh(e,Fl,t,bc(t)),rh(Lp,e)}}function Ip(t,e,n){t==="focusin"?(Qo(),Ul=e,Fl=n,Ul.attachEvent("onpropertychange",gh)):t==="focusout"&&Qo()}function Hp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ps(Fl)}function Yp(t,e){if(t==="click")return Ps(e)}function Gp(t,e){if(t==="input"||t==="change")return Ps(e)}function Bp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ce=typeof Object.is=="function"?Object.is:Bp;function Pl(t,e){if(ce(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!gu.call(e,l)||!ce(t[l],e[l]))return!1}return!0}function Zo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ko(t,e){var n=Zo(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Zo(n)}}function mh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ms(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ms(t.document)}return e}function wc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var kp=en&&"documentMode"in document&&11>=document.documentMode,Ca=null,Eu=null,jl=null,Au=!1;function Jo(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||Ca==null||Ca!==ms(a)||(a=Ca,"selectionStart"in a&&wc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jl&&Pl(jl,a)||(jl=a,a=zs(Eu,"onSelect"),0<a.length&&(e=new Ws("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=Ca)))}function Zn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},_r={},ph={};en&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function da(t){if(_r[t])return _r[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ph)return _r[t]=e[n];return t}var vh=da("animationend"),bh=da("animationiteration"),Sh=da("animationstart"),qp=da("transitionrun"),Xp=da("transitionstart"),Vp=da("transitioncancel"),Eh=da("transitionend"),Ah=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function Ne(t,e){Ah.set(t,e),oa(e,[t])}var ys=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},de=[],Ra=0,Tc=0;function tr(){for(var t=Ra,e=Tc=Ra=0;e<t;){var n=de[e];de[e++]=null;var a=de[e];de[e++]=null;var l=de[e];de[e++]=null;var i=de[e];if(de[e++]=null,a!==null&&l!==null){var s=a.pending;s===null?l.next=l:(l.next=s.next,s.next=l),a.pending=l}i!==0&&wh(n,l,i)}}function er(t,e,n,a){de[Ra++]=t,de[Ra++]=e,de[Ra++]=n,de[Ra++]=a,Tc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function xc(t,e,n,a){return er(t,e,n,a),ps(t)}function ha(t,e){return er(t,null,null,e),ps(t)}function wh(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,i=t.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(l=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,l&&e!==null&&(l=31-re(n),t=i.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),i):null}function ps(t){if(50<Xl)throw Xl=0,Xu=null,Error(w(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var _a={};function Qp(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ae(t,e,n,a){return new Qp(t,e,n,a)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fe(t,e){var n=t.alternate;return n===null?(n=ae(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Th(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Pi(t,e,n,a,l,i){var s=0;if(a=t,typeof t=="function")Dc(t)&&(s=1);else if(typeof t=="string")s=W0(t,n,Ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ou:return t=ae(31,n,e,l),t.elementType=ou,t.lanes=i,t;case wa:return ta(n.children,l,i,e);case qd:s=8,l|=24;break;case ru:return t=ae(12,n,e,l|2),t.elementType=ru,t.lanes=i,t;case uu:return t=ae(13,n,e,l),t.elementType=uu,t.lanes=i,t;case cu:return t=ae(19,n,e,l),t.elementType=cu,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Je:s=10;break t;case Xd:s=9;break t;case dc:s=11;break t;case hc:s=14;break t;case pn:s=16,a=null;break t}s=29,n=Error(w(130,t===null?"null":typeof t,"")),a=null}return e=ae(s,n,e,l),e.elementType=t,e.type=a,e.lanes=i,e}function ta(t,e,n,a){return t=ae(7,t,a,e),t.lanes=n,t}function Mr(t,e,n){return t=ae(6,t,null,e),t.lanes=n,t}function xh(t){var e=ae(18,null,null,0);return e.stateNode=t,e}function zr(t,e,n){return e=ae(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var $o=new WeakMap;function ve(t,e){if(typeof t=="object"&&t!==null){var n=$o.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ro(e)},$o.set(t,e),e)}return{value:t,source:e,stack:Ro(e)}}var Ma=[],za=0,vs=null,ti=0,me=[],ye=0,Hn=null,_e=1,Me="";function Ze(t,e){Ma[za++]=ti,Ma[za++]=vs,vs=t,ti=e}function Dh(t,e,n){me[ye++]=_e,me[ye++]=Me,me[ye++]=Hn,Hn=t;var a=_e;t=Me;var l=32-re(a)-1;a&=~(1<<l),n+=1;var i=32-re(e)+l;if(30<i){var s=l-l%5;i=(a&(1<<s)-1).toString(32),a>>=s,l-=s,_e=1<<32-re(e)+l|n<<l|a,Me=i+t}else _e=1<<i|n<<l|a,Me=t}function Nc(t){t.return!==null&&(Ze(t,1),Dh(t,1,0))}function Cc(t){for(;t===vs;)vs=Ma[--za],Ma[za]=null,ti=Ma[--za],Ma[za]=null;for(;t===Hn;)Hn=me[--ye],me[ye]=null,Me=me[--ye],me[ye]=null,_e=me[--ye],me[ye]=null}function Nh(t,e){me[ye++]=_e,me[ye++]=Me,me[ye++]=Hn,_e=e.id,Me=e.overflow,Hn=t}var Mt=null,st=null,X=!1,Rn=null,be=!1,Tu=Error(w(519));function Yn(t){var e=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ei(ve(e,t)),Tu}function Wo(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[_t]=t,e[Kt]=a,n){case"dialog":G("cancel",e),G("close",e);break;case"iframe":case"object":case"embed":G("load",e);break;case"video":case"audio":for(n=0;n<ii.length;n++)G(ii[n],e);break;case"source":G("error",e);break;case"img":case"image":case"link":G("error",e),G("load",e);break;case"details":G("toggle",e);break;case"input":G("invalid",e),ah(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":G("invalid",e);break;case"textarea":G("invalid",e),ih(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||cm(e.textContent,n)?(a.popover!=null&&(G("beforetoggle",e),G("toggle",e)),a.onScroll!=null&&G("scroll",e),a.onScrollEnd!=null&&G("scrollend",e),a.onClick!=null&&(e.onclick=$e),e=!0):e=!1,e||Yn(t,!0)}function Fo(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:be=!1;return;case 27:case 3:be=!0;return;default:Mt=Mt.return}}function va(t){if(t!==Mt)return!1;if(!X)return Fo(t),X=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ju(t.type,t.memoizedProps)),n=!n),n&&st&&Yn(t),Fo(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));st=Yf(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));st=Yf(t)}else e===27?(e=st,Xn(t.type)?(t=Pu,Pu=null,st=t):st=e):st=Mt?Ee(t.stateNode.nextSibling):null;return!0}function ia(){st=Mt=null,X=!1}function Ur(){var t=Rn;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),Rn=null),t}function ei(t){Rn===null?Rn=[t]:Rn.push(t)}var xu=je(null),ga=null,We=null;function Sn(t,e,n){lt(xu,e._currentValue),e._currentValue=n}function Pe(t){t._currentValue=xu.current,Dt(xu)}function Du(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function Nu(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){var s=l.child;i=i.firstContext;t:for(;i!==null;){var r=i;i=l;for(var u=0;u<e.length;u++)if(r.context===e[u]){i.lanes|=n,r=i.alternate,r!==null&&(r.lanes|=n),Du(i.return,n,t),a||(s=null);break t}i=r.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(w(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Du(s,n,t),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===t){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function rl(t,e,n,a){t=null;for(var l=e,i=!1;l!==null;){if(!i){if(l.flags&524288)i=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(w(387));if(s=s.memoizedProps,s!==null){var r=l.type;ce(l.pendingProps.value,s.value)||(t!==null?t.push(r):t=[r])}}else if(l===fs.current){if(s=l.alternate,s===null)throw Error(w(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(ri):t=[ri])}l=l.return}t!==null&&Nu(e,t,n,a),e.flags|=262144}function bs(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ga=t,We=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zt(t){return Ch(ga,t)}function Yi(t,e){return ga===null&&sa(t),Ch(t,e)}function Ch(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},We===null){if(t===null)throw Error(w(308));We=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else We=We.next=e;return n}var Zp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Kp=At.unstable_scheduleCallback,Jp=At.unstable_NormalPriority,pt={$$typeof:Je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Zp,data:new Map,refCount:0}}function bi(t){t.refCount--,t.refCount===0&&Kp(Jp,function(){t.controller.abort()})}var Ll=null,Cu=0,Ja=0,Ya=null;function $p(t,e){if(Ll===null){var n=Ll=[];Cu=0,Ja=to(),Ya={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Cu++,e.then(Po,Po),e}function Po(){if(--Cu===0&&Ll!==null){Ya!==null&&(Ya.status="fulfilled");var t=Ll;Ll=null,Ja=0,Ya=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Wp(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var tf=U.S;U.S=function(t,e){kg=ie(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&$p(t,e),tf!==null&&tf(t,e)};var ea=je(null);function Rc(){var t=ea.current;return t!==null?t:nt.pooledCache}function ts(t,e){e===null?lt(ea,ea.current):lt(ea,e.pool)}function Oh(){var t=Rc();return t===null?null:{parent:pt._currentValue,pool:t}}var ul=Error(w(460)),_c=Error(w(474)),nr=Error(w(542)),Ss={then:function(){}};function ef(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then($e,$e),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,af(t),t;default:if(typeof e.status=="string")e.then($e,$e);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(w(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,af(t),t}throw na=e,ul}}function $n(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(na=n,ul):n}}var na=null;function nf(){if(na===null)throw Error(w(459));var t=na;return na=null,t}function af(t){if(t===ul||t===nr)throw Error(w(483))}var Ga=null,ni=0;function Gi(t){var e=ni;return ni+=1,Ga===null&&(Ga=[]),Rh(Ga,t,e)}function wl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Bi(t,e){throw e.$$typeof===Iy?Error(w(525)):(t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function _h(t){function e(m,f){if(t){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function a(m){for(var f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function l(m,f){return m=Fe(m,f),m.index=0,m.sibling=null,m}function i(m,f,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=67108866,f):y):(m.flags|=67108866,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function r(m,f,y,b){return f===null||f.tag!==6?(f=Mr(y,m.mode,b),f.return=m,f):(f=l(f,y),f.return=m,f)}function u(m,f,y,b){var A=y.type;return A===wa?h(m,f,y.props.children,b,y.key):f!==null&&(f.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pn&&$n(A)===f.type)?(f=l(f,y.props),wl(f,y),f.return=m,f):(f=Pi(y.type,y.key,y.props,null,m.mode,b),wl(f,y),f.return=m,f)}function c(m,f,y,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=zr(y,m.mode,b),f.return=m,f):(f=l(f,y.children||[]),f.return=m,f)}function h(m,f,y,b,A){return f===null||f.tag!==7?(f=ta(y,m.mode,b,A),f.return=m,f):(f=l(f,y),f.return=m,f)}function d(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=Mr(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zi:return y=Pi(f.type,f.key,f.props,null,m.mode,y),wl(y,f),y.return=m,y;case Nl:return f=zr(f,m.mode,y),f.return=m,f;case pn:return f=$n(f),d(m,f,y)}if(Cl(f)||Sl(f))return f=ta(f,m.mode,y,null),f.return=m,f;if(typeof f.then=="function")return d(m,Gi(f),y);if(f.$$typeof===Je)return d(m,Yi(m,f),y);Bi(m,f)}return null}function o(m,f,y,b){var A=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return A!==null?null:r(m,f,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zi:return y.key===A?u(m,f,y,b):null;case Nl:return y.key===A?c(m,f,y,b):null;case pn:return y=$n(y),o(m,f,y,b)}if(Cl(y)||Sl(y))return A!==null?null:h(m,f,y,b,null);if(typeof y.then=="function")return o(m,f,Gi(y),b);if(y.$$typeof===Je)return o(m,f,Yi(m,y),b);Bi(m,y)}return null}function p(m,f,y,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return m=m.get(y)||null,r(f,m,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:return m=m.get(b.key===null?y:b.key)||null,u(f,m,b,A);case Nl:return m=m.get(b.key===null?y:b.key)||null,c(f,m,b,A);case pn:return b=$n(b),p(m,f,y,b,A)}if(Cl(b)||Sl(b))return m=m.get(y)||null,h(f,m,b,A,null);if(typeof b.then=="function")return p(m,f,y,Gi(b),A);if(b.$$typeof===Je)return p(m,f,y,Yi(f,b),A);Bi(f,b)}return null}function S(m,f,y,b){for(var A=null,D=null,T=f,N=f=0,R=null;T!==null&&N<y.length;N++){T.index>N?(R=T,T=null):R=T.sibling;var _=o(m,T,y[N],b);if(_===null){T===null&&(T=R);break}t&&T&&_.alternate===null&&e(m,T),f=i(_,f,N),D===null?A=_:D.sibling=_,D=_,T=R}if(N===y.length)return n(m,T),X&&Ze(m,N),A;if(T===null){for(;N<y.length;N++)T=d(m,y[N],b),T!==null&&(f=i(T,f,N),D===null?A=T:D.sibling=T,D=T);return X&&Ze(m,N),A}for(T=a(T);N<y.length;N++)R=p(T,m,N,y[N],b),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?N:R.key),f=i(R,f,N),D===null?A=R:D.sibling=R,D=R);return t&&T.forEach(function(k){return e(m,k)}),X&&Ze(m,N),A}function v(m,f,y,b){if(y==null)throw Error(w(151));for(var A=null,D=null,T=f,N=f=0,R=null,_=y.next();T!==null&&!_.done;N++,_=y.next()){T.index>N?(R=T,T=null):R=T.sibling;var k=o(m,T,_.value,b);if(k===null){T===null&&(T=R);break}t&&T&&k.alternate===null&&e(m,T),f=i(k,f,N),D===null?A=k:D.sibling=k,D=k,T=R}if(_.done)return n(m,T),X&&Ze(m,N),A;if(T===null){for(;!_.done;N++,_=y.next())_=d(m,_.value,b),_!==null&&(f=i(_,f,N),D===null?A=_:D.sibling=_,D=_);return X&&Ze(m,N),A}for(T=a(T);!_.done;N++,_=y.next())_=p(T,m,N,_.value,b),_!==null&&(t&&_.alternate!==null&&T.delete(_.key===null?N:_.key),f=i(_,f,N),D===null?A=_:D.sibling=_,D=_);return t&&T.forEach(function(dt){return e(m,dt)}),X&&Ze(m,N),A}function x(m,f,y,b){if(typeof y=="object"&&y!==null&&y.type===wa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case zi:t:{for(var A=y.key;f!==null;){if(f.key===A){if(A=y.type,A===wa){if(f.tag===7){n(m,f.sibling),b=l(f,y.props.children),b.return=m,m=b;break t}}else if(f.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pn&&$n(A)===f.type){n(m,f.sibling),b=l(f,y.props),wl(b,y),b.return=m,m=b;break t}n(m,f);break}else e(m,f);f=f.sibling}y.type===wa?(b=ta(y.props.children,m.mode,b,y.key),b.return=m,m=b):(b=Pi(y.type,y.key,y.props,null,m.mode,b),wl(b,y),b.return=m,m=b)}return s(m);case Nl:t:{for(A=y.key;f!==null;){if(f.key===A)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),b=l(f,y.children||[]),b.return=m,m=b;break t}else{n(m,f);break}else e(m,f);f=f.sibling}b=zr(y,m.mode,b),b.return=m,m=b}return s(m);case pn:return y=$n(y),x(m,f,y,b)}if(Cl(y))return S(m,f,y,b);if(Sl(y)){if(A=Sl(y),typeof A!="function")throw Error(w(150));return y=A.call(y),v(m,f,y,b)}if(typeof y.then=="function")return x(m,f,Gi(y),b);if(y.$$typeof===Je)return x(m,f,Yi(m,y),b);Bi(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),b=l(f,y),b.return=m,m=b):(n(m,f),b=Mr(y,m.mode,b),b.return=m,m=b),s(m)):n(m,f)}return function(m,f,y,b){try{ni=0;var A=x(m,f,y,b);return Ga=null,A}catch(T){if(T===ul||T===nr)throw T;var D=ae(29,T,null,m.mode);return D.lanes=b,D.return=m,D}finally{}}}var ra=_h(!0),Mh=_h(!1),vn=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ou(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _n(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,V&2){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=ps(t),wh(t,null,n),e}return er(t,a,e,n),ps(t)}function Il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,$d(t,n)}}function jr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?l=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?l=i=e:i=i.next=e}else l=i=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ru=!1;function Hl(){if(Ru){var t=Ya;if(t!==null)throw t}}function Yl(t,e,n,a){Ru=!1;var l=t.updateQueue;vn=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var u=r,c=u.next;u.next=null,s===null?i=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==s&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=u))}if(i!==null){var d=l.baseState;s=0,h=c=u=null,r=i;do{var o=r.lane&-536870913,p=o!==r.lane;if(p?(q&o)===o:(a&o)===o){o!==0&&o===Ja&&(Ru=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});t:{var S=t,v=r;o=e;var x=n;switch(v.tag){case 1:if(S=v.payload,typeof S=="function"){d=S.call(x,d,o);break t}d=S;break t;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,o=typeof S=="function"?S.call(x,d,o):S,o==null)break t;d=ut({},d,o);break t;case 2:vn=!0}}o=r.callback,o!==null&&(t.flags|=64,p&&(t.flags|=8192),p=l.callbacks,p===null?l.callbacks=[o]:p.push(o))}else p={lane:o,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=p,u=d):h=h.next=p,s|=o;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;p=r,r=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);h===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=h,i===null&&(l.shared.lanes=0),Bn|=s,t.lanes=s,t.memoizedState=d}}function zh(t,e){if(typeof t!="function")throw Error(w(191,t));t.call(e)}function Uh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)zh(n[t],e)}var $a=je(null),Es=je(0);function lf(t,e){t=sn,lt(Es,t),lt($a,e),sn=t|e.baseLanes}function _u(){lt(Es,sn),lt($a,$a.current)}function zc(){sn=Es.current,Dt($a),Dt(Es)}var oe=je(null),Se=null;function En(t){var e=t.alternate;lt(ht,ht.current&1),lt(oe,t),Se===null&&(e===null||$a.current!==null||e.memoizedState!==null)&&(Se=t)}function Mu(t){lt(ht,ht.current),lt(oe,t),Se===null&&(Se=t)}function jh(t){t.tag===22?(lt(ht,ht.current),lt(oe,t),Se===null&&(Se=t)):An()}function An(){lt(ht,ht.current),lt(oe,oe.current)}function ne(t){Dt(oe),Se===t&&(Se=null),Dt(ht)}var ht=je(0);function As(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Wu(n)||Fu(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nn=0,I=null,P=null,mt=null,ws=!1,Ba=!1,ua=!1,Ts=0,ai=0,ka=null,Fp=0;function ot(){throw Error(w(321))}function Uc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ce(t[n],e[n]))return!1;return!0}function jc(t,e,n,a,l,i){return nn=i,I=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U.H=t===null||t.memoizedState===null?dg:Qc,ua=!1,i=n(a,l),ua=!1,Ba&&(i=Ih(e,n,a,l)),Lh(t),i}function Lh(t){U.H=li;var e=P!==null&&P.next!==null;if(nn=0,mt=P=I=null,ws=!1,ai=0,ka=null,e)throw Error(w(300));t===null||vt||(t=t.dependencies,t!==null&&bs(t)&&(vt=!0))}function Ih(t,e,n,a){I=t;var l=0;do{if(Ba&&(ka=null),ai=0,Ba=!1,25<=l)throw Error(w(301));if(l+=1,mt=P=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}U.H=hg,i=e(n,a)}while(Ba);return i}function Pp(){var t=U.H,e=t.useState()[0];return e=typeof e.then=="function"?Si(e):e,t=t.useState()[0],(P!==null?P.memoizedState:null)!==t&&(I.flags|=1024),e}function Lc(){var t=Ts!==0;return Ts=0,t}function Ic(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Hc(t){if(ws){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ws=!1}nn=0,mt=P=I=null,Ba=!1,ai=Ts=0,ka=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?I.memoizedState=mt=t:mt=mt.next=t,mt}function gt(){if(P===null){var t=I.alternate;t=t!==null?t.memoizedState:null}else t=P.next;var e=mt===null?I.memoizedState:mt.next;if(e!==null)mt=e,P=t;else{if(t===null)throw I.alternate===null?Error(w(467)):Error(w(310));P=t,t={memoizedState:P.memoizedState,baseState:P.baseState,baseQueue:P.baseQueue,queue:P.queue,next:null},mt===null?I.memoizedState=mt=t:mt=mt.next=t}return mt}function ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Si(t){var e=ai;return ai+=1,ka===null&&(ka=[]),t=Rh(ka,t,e),e=I,(mt===null?e.memoizedState:mt.next)===null&&(e=e.alternate,U.H=e===null||e.memoizedState===null?dg:Qc),t}function lr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Si(t);if(t.$$typeof===Je)return zt(t)}throw Error(w(438,String(t)))}function Yc(t){var e=null,n=I.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=I.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ar(),I.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=Hy;return e.index++,n}function an(t,e){return typeof e=="function"?e(t):e}function es(t){var e=gt();return Gc(e,P,t)}function Gc(t,e,n){var a=t.queue;if(a===null)throw Error(w(311));a.lastRenderedReducer=n;var l=t.baseQueue,i=a.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}e.baseQueue=l=i,a.pending=null}if(i=t.baseState,l===null)t.memoizedState=i;else{e=l.next;var r=s=null,u=null,c=e,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(q&d)===d:(nn&d)===d){var o=c.revertLane;if(o===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ja&&(h=!0);else if((nn&o)===o){c=c.next,o===Ja&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=d,s=i):u=u.next=d,I.lanes|=o,Bn|=o;d=c.action,ua&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else o={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=o,s=i):u=u.next=o,I.lanes|=d,Bn|=d;c=c.next}while(c!==null&&c!==e);if(u===null?s=i:u.next=r,!ce(i,t.memoizedState)&&(vt=!0,h&&(n=Ya,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=u,a.lastRenderedState=i}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Lr(t){var e=gt(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,i=e.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do i=t(i,s.action),s=s.next;while(s!==l);ce(i,e.memoizedState)||(vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,a]}function Hh(t,e,n){var a=I,l=gt(),i=X;if(i){if(n===void 0)throw Error(w(407));n=n()}else n=e();var s=!ce((P||l).memoizedState,n);if(s&&(l.memoizedState=n,vt=!0),l=l.queue,Bc(Bh.bind(null,a,l,t),[t]),l.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(a.flags|=2048,Wa(9,{destroy:void 0},Gh.bind(null,a,l,n,e),null),nt===null)throw Error(w(349));i||nn&127||Yh(a,e,n)}return n}function Yh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=I.updateQueue,e===null?(e=ar(),I.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gh(t,e,n,a){e.value=n,e.getSnapshot=a,kh(e)&&qh(t)}function Bh(t,e,n){return n(function(){kh(e)&&qh(t)})}function kh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ce(t,n)}catch{return!0}}function qh(t){var e=ha(t,2);e!==null&&Zt(e,t,2)}function zu(t){var e=Ht();if(typeof t=="function"){var n=t;if(t=n(),ua){Tn(!0);try{n()}finally{Tn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:t},e}function Xh(t,e,n,a){return t.baseState=n,Gc(t,P,typeof a=="function"?a:an)}function t0(t,e,n,a,l){if(sr(t))throw Error(w(485));if(t=e.action,t!==null){var i={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};U.T!==null?n(!0):i.isTransition=!1,a(i),n=e.pending,n===null?(i.next=e.pending=i,Vh(e,i)):(i.next=n.next,e.pending=n.next=i)}}function Vh(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var i=U.T,s={};U.T=s;try{var r=n(l,a),u=U.S;u!==null&&u(s,r),sf(t,e,r)}catch(c){Uu(t,e,c)}finally{i!==null&&s.types!==null&&(i.types=s.types),U.T=i}}else try{i=n(l,a),sf(t,e,i)}catch(c){Uu(t,e,c)}}function sf(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){rf(t,e,a)},function(a){return Uu(t,e,a)}):rf(t,e,n)}function rf(t,e,n){e.status="fulfilled",e.value=n,Qh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Vh(t,n)))}function Uu(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Qh(e),e=e.next;while(e!==a)}t.action=null}function Qh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zh(t,e){return e}function uf(t,e){if(X){var n=nt.formState;if(n!==null){t:{var a=I;if(X){if(st){e:{for(var l=st,i=be;l.nodeType!==8;){if(!i){l=null;break e}if(l=Ee(l.nextSibling),l===null){l=null;break e}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){st=Ee(l.nextSibling),a=l.data==="F!";break t}}Yn(a)}a=!1}a&&(e=n[0])}}return n=Ht(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:e},n.queue=a,n=cg.bind(null,I,a),a.dispatch=n,a=zu(!1),i=Vc.bind(null,I,!1,a.queue),a=Ht(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=t0.bind(null,I,l,i,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function cf(t){var e=gt();return Kh(e,P,t)}function Kh(t,e,n){if(e=Gc(t,e,Zh)[0],t=es(an)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Si(e)}catch(s){throw s===ul?nr:s}else a=e;e=gt();var l=e.queue,i=l.dispatch;return n!==e.memoizedState&&(I.flags|=2048,Wa(9,{destroy:void 0},e0.bind(null,l,n),null)),[a,i,t]}function e0(t,e){t.action=e}function of(t){var e=gt(),n=P;if(n!==null)return Kh(e,n,t);gt(),e=e.memoizedState,n=gt();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Wa(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=I.updateQueue,e===null&&(e=ar(),I.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Jh(){return gt().memoizedState}function ns(t,e,n,a){var l=Ht();I.flags|=t,l.memoizedState=Wa(1|e,{destroy:void 0},n,a===void 0?null:a)}function ir(t,e,n,a){var l=gt();a=a===void 0?null:a;var i=l.memoizedState.inst;P!==null&&a!==null&&Uc(a,P.memoizedState.deps)?l.memoizedState=Wa(e,i,n,a):(I.flags|=t,l.memoizedState=Wa(1|e,i,n,a))}function ff(t,e){ns(8390656,8,t,e)}function Bc(t,e){ir(2048,8,t,e)}function n0(t){I.flags|=4;var e=I.updateQueue;if(e===null)e=ar(),I.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function $h(t){var e=gt().memoizedState;return n0({ref:e,nextImpl:t}),function(){if(V&2)throw Error(w(440));return e.impl.apply(void 0,arguments)}}function Wh(t,e){return ir(4,2,t,e)}function Fh(t,e){return ir(4,4,t,e)}function Ph(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tg(t,e,n){n=n!=null?n.concat([t]):null,ir(4,4,Ph.bind(null,e,t),n)}function kc(){}function eg(t,e){var n=gt();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Uc(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function ng(t,e){var n=gt();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Uc(e,a[1]))return a[0];if(a=t(),ua){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[a,e],a}function qc(t,e,n){return n===void 0||nn&1073741824&&!(q&261930)?t.memoizedState=e:(t.memoizedState=n,t=Xg(),I.lanes|=t,Bn|=t,n)}function ag(t,e,n,a){return ce(n,e)?n:$a.current!==null?(t=qc(t,n,a),ce(t,e)||(vt=!0),t):!(nn&42)||nn&1073741824&&!(q&261930)?(vt=!0,t.memoizedState=n):(t=Xg(),I.lanes|=t,Bn|=t,e)}function lg(t,e,n,a,l){var i=Q.p;Q.p=i!==0&&8>i?i:8;var s=U.T,r={};U.T=r,Vc(t,!1,e,n);try{var u=l(),c=U.S;if(c!==null&&c(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=Wp(u,a);Gl(t,e,h,ue(t))}else Gl(t,e,a,ue(t))}catch(d){Gl(t,e,{then:function(){},status:"rejected",reason:d},ue())}finally{Q.p=i,s!==null&&r.types!==null&&(s.types=r.types),U.T=s}}function a0(){}function ju(t,e,n,a){if(t.tag!==5)throw Error(w(476));var l=ig(t).queue;lg(t,l,e,Pn,n===null?a0:function(){return sg(t),n(a)})}function ig(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Pn,baseState:Pn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:Pn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sg(t){var e=ig(t);e.next===null&&(e=t.alternate.memoizedState),Gl(t,e.next.queue,{},ue())}function Xc(){return zt(ri)}function rg(){return gt().memoizedState}function ug(){return gt().memoizedState}function l0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ue();t=_n(n);var a=Mn(e,t,n);a!==null&&(Zt(a,e,n),Il(a,e,n)),e={cache:Oc()},t.payload=e;return}e=e.return}}function i0(t,e,n){var a=ue();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sr(t)?og(e,n):(n=xc(t,e,n,a),n!==null&&(Zt(n,t,a),fg(n,e,a)))}function cg(t,e,n){var a=ue();Gl(t,e,n,a)}function Gl(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sr(t))og(e,l);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,r=i(s,n);if(l.hasEagerState=!0,l.eagerState=r,ce(r,s))return er(t,e,l,0),nt===null&&tr(),!1}catch{}finally{}if(n=xc(t,e,l,a),n!==null)return Zt(n,t,a),fg(n,e,a),!0}return!1}function Vc(t,e,n,a){if(a={lane:2,revertLane:to(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sr(t)){if(e)throw Error(w(479))}else e=xc(t,n,a,2),e!==null&&Zt(e,t,2)}function sr(t){var e=t.alternate;return t===I||e!==null&&e===I}function og(t,e){Ba=ws=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fg(t,e,n){if(n&4194048){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,$d(t,n)}}var li={readContext:zt,use:lr,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};li.useEffectEvent=ot;var dg={readContext:zt,use:lr,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:ff,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ns(4194308,4,Ph.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ns(4194308,4,t,e)},useInsertionEffect:function(t,e){ns(4,2,t,e)},useMemo:function(t,e){var n=Ht();e=e===void 0?null:e;var a=t();if(ua){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Ht();if(n!==void 0){var l=n(e);if(ua){Tn(!0);try{n(e)}finally{Tn(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=i0.bind(null,I,t),[a.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:function(t){t=zu(t);var e=t.queue,n=cg.bind(null,I,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kc,useDeferredValue:function(t,e){var n=Ht();return qc(n,t,e)},useTransition:function(){var t=zu(!1);return t=lg.bind(null,I,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=I,l=Ht();if(X){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),nt===null)throw Error(w(349));q&127||Yh(a,e,n)}l.memoizedState=n;var i={value:n,getSnapshot:e};return l.queue=i,ff(Bh.bind(null,a,i,t),[t]),a.flags|=2048,Wa(9,{destroy:void 0},Gh.bind(null,a,i,n,e),null),n},useId:function(){var t=Ht(),e=nt.identifierPrefix;if(X){var n=Me,a=_e;n=(a&~(1<<32-re(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ts++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Fp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Xc,useFormState:uf,useActionState:uf,useOptimistic:function(t){var e=Ht();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Vc.bind(null,I,!0,n),n.dispatch=e,[t,e]},useMemoCache:Yc,useCacheRefresh:function(){return Ht().memoizedState=l0.bind(null,I)},useEffectEvent:function(t){var e=Ht(),n={impl:t};return e.memoizedState=n,function(){if(V&2)throw Error(w(440));return n.impl.apply(void 0,arguments)}}},Qc={readContext:zt,use:lr,useCallback:eg,useContext:zt,useEffect:Bc,useImperativeHandle:tg,useInsertionEffect:Wh,useLayoutEffect:Fh,useMemo:ng,useReducer:es,useRef:Jh,useState:function(){return es(an)},useDebugValue:kc,useDeferredValue:function(t,e){var n=gt();return ag(n,P.memoizedState,t,e)},useTransition:function(){var t=es(an)[0],e=gt().memoizedState;return[typeof t=="boolean"?t:Si(t),e]},useSyncExternalStore:Hh,useId:rg,useHostTransitionStatus:Xc,useFormState:cf,useActionState:cf,useOptimistic:function(t,e){var n=gt();return Xh(n,P,t,e)},useMemoCache:Yc,useCacheRefresh:ug};Qc.useEffectEvent=$h;var hg={readContext:zt,use:lr,useCallback:eg,useContext:zt,useEffect:Bc,useImperativeHandle:tg,useInsertionEffect:Wh,useLayoutEffect:Fh,useMemo:ng,useReducer:Lr,useRef:Jh,useState:function(){return Lr(an)},useDebugValue:kc,useDeferredValue:function(t,e){var n=gt();return P===null?qc(n,t,e):ag(n,P.memoizedState,t,e)},useTransition:function(){var t=Lr(an)[0],e=gt().memoizedState;return[typeof t=="boolean"?t:Si(t),e]},useSyncExternalStore:Hh,useId:rg,useHostTransitionStatus:Xc,useFormState:of,useActionState:of,useOptimistic:function(t,e){var n=gt();return P!==null?Xh(n,P,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:ug};hg.useEffectEvent=$h;function Ir(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lu={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=ue(),l=_n(a);l.payload=e,n!=null&&(l.callback=n),e=Mn(t,l,a),e!==null&&(Zt(e,t,a),Il(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=ue(),l=_n(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Mn(t,l,a),e!==null&&(Zt(e,t,a),Il(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ue(),a=_n(n);a.tag=2,e!=null&&(a.callback=e),e=Mn(t,a,n),e!==null&&(Zt(e,t,n),Il(e,t,n))}};function df(t,e,n,a,l,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,s):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,a)||!Pl(l,i):!0}function hf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Lu.enqueueReplaceState(e,e.state,null)}function ca(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=ut({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function gg(t){ys(t)}function mg(t){console.error(t)}function yg(t){ys(t)}function xs(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function gf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Iu(t,e,n){return n=_n(n),n.tag=3,n.payload={element:null},n.callback=function(){xs(t,e)},n}function pg(t){return t=_n(t),t.tag=3,t}function vg(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var i=a.value;t.payload=function(){return l(i)},t.callback=function(){gf(e,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){gf(e,n,a),typeof l!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function s0(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&rl(e,n,l,!0),n=oe.current,n!==null){switch(n.tag){case 31:case 13:return Se===null?Rs():n.alternate===null&&ft===0&&(ft=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Ss?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),Kr(t,a,l)),!1;case 22:return n.flags|=65536,a===Ss?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),Kr(t,a,l)),!1}throw Error(w(435,n.tag))}return Kr(t,a,l),Rs(),!1}if(X)return e=oe.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==Tu&&(t=Error(w(422),{cause:a}),ei(ve(t,n)))):(a!==Tu&&(e=Error(w(423),{cause:a}),ei(ve(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=ve(a,n),l=Iu(t.stateNode,a,l),jr(t,l),ft!==4&&(ft=2)),!1;var i=Error(w(520),{cause:a});if(i=ve(i,n),ql===null?ql=[i]:ql.push(i),ft!==4&&(ft=2),e===null)return!0;a=ve(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Iu(n.stateNode,a,t),jr(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(zn===null||!zn.has(i))))return n.flags|=65536,l&=-l,n.lanes|=l,l=pg(l),vg(l,t,n,a),jr(n,l),!1}n=n.return}while(n!==null);return!1}var Zc=Error(w(461)),vt=!1;function Rt(t,e,n,a){e.child=t===null?Mh(e,null,n,a):ra(e,t.child,n,a)}function mf(t,e,n,a,l){n=n.render;var i=e.ref;if("ref"in a){var s={};for(var r in a)r!=="ref"&&(s[r]=a[r])}else s=a;return sa(e),a=jc(t,e,n,s,i,l),r=Lc(),t!==null&&!vt?(Ic(t,e,l),ln(t,e,l)):(X&&r&&Nc(e),e.flags|=1,Rt(t,e,a,l),e.child)}function yf(t,e,n,a,l){if(t===null){var i=n.type;return typeof i=="function"&&!Dc(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,bg(t,e,i,a,l)):(t=Pi(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Kc(t,l)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(s,a)&&t.ref===e.ref)return ln(t,e,l)}return e.flags|=1,t=Fe(i,a),t.ref=e.ref,t.return=e,e.child=t}function bg(t,e,n,a,l){if(t!==null){var i=t.memoizedProps;if(Pl(i,a)&&t.ref===e.ref)if(vt=!1,e.pendingProps=a=i,Kc(t,l))t.flags&131072&&(vt=!0);else return e.lanes=t.lanes,ln(t,e,l)}return Hu(t,e,n,a,l)}function Sg(t,e,n,a){var l=a.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~i}else a=0,e.child=null;return pf(t,e,i,n,a)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ts(e,i!==null?i.cachePool:null),i!==null?lf(e,i):_u(),jh(e);else return a=e.lanes=536870912,pf(t,e,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(ts(e,i.cachePool),lf(e,i),An(),e.memoizedState=null):(t!==null&&ts(e,null),_u(),An());return Rt(t,e,l,n),e.child}function Rl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function pf(t,e,n,a,l){var i=Rc();return i=i===null?null:{parent:pt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&ts(e,null),_u(),jh(e),t!==null&&rl(t,e,a,!0),e.childLanes=l,null}function as(t,e){return e=Ds({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function vf(t,e,n){return ra(e,t.child,null,n),t=as(e,e.pendingProps),t.flags|=2,ne(e),e.memoizedState=null,t}function r0(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(X){if(a.mode==="hidden")return t=as(e,a),e.lanes=536870912,Rl(null,t);if(Mu(e),(t=st)?(t=dm(t,be),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Hn!==null?{id:_e,overflow:Me}:null,retryLane:536870912,hydrationErrors:null},n=xh(t),n.return=e,e.child=n,Mt=e,st=null)):t=null,t===null)throw Yn(e);return e.lanes=536870912,null}return as(e,a)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(Mu(e),l)if(e.flags&256)e.flags&=-257,e=vf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(w(558));else if(vt||rl(t,e,n,!1),l=(n&t.childLanes)!==0,vt||l){if(a=nt,a!==null&&(s=Wd(a,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,ha(t,s),Zt(a,t,s),Zc;Rs(),e=vf(t,e,n)}else t=i.treeContext,st=Ee(s.nextSibling),Mt=e,X=!0,Rn=null,be=!1,t!==null&&Nh(e,t),e=as(e,a),e.flags|=4096;return e}return t=Fe(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ls(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(w(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hu(t,e,n,a,l){return sa(e),n=jc(t,e,n,a,void 0,l),a=Lc(),t!==null&&!vt?(Ic(t,e,l),ln(t,e,l)):(X&&a&&Nc(e),e.flags|=1,Rt(t,e,n,l),e.child)}function bf(t,e,n,a,l,i){return sa(e),e.updateQueue=null,n=Ih(e,a,n,l),Lh(t),a=Lc(),t!==null&&!vt?(Ic(t,e,i),ln(t,e,i)):(X&&a&&Nc(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Sf(t,e,n,a,l){if(sa(e),e.stateNode===null){var i=_a,s=n.contextType;typeof s=="object"&&s!==null&&(i=zt(s)),i=new n(a,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lu,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=a,i.state=e.memoizedState,i.refs={},Mc(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?zt(s):_a,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Ir(e,n,s,a),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Lu.enqueueReplaceState(i,i.state,null),Yl(e,a,i,l),Hl(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){i=e.stateNode;var r=e.memoizedProps,u=ca(n,r);i.props=u;var c=i.context,h=n.contextType;s=_a,typeof h=="object"&&h!==null&&(s=zt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||c!==s)&&hf(e,i,a,s),vn=!1;var o=e.memoizedState;i.state=o,Yl(e,a,i,l),Hl(),c=e.memoizedState,r||o!==c||vn?(typeof d=="function"&&(Ir(e,n,d,a),c=e.memoizedState),(u=vn||df(e,n,u,a,o,c,s))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=c),i.props=a,i.state=c,i.context=s,a=u):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,Ou(t,e),s=e.memoizedProps,h=ca(n,s),i.props=h,d=e.pendingProps,o=i.context,c=n.contextType,u=_a,typeof c=="object"&&c!==null&&(u=zt(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||o!==u)&&hf(e,i,a,u),vn=!1,o=e.memoizedState,i.state=o,Yl(e,a,i,l),Hl();var p=e.memoizedState;s!==d||o!==p||vn||t!==null&&t.dependencies!==null&&bs(t.dependencies)?(typeof r=="function"&&(Ir(e,n,r,a),p=e.memoizedState),(h=vn||df(e,n,h,a,o,p,u)||t!==null&&t.dependencies!==null&&bs(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,p,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,p,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&o===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&o===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=p),i.props=a,i.state=p,i.context=u,a=h):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&o===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&o===t.memoizedState||(e.flags|=1024),a=!1)}return i=a,ls(t,e),a=(e.flags&128)!==0,i||a?(i=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&a?(e.child=ra(e,t.child,null,l),e.child=ra(e,null,n,l)):Rt(t,e,n,l),e.memoizedState=i.state,t=e.child):t=ln(t,e,l),t}function Ef(t,e,n,a){return ia(),e.flags|=256,Rt(t,e,n,a),e.child}var Hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yr(t){return{baseLanes:t,cachePool:Oh()}}function Gr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=le),t}function Eg(t,e,n){var a=e.pendingProps,l=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(ht.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(X){if(l?En(e):An(),(t=st)?(t=dm(t,be),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Hn!==null?{id:_e,overflow:Me}:null,retryLane:536870912,hydrationErrors:null},n=xh(t),n.return=e,e.child=n,Mt=e,st=null)):t=null,t===null)throw Yn(e);return Fu(t)?e.lanes=32:e.lanes=536870912,null}var r=a.children;return a=a.fallback,l?(An(),l=e.mode,r=Ds({mode:"hidden",children:r},l),a=ta(a,l,n,null),r.return=e,a.return=e,r.sibling=a,e.child=r,a=e.child,a.memoizedState=Yr(n),a.childLanes=Gr(t,s,n),e.memoizedState=Hr,Rl(null,a)):(En(e),Yu(e,r))}var u=t.memoizedState;if(u!==null&&(r=u.dehydrated,r!==null)){if(i)e.flags&256?(En(e),e.flags&=-257,e=Br(t,e,n)):e.memoizedState!==null?(An(),e.child=t.child,e.flags|=128,e=null):(An(),r=a.fallback,l=e.mode,a=Ds({mode:"visible",children:a.children},l),r=ta(r,l,n,null),r.flags|=2,a.return=e,r.return=e,a.sibling=r,e.child=a,ra(e,t.child,null,n),a=e.child,a.memoizedState=Yr(n),a.childLanes=Gr(t,s,n),e.memoizedState=Hr,e=Rl(null,a));else if(En(e),Fu(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var c=s.dgst;s=c,a=Error(w(419)),a.stack="",a.digest=s,ei({value:a,source:null,stack:null}),e=Br(t,e,n)}else if(vt||rl(t,e,n,!1),s=(n&t.childLanes)!==0,vt||s){if(s=nt,s!==null&&(a=Wd(s,n),a!==0&&a!==u.retryLane))throw u.retryLane=a,ha(t,a),Zt(s,t,a),Zc;Wu(r)||Rs(),e=Br(t,e,n)}else Wu(r)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,st=Ee(r.nextSibling),Mt=e,X=!0,Rn=null,be=!1,t!==null&&Nh(e,t),e=Yu(e,a.children),e.flags|=4096);return e}return l?(An(),r=a.fallback,l=e.mode,u=t.child,c=u.sibling,a=Fe(u,{mode:"hidden",children:a.children}),a.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=Fe(c,r):(r=ta(r,l,n,null),r.flags|=2),r.return=e,a.return=e,a.sibling=r,e.child=a,Rl(null,a),a=e.child,r=t.child.memoizedState,r===null?r=Yr(n):(l=r.cachePool,l!==null?(u=pt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Oh(),r={baseLanes:r.baseLanes|n,cachePool:l}),a.memoizedState=r,a.childLanes=Gr(t,s,n),e.memoizedState=Hr,Rl(t.child,a)):(En(e),n=t.child,t=n.sibling,n=Fe(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Yu(t,e){return e=Ds({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ds(t,e){return t=ae(22,t,null,e),t.lanes=0,t}function Br(t,e,n){return ra(e,t.child,null,n),t=Yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Af(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Du(t.return,e,n)}function kr(t,e,n,a,l,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l,s.treeForkCount=i)}function Ag(t,e,n){var a=e.pendingProps,l=a.revealOrder,i=a.tail;a=a.children;var s=ht.current,r=(s&2)!==0;if(r?(s=s&1|2,e.flags|=128):s&=1,lt(ht,s),Rt(t,e,a,n),a=X?ti:0,!r&&t!==null&&t.flags&128)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Af(t,n,e);else if(t.tag===19)Af(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&As(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),kr(e,!1,l,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&As(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}kr(e,!0,n,null,i,a);break;case"together":kr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bn|=e.lanes,!(n&e.childLanes))if(t!==null){if(rl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Fe(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fe(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kc(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&bs(t)))}function u0(t,e,n){switch(e.tag){case 3:ds(e,e.stateNode.containerInfo),Sn(e,pt,t.memoizedState.cache),ia();break;case 27:case 5:hu(e);break;case 4:ds(e,e.stateNode.containerInfo);break;case 10:Sn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mu(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(En(e),e.flags|=128,null):n&e.child.childLanes?Eg(t,e,n):(En(e),t=ln(t,e,n),t!==null?t.sibling:null);En(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(rl(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Ag(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),lt(ht,ht.current),a)break;return null;case 22:return e.lanes=0,Sg(t,e,n,e.pendingProps);case 24:Sn(e,pt,t.memoizedState.cache)}return ln(t,e,n)}function wg(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)vt=!0;else{if(!Kc(t,n)&&!(e.flags&128))return vt=!1,u0(t,e,n);vt=!!(t.flags&131072)}else vt=!1,X&&e.flags&1048576&&Dh(e,ti,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=$n(e.elementType),e.type=t,typeof t=="function")Dc(t)?(a=ca(t,a),e.tag=1,e=Sf(null,e,t,a,n)):(e.tag=0,e=Hu(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===dc){e.tag=11,e=mf(null,e,t,a,n);break t}else if(l===hc){e.tag=14,e=yf(null,e,t,a,n);break t}}throw e=fu(t)||t,Error(w(306,e,""))}}return e;case 0:return Hu(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=ca(a,e.pendingProps),Sf(t,e,a,l,n);case 3:t:{if(ds(e,e.stateNode.containerInfo),t===null)throw Error(w(387));a=e.pendingProps;var i=e.memoizedState;l=i.element,Ou(t,e),Yl(e,a,null,n);var s=e.memoizedState;if(a=s.cache,Sn(e,pt,a),a!==i.cache&&Nu(e,[pt],n,!0),Hl(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Ef(t,e,a,n);break t}else if(a!==l){l=ve(Error(w(424)),e),ei(l),e=Ef(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=Ee(t.firstChild),Mt=e,X=!0,Rn=null,be=!0,n=Mh(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ia(),a===l){e=ln(t,e,n);break t}Rt(t,e,a,n)}e=e.child}return e;case 26:return ls(t,e),t===null?(n=kf(e.type,null,e.pendingProps,null))?e.memoizedState=n:X||(n=e.type,t=e.pendingProps,a=Us(On.current).createElement(n),a[_t]=e,a[Kt]=t,Ut(a,n,t),xt(a),e.stateNode=a):e.memoizedState=kf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return hu(e),t===null&&X&&(a=e.stateNode=hm(e.type,e.pendingProps,On.current),Mt=e,be=!0,l=st,Xn(e.type)?(Pu=l,st=Ee(a.firstChild)):st=l),Rt(t,e,e.pendingProps.children,n),ls(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&X&&((l=a=st)&&(a=H0(a,e.type,e.pendingProps,be),a!==null?(e.stateNode=a,Mt=e,st=Ee(a.firstChild),be=!1,l=!0):l=!1),l||Yn(e)),hu(e),l=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Ju(l,i)?a=null:s!==null&&Ju(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=jc(t,e,Pp,null,null,n),ri._currentValue=l),ls(t,e),Rt(t,e,a,n),e.child;case 6:return t===null&&X&&((t=n=st)&&(n=Y0(n,e.pendingProps,be),n!==null?(e.stateNode=n,Mt=e,st=null,t=!0):t=!1),t||Yn(e)),null;case 13:return Eg(t,e,n);case 4:return ds(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ra(e,null,a,n):Rt(t,e,a,n),e.child;case 11:return mf(t,e,e.type,e.pendingProps,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,Sn(e,e.type,a.value),Rt(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,sa(e),l=zt(l),a=a(l),e.flags|=1,Rt(t,e,a,n),e.child;case 14:return yf(t,e,e.type,e.pendingProps,n);case 15:return bg(t,e,e.type,e.pendingProps,n);case 19:return Ag(t,e,n);case 31:return r0(t,e,n);case 22:return Sg(t,e,n,e.pendingProps);case 24:return sa(e),a=zt(pt),t===null?(l=Rc(),l===null&&(l=nt,i=Oc(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=n),l=i),e.memoizedState={parent:a,cache:l},Mc(e),Sn(e,pt,l)):(t.lanes&n&&(Ou(t,e),Yl(e,null,null,n),Hl()),l=t.memoizedState,i=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),Sn(e,pt,a)):(a=i.cache,Sn(e,pt,a),a!==l.cache&&Nu(e,[pt],n,!0))),Rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(w(156,e.tag))}function qe(t){t.flags|=4}function qr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(Zg())t.flags|=8192;else throw na=Ss,_c}else t.flags&=-16777217}function wf(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ym(e))if(Zg())t.flags|=8192;else throw na=Ss,_c}function ki(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Kd():536870912,t.lanes|=e,Fa|=e)}function Tl(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function c0(t,e,n){var a=e.pendingProps;switch(Cc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return it(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Pe(pt),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(va(e)?qe(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur())),it(e),null;case 26:var l=e.type,i=e.memoizedState;return t===null?(qe(e),i!==null?(it(e),wf(e,i)):(it(e),qr(e,l,null,a,n))):i?i!==t.memoizedState?(qe(e),it(e),wf(e,i)):(it(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&qe(e),it(e),qr(e,l,t,a,n)),null;case 27:if(hs(e),n=On.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&qe(e);else{if(!a){if(e.stateNode===null)throw Error(w(166));return it(e),null}t=Ue.current,va(e)?Wo(e):(t=hm(l,a,n),e.stateNode=t,qe(e))}return it(e),null;case 5:if(hs(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&qe(e);else{if(!a){if(e.stateNode===null)throw Error(w(166));return it(e),null}if(i=Ue.current,va(e))Wo(e);else{var s=Us(On.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?s.createElement(l,{is:a.is}):s.createElement(l)}}i[_t]=e,i[Kt]=a;t:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;t:switch(Ut(i,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&qe(e)}}return it(e),qr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&qe(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(w(166));if(t=On.current,va(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Mt,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[_t]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||cm(t.nodeValue,n)),t||Yn(e,!0)}else t=Us(t).createTextNode(a),t[_t]=e,e.stateNode=t}return it(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=va(e),n!==null){if(t===null){if(!a)throw Error(w(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(557));t[_t]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),t=!1}else n=Ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ne(e),e):(ne(e),null);if(e.flags&128)throw Error(w(558))}return it(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=va(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(w(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(w(317));l[_t]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),l=!1}else l=Ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(ne(e),e):(ne(e),null)}return ne(e),e.flags&128?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ki(e,e.updateQueue),it(e),null);case 4:return Qa(),t===null&&eo(e.stateNode.containerInfo),it(e),null;case 10:return Pe(e.type),it(e),null;case 19:if(Dt(ht),a=e.memoizedState,a===null)return it(e),null;if(l=(e.flags&128)!==0,i=a.rendering,i===null)if(l)Tl(a,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=As(t),i!==null){for(e.flags|=128,Tl(a,!1),t=i.updateQueue,e.updateQueue=t,ki(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Th(n,t),n=n.sibling;return lt(ht,ht.current&1|2),X&&Ze(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&ie()>Cs&&(e.flags|=128,l=!0,Tl(a,!1),e.lanes=4194304)}else{if(!l)if(t=As(i),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,ki(e,t),Tl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!X)return it(e),null}else 2*ie()-a.renderingStartTime>Cs&&n!==536870912&&(e.flags|=128,l=!0,Tl(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ie(),t.sibling=null,n=ht.current,lt(ht,l?n&1|2:n&1),X&&Ze(e,a.treeForkCount),t):(it(e),null);case 22:case 23:return ne(e),zc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?n&536870912&&!(e.flags&128)&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),n=e.updateQueue,n!==null&&ki(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&Dt(ea),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Pe(pt),it(e),null;case 25:return null;case 30:return null}throw Error(w(156,e.tag))}function o0(t,e){switch(Cc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pe(pt),Qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return hs(e),null;case 31:if(e.memoizedState!==null){if(ne(e),e.alternate===null)throw Error(w(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ne(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(ht),null;case 4:return Qa(),null;case 10:return Pe(e.type),null;case 22:case 23:return ne(e),zc(),t!==null&&Dt(ea),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pe(pt),null;case 25:return null;default:return null}}function Tg(t,e){switch(Cc(e),e.tag){case 3:Pe(pt),Qa();break;case 26:case 27:case 5:hs(e);break;case 4:Qa();break;case 31:e.memoizedState!==null&&ne(e);break;case 13:ne(e);break;case 19:Dt(ht);break;case 10:Pe(e.type);break;case 22:case 23:ne(e),zc(),t!==null&&Dt(ea);break;case 24:Pe(pt)}}function Ei(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var i=n.create,s=n.inst;a=i(),s.destroy=a}n=n.next}while(n!==l)}}catch(r){$(e,e.return,r)}}function Gn(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&t)===t){var s=a.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,l=e;var u=n,c=r;try{c()}catch(h){$(l,u,h)}}}a=a.next}while(a!==i)}}catch(h){$(e,e.return,h)}}function xg(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Uh(e,n)}catch(a){$(t,t.return,a)}}}function Dg(t,e,n){n.props=ca(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){$(t,e,a)}}function Bl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){$(t,e,l)}}function ze(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){$(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){$(t,e,l)}else n.current=null}function Ng(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){$(t,t.return,l)}}function Xr(t,e,n){try{var a=t.stateNode;M0(a,t.type,n,e),a[Kt]=e}catch(l){$(t,t.return,l)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xn(t.type)||t.tag===4}function Vr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gu(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$e));else if(a!==4&&(a===27&&Xn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}function Ns(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Xn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ns(t,e,n),t=t.sibling;t!==null;)Ns(t,e,n),t=t.sibling}function Og(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Ut(e,a,n),e[_t]=t,e[Kt]=n}catch(i){$(t,t.return,i)}}var Ke=!1,yt=!1,Qr=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,wt=null;function f0(t,e){if(t=t.containerInfo,Zu=Hs,t=yh(t),wc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break t}var s=0,r=-1,u=-1,c=0,h=0,d=t,o=null;e:for(;;){for(var p;d!==n||l!==0&&d.nodeType!==3||(r=s+l),d!==i||a!==0&&d.nodeType!==3||(u=s+a),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)o=d,d=p;for(;;){if(d===t)break e;if(o===n&&++c===l&&(r=s),o===i&&++h===a&&(u=s),(p=d.nextSibling)!==null)break;d=o,o=d.parentNode}d=p}n=r===-1||u===-1?null:{start:r,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:t,selectionRange:n},Hs=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){switch(e=wt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,l=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var S=ca(n.type,l);t=a.getSnapshotBeforeUpdate(S,i),a.__reactInternalSnapshotBeforeUpdate=t}catch(v){$(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)$u(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$u(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(w(163))}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}}function Rg(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ve(t,n),a&4&&Ei(5,n);break;case 1:if(Ve(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){$(n,n.return,s)}else{var l=ca(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){$(n,n.return,s)}}a&64&&xg(n),a&512&&Bl(n,n.return);break;case 3:if(Ve(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Uh(t,e)}catch(s){$(n,n.return,s)}}break;case 27:e===null&&a&4&&Og(n);case 26:case 5:Ve(t,n),e===null&&a&4&&Ng(n),a&512&&Bl(n,n.return);break;case 12:Ve(t,n);break;case 31:Ve(t,n),a&4&&zg(t,n);break;case 13:Ve(t,n),a&4&&Ug(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=S0.bind(null,n),G0(t,n))));break;case 22:if(a=n.memoizedState!==null||Ke,!a){e=e!==null&&e.memoizedState!==null||yt,l=Ke;var i=yt;Ke=a,(yt=e)&&!i?Qe(t,n,(n.subtreeFlags&8772)!==0):Ve(t,n),Ke=l,yt=i}break;case 30:break;default:Ve(t,n)}}function _g(t){var e=t.alternate;e!==null&&(t.alternate=null,_g(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&pc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,Vt=!1;function Xe(t,e,n){for(n=n.child;n!==null;)Mg(t,e,n),n=n.sibling}function Mg(t,e,n){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(gi,n)}catch{}switch(n.tag){case 26:yt||ze(n,e),Xe(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||ze(n,e);var a=ct,l=Vt;Xn(n.type)&&(ct=n.stateNode,Vt=!1),Xe(t,e,n),Vl(n.stateNode),ct=a,Vt=l;break;case 5:yt||ze(n,e);case 6:if(a=ct,l=Vt,ct=null,Xe(t,e,n),ct=a,Vt=l,ct!==null)if(Vt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(i){$(n,e,i)}else try{ct.removeChild(n.stateNode)}catch(i){$(n,e,i)}break;case 18:ct!==null&&(Vt?(t=ct,If(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),nl(t)):If(ct,n.stateNode));break;case 4:a=ct,l=Vt,ct=n.stateNode.containerInfo,Vt=!0,Xe(t,e,n),ct=a,Vt=l;break;case 0:case 11:case 14:case 15:Gn(2,n,e),yt||Gn(4,n,e),Xe(t,e,n);break;case 1:yt||(ze(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Dg(n,e,a)),Xe(t,e,n);break;case 21:Xe(t,e,n);break;case 22:yt=(a=yt)||n.memoizedState!==null,Xe(t,e,n),yt=a;break;default:Xe(t,e,n)}}function zg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(n){$(e,e.return,n)}}}function Ug(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(n){$(e,e.return,n)}}function d0(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Tf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Tf),e;default:throw Error(w(435,t.tag))}}function qi(t,e){var n=d0(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=E0.bind(null,t,a);a.then(l,l)}})}function qt(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],i=t,s=e,r=s;t:for(;r!==null;){switch(r.tag){case 27:if(Xn(r.type)){ct=r.stateNode,Vt=!1;break t}break;case 5:ct=r.stateNode,Vt=!1;break t;case 3:case 4:ct=r.stateNode.containerInfo,Vt=!0;break t}r=r.return}if(ct===null)throw Error(w(160));Mg(i,s,l),ct=null,Vt=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)jg(e,t),e=e.sibling}var xe=null;function jg(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(e,t),Xt(t),a&4&&(Gn(3,t,t.return),Ei(3,t),Gn(5,t,t.return));break;case 1:qt(e,t),Xt(t),a&512&&(yt||n===null||ze(n,n.return)),a&64&&Ke&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=xe;if(qt(e,t),Xt(t),a&512&&(yt||n===null||ze(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":i=l.getElementsByTagName("title")[0],(!i||i[pi]||i[_t]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(a),l.head.insertBefore(i,l.querySelector("head > title"))),Ut(i,a,n),i[_t]=t,xt(i),a=i;break t;case"link":var s=Xf("link","href",l).get(a+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(i=s[r],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break e}}i=l.createElement(a),Ut(i,a,n),l.head.appendChild(i);break;case"meta":if(s=Xf("meta","content",l).get(a+(n.content||""))){for(r=0;r<s.length;r++)if(i=s[r],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break e}}i=l.createElement(a),Ut(i,a,n),l.head.appendChild(i);break;default:throw Error(w(468,a))}i[_t]=t,xt(i),a=i}t.stateNode=a}else Vf(l,t.type,t.stateNode);else t.stateNode=qf(l,a,t.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Vf(l,t.type,t.stateNode):qf(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Xr(t,t.memoizedProps,n.memoizedProps)}break;case 27:qt(e,t),Xt(t),a&512&&(yt||n===null||ze(n,n.return)),n!==null&&a&4&&Xr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(qt(e,t),Xt(t),a&512&&(yt||n===null||ze(n,n.return)),t.flags&32){l=t.stateNode;try{Ka(l,"")}catch(S){$(t,t.return,S)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Xr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(Qr=!0);break;case 6:if(qt(e,t),Xt(t),a&4){if(t.stateNode===null)throw Error(w(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(S){$(t,t.return,S)}}break;case 3:if(rs=null,l=xe,xe=js(e.containerInfo),qt(e,t),xe=l,Xt(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(S){$(t,t.return,S)}Qr&&(Qr=!1,Lg(t));break;case 4:a=xe,xe=js(t.stateNode.containerInfo),qt(e,t),Xt(t),xe=a;break;case 12:qt(e,t),Xt(t);break;case 31:qt(e,t),Xt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qi(t,a)));break;case 13:qt(e,t),Xt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rr=ie()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qi(t,a)));break;case 22:l=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Ke,h=yt;if(Ke=c||l,yt=h||u,qt(e,t),yt=h,Ke=c,Xt(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||u||Ke||yt||Wn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(i=u.stateNode,l)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=u.stateNode;var d=u.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null;r.style.display=o==null||typeof o=="boolean"?"":(""+o).trim()}}catch(S){$(u,u.return,S)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(S){$(u,u.return,S)}}}else if(e.tag===18){if(n===null){u=e;try{var p=u.stateNode;l?Hf(p,!0):Hf(u.stateNode,!1)}catch(S){$(u,u.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,qi(t,n))));break;case 19:qt(e,t),Xt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qi(t,a)));break;case 30:break;case 21:break;default:qt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Cg(a)){n=a;break}a=a.return}if(n==null)throw Error(w(160));switch(n.tag){case 27:var l=n.stateNode,i=Vr(t);Ns(t,i,l);break;case 5:var s=n.stateNode;n.flags&32&&(Ka(s,""),n.flags&=-33);var r=Vr(t);Ns(t,r,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Vr(t);Gu(t,c,u);break;default:throw Error(w(161))}}catch(h){$(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ve(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Rg(t,e.alternate,e),e=e.sibling}function Wn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Gn(4,e,e.return),Wn(e);break;case 1:ze(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Dg(e,e.return,n),Wn(e);break;case 27:Vl(e.stateNode);case 26:case 5:ze(e,e.return),Wn(e);break;case 22:e.memoizedState===null&&Wn(e);break;case 30:Wn(e);break;default:Wn(e)}t=t.sibling}}function Qe(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Qe(l,i,n),Ei(4,i);break;case 1:if(Qe(l,i,n),a=i,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(c){$(a,a.return,c)}if(a=i,l=a.updateQueue,l!==null){var r=a.stateNode;try{var u=l.shared.hiddenCallbacks;if(u!==null)for(l.shared.hiddenCallbacks=null,l=0;l<u.length;l++)zh(u[l],r)}catch(c){$(a,a.return,c)}}n&&s&64&&xg(i),Bl(i,i.return);break;case 27:Og(i);case 26:case 5:Qe(l,i,n),n&&a===null&&s&4&&Ng(i),Bl(i,i.return);break;case 12:Qe(l,i,n);break;case 31:Qe(l,i,n),n&&s&4&&zg(l,i);break;case 13:Qe(l,i,n),n&&s&4&&Ug(l,i);break;case 22:i.memoizedState===null&&Qe(l,i,n),Bl(i,i.return);break;case 30:break;default:Qe(l,i,n)}e=e.sibling}}function Jc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&bi(n))}function $c(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&bi(t))}function Te(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ig(t,e,n,a),e=e.sibling}function Ig(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Te(t,e,n,a),l&2048&&Ei(9,e);break;case 1:Te(t,e,n,a);break;case 3:Te(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&bi(t)));break;case 12:if(l&2048){Te(t,e,n,a),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,r=i.onPostCommit;typeof r=="function"&&r(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){$(e,e.return,u)}}else Te(t,e,n,a);break;case 31:Te(t,e,n,a);break;case 13:Te(t,e,n,a);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?Te(t,e,n,a):kl(t,e):i._visibility&2?Te(t,e,n,a):(i._visibility|=2,Ea(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Jc(s,e);break;case 24:Te(t,e,n,a),l&2048&&$c(e.alternate,e);break;default:Te(t,e,n,a)}}function Ea(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,r=n,u=a,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ea(i,s,r,u,l),Ei(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Ea(i,s,r,u,l):kl(i,s):(h._visibility|=2,Ea(i,s,r,u,l)),l&&c&2048&&Jc(s.alternate,s);break;case 24:Ea(i,s,r,u,l),l&&c&2048&&$c(s.alternate,s);break;default:Ea(i,s,r,u,l)}e=e.sibling}}function kl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:kl(n,a),l&2048&&Jc(a.alternate,a);break;case 24:kl(n,a),l&2048&&$c(a.alternate,a);break;default:kl(n,a)}e=e.sibling}}var _l=8192;function ba(t,e,n){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Hg(t,e,n),t=t.sibling}function Hg(t,e,n){switch(t.tag){case 26:ba(t,e,n),t.flags&_l&&t.memoizedState!==null&&F0(n,xe,t.memoizedState,t.memoizedProps);break;case 5:ba(t,e,n);break;case 3:case 4:var a=xe;xe=js(t.stateNode.containerInfo),ba(t,e,n),xe=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=_l,_l=16777216,ba(t,e,n),_l=a):ba(t,e,n));break;default:ba(t,e,n)}}function Yg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];wt=a,Bg(a,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Gn(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,is(t)):xl(t);break;default:xl(t)}}function is(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];wt=a,Bg(a,t)}Yg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Gn(8,e,e.return),is(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,is(e));break;default:is(e)}t=t.sibling}}function Bg(t,e){for(;wt!==null;){var n=wt;switch(n.tag){case 0:case 11:case 15:Gn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:bi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,wt=a;else t:for(n=t;wt!==null;){a=wt;var l=a.sibling,i=a.return;if(_g(a),a===n){wt=null;break t}if(l!==null){l.return=i,wt=l;break t}wt=i}}}var h0={getCacheForType:function(t){var e=zt(pt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return zt(pt).controller.signal}},g0=typeof WeakMap=="function"?WeakMap:Map,V=0,nt=null,B=null,q=0,J=0,ee=null,Dn=!1,cl=!1,Wc=!1,sn=0,ft=0,Bn=0,aa=0,Fc=0,le=0,Fa=0,ql=null,Qt=null,Bu=!1,rr=0,kg=0,Cs=1/0,Os=null,zn=null,Et=0,Un=null,Pa=null,tn=0,ku=0,qu=null,qg=null,Xl=0,Xu=null;function ue(){return V&2&&q!==0?q&-q:U.T!==null?to():Fd()}function Xg(){if(le===0)if(!(q&536870912)||X){var t=ji;ji<<=1,!(ji&3932160)&&(ji=262144),le=t}else le=536870912;return t=oe.current,t!==null&&(t.flags|=32),le}function Zt(t,e,n){(t===nt&&(J===2||J===9)||t.cancelPendingCommit!==null)&&(tl(t,0),Nn(t,q,le,!1)),yi(t,n),(!(V&2)||t!==nt)&&(t===nt&&(!(V&2)&&(aa|=n),ft===4&&Nn(t,q,le,!1)),Le(t))}function Vg(t,e,n){if(V&6)throw Error(w(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||mi(t,e),l=a?p0(t,e):Zr(t,e,!0),i=a;do{if(l===0){cl&&!a&&Nn(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!m0(n)){l=Zr(t,e,!1),i=!1;continue}if(l===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;t:{var r=t;l=ql;var u=r.current.memoizedState.isDehydrated;if(u&&(tl(r,s).flags|=256),s=Zr(r,s,!1),s!==2){if(Wc&&!u){r.errorRecoveryDisabledLanes|=i,aa|=i,l=4;break t}i=Qt,Qt=l,i!==null&&(Qt===null?Qt=i:Qt.push.apply(Qt,i))}l=s}if(i=!1,l!==2)continue}}if(l===1){tl(t,0),Nn(t,e,0,!0);break}t:{switch(a=t,i=l,i){case 0:case 1:throw Error(w(345));case 4:if((e&4194048)!==e)break;case 6:Nn(a,e,le,!Dn);break t;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(w(329))}if((e&62914560)===e&&(l=rr+300-ie(),10<l)){if(Nn(a,e,le,!Dn),$s(a,0,!0)!==0)break t;tn=e,a.timeoutHandle=fm(xf.bind(null,a,n,Qt,Os,Bu,e,le,aa,Fa,Dn,i,"Throttled",-0,0),l);break t}xf(a,n,Qt,Os,Bu,e,le,aa,Fa,Dn,i,null,-0,0)}}break}while(!0);Le(t)}function xf(t,e,n,a,l,i,s,r,u,c,h,d,o,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$e},Hg(e,i,d);var S=(i&62914560)===i?rr-ie():(i&4194048)===i?kg-ie():0;if(S=P0(d,S),S!==null){tn=i,t.cancelPendingCommit=S(Nf.bind(null,t,e,i,n,a,l,s,r,u,h,d,null,o,p)),Nn(t,i,s,!c);return}}Nf(t,e,i,n,a,l,s,r,u)}function m0(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],i=l.getSnapshot;l=l.value;try{if(!ce(i(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e,n,a){e&=~Fc,e&=~aa,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var i=31-re(l),s=1<<i;a[i]=-1,l&=~s}n!==0&&Jd(t,n,e)}function ur(){return V&6?!0:(Ai(0),!1)}function Pc(){if(B!==null){if(J===0)var t=B.return;else t=B,We=ga=null,Hc(t),Ga=null,ni=0,t=B;for(;t!==null;)Tg(t.alternate,t),t=t.return;B=null}}function tl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,j0(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),tn=0,Pc(),nt=t,B=n=Fe(t.current,null),q=e,J=0,ee=null,Dn=!1,cl=mi(t,e),Wc=!1,Fa=le=Fc=aa=Bn=ft=0,Qt=ql=null,Bu=!1,e&8&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-re(a),i=1<<l;e|=t[l],a&=~i}return sn=e,tr(),n}function Qg(t,e){I=null,U.H=li,e===ul||e===nr?(e=nf(),J=3):e===_c?(e=nf(),J=4):J=e===Zc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ee=e,B===null&&(ft=1,xs(t,ve(e,t.current)))}function Zg(){var t=oe.current;return t===null?!0:(q&4194048)===q?Se===null:(q&62914560)===q||q&536870912?t===Se:!1}function Kg(){var t=U.H;return U.H=li,t===null?li:t}function Jg(){var t=U.A;return U.A=h0,t}function Rs(){ft=4,Dn||(q&4194048)!==q&&oe.current!==null||(cl=!0),!(Bn&134217727)&&!(aa&134217727)||nt===null||Nn(nt,q,le,!1)}function Zr(t,e,n){var a=V;V|=2;var l=Kg(),i=Jg();(nt!==t||q!==e)&&(Os=null,tl(t,e)),e=!1;var s=ft;t:do try{if(J!==0&&B!==null){var r=B,u=ee;switch(J){case 8:Pc(),s=6;break t;case 3:case 2:case 9:case 6:oe.current===null&&(e=!0);var c=J;if(J=0,ee=null,Ua(t,r,u,c),n&&cl){s=0;break t}break;default:c=J,J=0,ee=null,Ua(t,r,u,c)}}y0(),s=ft;break}catch(h){Qg(t,h)}while(!0);return e&&t.shellSuspendCounter++,We=ga=null,V=a,U.H=l,U.A=i,B===null&&(nt=null,q=0,tr()),s}function y0(){for(;B!==null;)$g(B)}function p0(t,e){var n=V;V|=2;var a=Kg(),l=Jg();nt!==t||q!==e?(Os=null,Cs=ie()+500,tl(t,e)):cl=mi(t,e);t:do try{if(J!==0&&B!==null){e=B;var i=ee;e:switch(J){case 1:J=0,ee=null,Ua(t,e,i,1);break;case 2:case 9:if(ef(i)){J=0,ee=null,Df(e);break}e=function(){J!==2&&J!==9||nt!==t||(J=7),Le(t)},i.then(e,e);break t;case 3:J=7;break t;case 4:J=5;break t;case 7:ef(i)?(J=0,ee=null,Df(e)):(J=0,ee=null,Ua(t,e,i,7));break;case 5:var s=null;switch(B.tag){case 26:s=B.memoizedState;case 5:case 27:var r=B;if(s?ym(s):r.stateNode.complete){J=0,ee=null;var u=r.sibling;if(u!==null)B=u;else{var c=r.return;c!==null?(B=c,cr(c)):B=null}break e}}J=0,ee=null,Ua(t,e,i,5);break;case 6:J=0,ee=null,Ua(t,e,i,6);break;case 8:Pc(),ft=6;break t;default:throw Error(w(462))}}v0();break}catch(h){Qg(t,h)}while(!0);return We=ga=null,U.H=a,U.A=l,V=n,B!==null?0:(nt=null,q=0,tr(),ft)}function v0(){for(;B!==null&&!By();)$g(B)}function $g(t){var e=wg(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?cr(t):B=e}function Df(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=bf(n,e,e.pendingProps,e.type,void 0,q);break;case 11:e=bf(n,e,e.pendingProps,e.type.render,e.ref,q);break;case 5:Hc(e);default:Tg(n,e),e=B=Th(e,sn),e=wg(n,e,sn)}t.memoizedProps=t.pendingProps,e===null?cr(t):B=e}function Ua(t,e,n,a){We=ga=null,Hc(e),Ga=null,ni=0;var l=e.return;try{if(s0(t,l,e,n,q)){ft=1,xs(t,ve(n,t.current)),B=null;return}}catch(i){if(l!==null)throw B=l,i;ft=1,xs(t,ve(n,t.current)),B=null;return}e.flags&32768?(X||a===1?t=!0:cl||q&536870912?t=!1:(Dn=t=!0,(a===2||a===9||a===3||a===6)&&(a=oe.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wg(e,t)):cr(e)}function cr(t){var e=t;do{if(e.flags&32768){Wg(e,Dn);return}t=e.return;var n=c0(e.alternate,e,sn);if(n!==null){B=n;return}if(e=e.sibling,e!==null){B=e;return}B=e=t}while(e!==null);ft===0&&(ft=5)}function Wg(t,e){do{var n=o0(t.alternate,t);if(n!==null){n.flags&=32767,B=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){B=t;return}B=t=n}while(t!==null);ft=6,B=null}function Nf(t,e,n,a,l,i,s,r,u){t.cancelPendingCommit=null;do or();while(Et!==0);if(V&6)throw Error(w(327));if(e!==null){if(e===t.current)throw Error(w(177));if(i=e.lanes|e.childLanes,i|=Tc,Wy(t,n,i,s,r,u),t===nt&&(B=nt=null,q=0),Pa=e,Un=t,tn=n,ku=i,qu=l,qg=a,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,A0(gs,function(){return nm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,e.subtreeFlags&13878||a){a=U.T,U.T=null,l=Q.p,Q.p=2,s=V,V|=4;try{f0(t,e,n)}finally{V=s,Q.p=l,U.T=a}}Et=1,Fg(),Pg(),tm()}}function Fg(){if(Et===1){Et=0;var t=Un,e=Pa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=U.T,U.T=null;var a=Q.p;Q.p=2;var l=V;V|=4;try{jg(e,t);var i=Ku,s=yh(t.containerInfo),r=i.focusedElem,u=i.selectionRange;if(s!==r&&r&&r.ownerDocument&&mh(r.ownerDocument.documentElement,r)){if(u!==null&&wc(r)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var d=r.ownerDocument||document,o=d&&d.defaultView||window;if(o.getSelection){var p=o.getSelection(),S=r.textContent.length,v=Math.min(u.start,S),x=u.end===void 0?v:Math.min(u.end,S);!p.extend&&v>x&&(s=x,x=v,v=s);var m=Ko(r,v),f=Ko(r,x);if(m&&f&&(p.rangeCount!==1||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==f.node||p.focusOffset!==f.offset)){var y=d.createRange();y.setStart(m.node,m.offset),p.removeAllRanges(),v>x?(p.addRange(y),p.extend(f.node,f.offset)):(y.setEnd(f.node,f.offset),p.addRange(y))}}}}for(d=[],p=r;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<d.length;r++){var b=d[r];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Hs=!!Zu,Ku=Zu=null}finally{V=l,Q.p=a,U.T=n}}t.current=e,Et=2}}function Pg(){if(Et===2){Et=0;var t=Un,e=Pa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=U.T,U.T=null;var a=Q.p;Q.p=2;var l=V;V|=4;try{Rg(t,e.alternate,e)}finally{V=l,Q.p=a,U.T=n}}Et=3}}function tm(){if(Et===4||Et===3){Et=0,ky();var t=Un,e=Pa,n=tn,a=qg;e.subtreeFlags&10256||e.flags&10256?Et=5:(Et=0,Pa=Un=null,em(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(zn=null),yc(n),e=e.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(gi,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=U.T,l=Q.p,Q.p=2,U.T=null;try{for(var i=t.onRecoverableError,s=0;s<a.length;s++){var r=a[s];i(r.value,{componentStack:r.stack})}}finally{U.T=e,Q.p=l}}tn&3&&or(),Le(t),l=t.pendingLanes,n&261930&&l&42?t===Xu?Xl++:(Xl=0,Xu=t):Xl=0,Ai(0)}}function em(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,bi(e)))}function or(){return Fg(),Pg(),tm(),nm()}function nm(){if(Et!==5)return!1;var t=Un,e=ku;ku=0;var n=yc(tn),a=U.T,l=Q.p;try{Q.p=32>n?32:n,U.T=null,n=qu,qu=null;var i=Un,s=tn;if(Et=0,Pa=Un=null,tn=0,V&6)throw Error(w(331));var r=V;if(V|=4,Gg(i.current),Ig(i,i.current,s,n),V=r,Ai(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(gi,i)}catch{}return!0}finally{Q.p=l,U.T=a,em(t,e)}}function Cf(t,e,n){e=ve(n,e),e=Iu(t.stateNode,e,2),t=Mn(t,e,2),t!==null&&(yi(t,2),Le(t))}function $(t,e,n){if(t.tag===3)Cf(t,t,n);else for(;e!==null;){if(e.tag===3){Cf(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(zn===null||!zn.has(a))){t=ve(n,t),n=pg(2),a=Mn(e,n,2),a!==null&&(vg(n,a,e,t),yi(a,2),Le(a));break}}e=e.return}}function Kr(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new g0;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(Wc=!0,l.add(n),t=b0.bind(null,t,e,n),e.then(t,t))}function b0(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,nt===t&&(q&n)===n&&(ft===4||ft===3&&(q&62914560)===q&&300>ie()-rr?!(V&2)&&tl(t,0):Fc|=n,Fa===q&&(Fa=0)),Le(t)}function am(t,e){e===0&&(e=Kd()),t=ha(t,e),t!==null&&(yi(t,e),Le(t))}function S0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),am(t,n)}function E0(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(w(314))}a!==null&&a.delete(e),am(t,n)}function A0(t,e){return gc(t,e)}var _s=null,Aa=null,Vu=!1,Ms=!1,Jr=!1,Cn=0;function Le(t){t!==Aa&&t.next===null&&(Aa===null?_s=Aa=t:Aa=Aa.next=t),Ms=!0,Vu||(Vu=!0,T0())}function Ai(t,e){if(!Jr&&Ms){Jr=!0;do for(var n=!1,a=_s;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var i=0;else{var s=a.suspendedLanes,r=a.pingedLanes;i=(1<<31-re(42|t)+1)-1,i&=l&~(s&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Of(a,i))}else i=q,i=$s(a,a===nt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||mi(a,i)||(n=!0,Of(a,i));a=a.next}while(n);Jr=!1}}function w0(){lm()}function lm(){Ms=Vu=!1;var t=0;Cn!==0&&U0()&&(t=Cn);for(var e=ie(),n=null,a=_s;a!==null;){var l=a.next,i=im(a,e);i===0?(a.next=null,n===null?_s=l:n.next=l,l===null&&(Aa=n)):(n=a,(t!==0||i&3)&&(Ms=!0)),a=l}Et!==0&&Et!==5||Ai(t),Cn!==0&&(Cn=0)}function im(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-re(i),r=1<<s,u=l[s];u===-1?(!(r&n)||r&a)&&(l[s]=$y(r,e)):u<=e&&(t.expiredLanes|=r),i&=~r}if(e=nt,n=q,n=$s(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(J===2||J===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&wr(a),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||mi(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&wr(a),yc(n)){case 2:case 8:n=Qd;break;case 32:n=gs;break;case 268435456:n=Zd;break;default:n=gs}return a=sm.bind(null,t),n=gc(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&wr(a),t.callbackPriority=2,t.callbackNode=null,2}function sm(t,e){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(or()&&t.callbackNode!==n)return null;var a=q;return a=$s(t,t===nt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Vg(t,a,e),im(t,ie()),t.callbackNode!=null&&t.callbackNode===n?sm.bind(null,t):null)}function Of(t,e){if(or())return null;Vg(t,e,!0)}function T0(){L0(function(){V&6?gc(Vd,w0):lm()})}function to(){if(Cn===0){var t=Ja;t===0&&(t=Ui,Ui<<=1,!(Ui&261888)&&(Ui=256)),Cn=t}return Cn}function Rf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$i(""+t)}function _f(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function x0(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var i=Rf((l[Kt]||null).action),s=a.submitter;s&&(e=(e=s[Kt]||null)?Rf(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var r=new Ws("action","action",null,a,l);t.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Cn!==0){var u=s?_f(l,s):new FormData(l);ju(n,{pending:!0,data:u,method:l.method,action:i},null,u)}}else typeof i=="function"&&(r.preventDefault(),u=s?_f(l,s):new FormData(l),ju(n,{pending:!0,data:u,method:l.method,action:i},i,u))},currentTarget:l}]})}}for(var $r=0;$r<wu.length;$r++){var Wr=wu[$r],D0=Wr.toLowerCase(),N0=Wr[0].toUpperCase()+Wr.slice(1);Ne(D0,"on"+N0)}Ne(vh,"onAnimationEnd");Ne(bh,"onAnimationIteration");Ne(Sh,"onAnimationStart");Ne("dblclick","onDoubleClick");Ne("focusin","onFocus");Ne("focusout","onBlur");Ne(qp,"onTransitionRun");Ne(Xp,"onTransitionStart");Ne(Vp,"onTransitionCancel");Ne(Eh,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ii));function rm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var i=void 0;if(e)for(var s=a.length-1;0<=s;s--){var r=a[s],u=r.instance,c=r.currentTarget;if(r=r.listener,u!==i&&l.isPropagationStopped())break t;i=r,l.currentTarget=c;try{i(l)}catch(h){ys(h)}l.currentTarget=null,i=u}else for(s=0;s<a.length;s++){if(r=a[s],u=r.instance,c=r.currentTarget,r=r.listener,u!==i&&l.isPropagationStopped())break t;i=r,l.currentTarget=c;try{i(l)}catch(h){ys(h)}l.currentTarget=null,i=u}}}}function G(t,e){var n=e[mu];n===void 0&&(n=e[mu]=new Set);var a=t+"__bubble";n.has(a)||(um(e,t,2,!1),n.add(a))}function Fr(t,e,n){var a=0;e&&(a|=4),um(n,t,a,e)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function eo(t){if(!t[Xi]){t[Xi]=!0,Pd.forEach(function(n){n!=="selectionchange"&&(C0.has(n)||Fr(n,!1,t),Fr(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xi]||(e[Xi]=!0,Fr("selectionchange",!1,e))}}function um(t,e,n,a){switch(Em(e)){case 2:var l=nv;break;case 8:l=av;break;default:l=io}n=l.bind(null,e,n,t),l=void 0,!Su||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Pr(t,e,n,a,l){var i=a;if(!(e&1)&&!(e&2)&&a!==null)t:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var r=a.stateNode.containerInfo;if(r===l)break;if(s===4)for(s=a.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;r!==null;){if(s=xa(r),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){a=i=s;continue t}r=r.parentNode}}a=a.return}rh(function(){var c=i,h=bc(n),d=[];t:{var o=Ah.get(t);if(o!==void 0){var p=Ws,S=t;switch(t){case"keypress":if(Fi(n)===0)break t;case"keydown":case"keyup":p=Ep;break;case"focusin":S="focus",p=Cr;break;case"focusout":S="blur",p=Cr;break;case"beforeblur":case"afterblur":p=Cr;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tp;break;case vh:case bh:case Sh:p=dp;break;case Eh:p=Dp;break;case"scroll":case"scrollend":p=rp;break;case"wheel":p=Cp;break;case"copy":case"cut":case"paste":p=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Go;break;case"toggle":case"beforetoggle":p=Rp}var v=(e&4)!==0,x=!v&&(t==="scroll"||t==="scrollend"),m=v?o!==null?o+"Capture":null:o;v=[];for(var f=c,y;f!==null;){var b=f;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||m===null||(b=Wl(f,m),b!=null&&v.push(si(f,b,y))),x)break;f=f.return}0<v.length&&(o=new p(o,S,null,n,h),d.push({event:o,listeners:v}))}}if(!(e&7)){t:{if(o=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",o&&n!==bu&&(S=n.relatedTarget||n.fromElement)&&(xa(S)||S[il]))break t;if((p||o)&&(o=h.window===h?h:(o=h.ownerDocument)?o.defaultView||o.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?xa(S):null,S!==null&&(x=hi(S),v=S.tag,S!==x||v!==5&&v!==27&&v!==6)&&(S=null)):(p=null,S=c),p!==S)){if(v=Ho,b="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Go,b="onPointerLeave",m="onPointerEnter",f="pointer"),x=p==null?o:Ol(p),y=S==null?o:Ol(S),o=new v(b,f+"leave",p,n,h),o.target=x,o.relatedTarget=y,b=null,xa(h)===c&&(v=new v(m,f+"enter",S,n,h),v.target=y,v.relatedTarget=x,b=v),x=b,p&&S)e:{for(v=O0,m=p,f=S,y=0,b=m;b;b=v(b))y++;b=0;for(var A=f;A;A=v(A))b++;for(;0<y-b;)m=v(m),y--;for(;0<b-y;)f=v(f),b--;for(;y--;){if(m===f||f!==null&&m===f.alternate){v=m;break e}m=v(m),f=v(f)}v=null}else v=null;p!==null&&Mf(d,o,p,v,!1),S!==null&&x!==null&&Mf(d,x,S,v,!0)}}t:{if(o=c?Ol(c):window,p=o.nodeName&&o.nodeName.toLowerCase(),p==="select"||p==="input"&&o.type==="file")var D=Xo;else if(qo(o))if(hh)D=Gp;else{D=Hp;var T=Ip}else p=o.nodeName,!p||p.toLowerCase()!=="input"||o.type!=="checkbox"&&o.type!=="radio"?c&&vc(c.elementType)&&(D=Xo):D=Yp;if(D&&(D=D(t,c))){dh(d,D,n,h);break t}T&&T(t,o,c),t==="focusout"&&c&&o.type==="number"&&c.memoizedProps.value!=null&&vu(o,"number",o.value)}switch(T=c?Ol(c):window,t){case"focusin":(qo(T)||T.contentEditable==="true")&&(Ca=T,Eu=c,jl=null);break;case"focusout":jl=Eu=Ca=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Jo(d,n,h);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Jo(d,n,h)}var N;if(Ac)t:{switch(t){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else Na?oh(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ch&&n.locale!=="ko"&&(Na||R!=="onCompositionStart"?R==="onCompositionEnd"&&Na&&(N=uh()):(xn=h,Sc="value"in xn?xn.value:xn.textContent,Na=!0)),T=zs(c,R),0<T.length&&(R=new Yo(R,t,null,n,h),d.push({event:R,listeners:T}),N?R.data=N:(N=fh(n),N!==null&&(R.data=N)))),(N=Mp?zp(t,n):Up(t,n))&&(R=zs(c,"onBeforeInput"),0<R.length&&(T=new Yo("onBeforeInput","beforeinput",null,n,h),d.push({event:T,listeners:R}),T.data=N)),x0(d,t,c,n,h)}rm(d,e)})}function si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zs(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Wl(t,n),l!=null&&a.unshift(si(t,l,i)),l=Wl(t,e),l!=null&&a.push(si(t,l,i))),t.tag===3)return a;t=t.return}return[]}function O0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mf(t,e,n,a,l){for(var i=e._reactName,s=[];n!==null&&n!==a;){var r=n,u=r.alternate,c=r.stateNode;if(r=r.tag,u!==null&&u===a)break;r!==5&&r!==26&&r!==27||c===null||(u=c,l?(c=Wl(n,i),c!=null&&s.unshift(si(n,c,u))):l||(c=Wl(n,i),c!=null&&s.push(si(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var R0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function zf(t){return(typeof t=="string"?t:""+t).replace(R0,`
`).replace(_0,"")}function cm(t,e){return e=zf(e),zf(t)===e}function F(t,e,n,a,l,i){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Ka(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Ka(t,""+a);break;case"className":Ii(t,"class",a);break;case"tabIndex":Ii(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(t,n,a);break;case"style":sh(t,a,i);break;case"data":if(e!=="object"){Ii(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=$i(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&F(t,e,"name",l.name,l,null),F(t,e,"formEncType",l.formEncType,l,null),F(t,e,"formMethod",l.formMethod,l,null),F(t,e,"formTarget",l.formTarget,l,null)):(F(t,e,"encType",l.encType,l,null),F(t,e,"method",l.method,l,null),F(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=$i(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=$e);break;case"onScroll":a!=null&&G("scroll",t);break;case"onScrollEnd":a!=null&&G("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(w(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=$i(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":G("beforetoggle",t),G("toggle",t),Ji(t,"popover",a);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ji(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ip.get(n)||n,Ji(t,n,a))}}function Qu(t,e,n,a,l,i){switch(n){case"style":sh(t,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(w(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Ka(t,a):(typeof a=="number"||typeof a=="bigint")&&Ka(t,""+a);break;case"onScroll":a!=null&&G("scroll",t);break;case"onScrollEnd":a!=null&&G("scrollend",t);break;case"onClick":a!=null&&(t.onclick=$e);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),i=t[Kt]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,l),typeof a=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Ji(t,n,a)}}}function Ut(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":G("error",t),G("load",t);var a=!1,l=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:F(t,e,i,s,n,null)}}l&&F(t,e,"srcSet",n.srcSet,n,null),a&&F(t,e,"src",n.src,n,null);return;case"input":G("invalid",t);var r=i=s=l=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(h!=null)switch(a){case"name":l=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":i=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(w(137,e));break;default:F(t,e,a,h,n,null)}}ah(t,i,r,u,c,s,l,!1);return;case"select":G("invalid",t),a=s=i=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":i=r;break;case"defaultValue":s=r;break;case"multiple":a=r;default:F(t,e,l,r,n,null)}e=i,n=s,t.multiple=!!a,e!=null?Ia(t,!!a,e,!1):n!=null&&Ia(t,!!a,n,!0);return;case"textarea":G("invalid",t),i=l=a=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":a=r;break;case"defaultValue":l=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(w(91));break;default:F(t,e,s,r,n,null)}ih(t,a,l,i);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:F(t,e,u,a,n,null)}return;case"dialog":G("beforetoggle",t),G("toggle",t),G("cancel",t),G("close",t);break;case"iframe":case"object":G("load",t);break;case"video":case"audio":for(a=0;a<ii.length;a++)G(ii[a],t);break;case"image":G("error",t),G("load",t);break;case"details":G("toggle",t);break;case"embed":case"source":case"link":G("error",t),G("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:F(t,e,c,a,n,null)}return;default:if(vc(e)){for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!==void 0&&Qu(t,e,h,a,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(a=n[r],a!=null&&F(t,e,r,a,n,null))}function M0(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,s=null,r=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=d;default:a.hasOwnProperty(p)||F(t,e,p,null,a,d)}}for(var o in a){var p=a[o];if(d=n[o],a.hasOwnProperty(o)&&(p!=null||d!=null))switch(o){case"type":i=p;break;case"name":l=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":r=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(w(137,e));break;default:p!==d&&F(t,e,o,p,a,d)}}pu(t,s,r,u,c,h,i,l);return;case"select":p=s=r=o=null;for(i in n)if(u=n[i],n.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":p=u;default:a.hasOwnProperty(i)||F(t,e,i,null,a,u)}for(l in a)if(i=a[l],u=n[l],a.hasOwnProperty(l)&&(i!=null||u!=null))switch(l){case"value":o=i;break;case"defaultValue":r=i;break;case"multiple":s=i;default:i!==u&&F(t,e,l,i,a,u)}e=r,n=s,a=p,o!=null?Ia(t,!!n,o,!1):!!a!=!!n&&(e!=null?Ia(t,!!n,e,!0):Ia(t,!!n,n?[]:"",!1));return;case"textarea":p=o=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:F(t,e,r,null,a,l)}for(s in a)if(l=a[s],i=n[s],a.hasOwnProperty(s)&&(l!=null||i!=null))switch(s){case"value":o=l;break;case"defaultValue":p=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(w(91));break;default:l!==i&&F(t,e,s,l,a,i)}lh(t,o,p);return;case"option":for(var S in n)if(o=n[S],n.hasOwnProperty(S)&&o!=null&&!a.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:F(t,e,S,null,a,o)}for(u in a)if(o=a[u],p=n[u],a.hasOwnProperty(u)&&o!==p&&(o!=null||p!=null))switch(u){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:F(t,e,u,o,a,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)o=n[v],n.hasOwnProperty(v)&&o!=null&&!a.hasOwnProperty(v)&&F(t,e,v,null,a,o);for(c in a)if(o=a[c],p=n[c],a.hasOwnProperty(c)&&o!==p&&(o!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(o!=null)throw Error(w(137,e));break;default:F(t,e,c,o,a,p)}return;default:if(vc(e)){for(var x in n)o=n[x],n.hasOwnProperty(x)&&o!==void 0&&!a.hasOwnProperty(x)&&Qu(t,e,x,void 0,a,o);for(h in a)o=a[h],p=n[h],!a.hasOwnProperty(h)||o===p||o===void 0&&p===void 0||Qu(t,e,h,o,a,p);return}}for(var m in n)o=n[m],n.hasOwnProperty(m)&&o!=null&&!a.hasOwnProperty(m)&&F(t,e,m,null,a,o);for(d in a)o=a[d],p=n[d],!a.hasOwnProperty(d)||o===p||o==null&&p==null||F(t,e,d,o,a,p)}function Uf(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],i=l.transferSize,s=l.initiatorType,r=l.duration;if(i&&r&&Uf(s)){for(s=0,r=l.responseEnd,a+=1;a<n.length;a++){var u=n[a],c=u.startTime;if(c>r)break;var h=u.transferSize,d=u.initiatorType;h&&Uf(d)&&(u=u.responseEnd,s+=h*(u<r?1:(r-c)/(u-c)))}if(--a,e+=8*(i+s)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zu=null,Ku=null;function Us(t){return t.nodeType===9?t:t.ownerDocument}function jf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ju(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tu=null;function U0(){var t=window.event;return t&&t.type==="popstate"?t===tu?!1:(tu=t,!0):(tu=null,!1)}var fm=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(I0)}:fm;function I0(t){setTimeout(function(){throw t})}function Xn(t){return t==="head"}function If(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),nl(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Vl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Vl(n);for(var i=n.firstChild;i;){var s=i.nextSibling,r=i.nodeName;i[pi]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&Vl(t.ownerDocument.body);n=l}while(n);nl(e)}function Hf(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function $u(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$u(n),pc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function H0(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[pi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Ee(t.nextSibling),t===null)break}return null}function Y0(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ee(t.nextSibling),t===null))return null;return t}function dm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ee(t.nextSibling),t===null))return null;return t}function Wu(t){return t.data==="$?"||t.data==="$~"}function Fu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function G0(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Ee(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Pu=null;function Yf(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ee(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Gf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function hm(t,e,n){switch(e=Us(n),t){case"html":if(t=e.documentElement,!t)throw Error(w(452));return t;case"head":if(t=e.head,!t)throw Error(w(453));return t;case"body":if(t=e.body,!t)throw Error(w(454));return t;default:throw Error(w(451))}}function Vl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);pc(t)}var Ae=new Map,Bf=new Set;function js(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var un=Q.d;Q.d={f:B0,r:k0,D:q0,C:X0,L:V0,m:Q0,X:K0,S:Z0,M:J0};function B0(){var t=un.f(),e=ur();return t||e}function k0(t){var e=sl(t);e!==null&&e.tag===5&&e.type==="form"?sg(e):un.r(t)}var ol=typeof document>"u"?null:document;function gm(t,e,n){var a=ol;if(a&&typeof e=="string"&&e){var l=pe(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Bf.has(l)||(Bf.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),Ut(e,"link",t),xt(e),a.head.appendChild(e)))}}function q0(t){un.D(t),gm("dns-prefetch",t,null)}function X0(t,e){un.C(t,e),gm("preconnect",t,e)}function V0(t,e,n){un.L(t,e,n);var a=ol;if(a&&t&&e){var l='link[rel="preload"][as="'+pe(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+pe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+pe(n.imageSizes)+'"]')):l+='[href="'+pe(t)+'"]';var i=l;switch(e){case"style":i=el(t);break;case"script":i=fl(t)}Ae.has(i)||(t=ut({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ae.set(i,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(wi(i))||e==="script"&&a.querySelector(Ti(i))||(e=a.createElement("link"),Ut(e,"link",t),xt(e),a.head.appendChild(e)))}}function Q0(t,e){un.m(t,e);var n=ol;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+pe(a)+'"][href="'+pe(t)+'"]',i=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=fl(t)}if(!Ae.has(i)&&(t=ut({rel:"modulepreload",href:t},e),Ae.set(i,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ti(i)))return}a=n.createElement("link"),Ut(a,"link",t),xt(a),n.head.appendChild(a)}}}function Z0(t,e,n){un.S(t,e,n);var a=ol;if(a&&t){var l=La(a).hoistableStyles,i=el(t);e=e||"default";var s=l.get(i);if(!s){var r={loading:0,preload:null};if(s=a.querySelector(wi(i)))r.loading=5;else{t=ut({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ae.get(i))&&no(t,n);var u=s=a.createElement("link");xt(u),Ut(u,"link",t),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,ss(s,e,a)}s={type:"stylesheet",instance:s,count:1,state:r},l.set(i,s)}}}function K0(t,e){un.X(t,e);var n=ol;if(n&&t){var a=La(n).hoistableScripts,l=fl(t),i=a.get(l);i||(i=n.querySelector(Ti(l)),i||(t=ut({src:t,async:!0},e),(e=Ae.get(l))&&ao(t,e),i=n.createElement("script"),xt(i),Ut(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function J0(t,e){un.M(t,e);var n=ol;if(n&&t){var a=La(n).hoistableScripts,l=fl(t),i=a.get(l);i||(i=n.querySelector(Ti(l)),i||(t=ut({src:t,async:!0,type:"module"},e),(e=Ae.get(l))&&ao(t,e),i=n.createElement("script"),xt(i),Ut(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function kf(t,e,n,a){var l=(l=On.current)?js(l):null;if(!l)throw Error(w(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=el(n.href),n=La(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=el(n.href);var i=La(l).hoistableStyles,s=i.get(t);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=l.querySelector(wi(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Ae.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ae.set(t,n),i||$0(l,t,n,s.state))),e&&a===null)throw Error(w(528,""));return s}if(e&&a!==null)throw Error(w(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fl(n),n=La(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,t))}}function el(t){return'href="'+pe(t)+'"'}function wi(t){return'link[rel="stylesheet"]['+t+"]"}function mm(t){return ut({},t,{"data-precedence":t.precedence,precedence:null})}function $0(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Ut(e,"link",n),xt(e),t.head.appendChild(e))}function fl(t){return'[src="'+pe(t)+'"]'}function Ti(t){return"script[async]"+t}function qf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+pe(n.href)+'"]');if(a)return e.instance=a,xt(a),a;var l=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),xt(a),Ut(a,"style",l),ss(a,n.precedence,t),e.instance=a;case"stylesheet":l=el(n.href);var i=t.querySelector(wi(l));if(i)return e.state.loading|=4,e.instance=i,xt(i),i;a=mm(n),(l=Ae.get(l))&&no(a,l),i=(t.ownerDocument||t).createElement("link"),xt(i);var s=i;return s._p=new Promise(function(r,u){s.onload=r,s.onerror=u}),Ut(i,"link",a),e.state.loading|=4,ss(i,n.precedence,t),e.instance=i;case"script":return i=fl(n.src),(l=t.querySelector(Ti(i)))?(e.instance=l,xt(l),l):(a=n,(l=Ae.get(i))&&(a=ut({},n),ao(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),xt(l),Ut(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(w(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(a=e.instance,e.state.loading|=4,ss(a,n.precedence,t));return e.instance}function ss(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,i=l,s=0;s<a.length;s++){var r=a[s];if(r.dataset.precedence===e)i=r;else if(i!==l)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function no(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ao(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var rs=null;function Xf(t,e,n){if(rs===null){var a=new Map,l=rs=new Map;l.set(n,a)}else l=rs,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var i=n[l];if(!(i[pi]||i[_t]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var r=a.get(s);r?r.push(i):a.set(s,[i])}}return a}function Vf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function W0(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ym(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function F0(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=el(a.href),i=e.querySelector(wi(l));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ls.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,xt(i);return}i=e.ownerDocument||e,a=mm(a),(l=Ae.get(l))&&no(a,l),i=i.createElement("link"),xt(i);var s=i;s._p=new Promise(function(r,u){s.onload=r,s.onerror=u}),Ut(i,"link",a),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ls.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var eu=0;function P0(t,e){return t.stylesheets&&t.count===0&&us(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&us(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&eu===0&&(eu=62500*z0());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&us(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>eu?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function Ls(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)us(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Is=null;function us(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Is=new Map,e.forEach(tv,t),Is=null,Ls.call(t))}function tv(t,e){if(!(e.state.loading&4)){var n=Is.get(t);if(n)var a=n.get(null);else{n=new Map,Is.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var s=l[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}l=e.instance,s=l.getAttribute("data-precedence"),i=n.get(s)||a,i===a&&n.set(null,l),n.set(s,l),this.count++,a=Ls.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),i?i.parentNode.insertBefore(l,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var ri={$$typeof:Je,Provider:null,Consumer:null,_currentValue:Pn,_currentValue2:Pn,_threadCount:0};function ev(t,e,n,a,l,i,s,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function pm(t,e,n,a,l,i,s,r,u,c,h,d){return t=new ev(t,e,n,s,u,c,h,d,r),e=1,i===!0&&(e|=24),i=ae(3,null,null,e),t.current=i,i.stateNode=t,e=Oc(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:e},Mc(i),t}function vm(t){return t?(t=_a,t):_a}function bm(t,e,n,a,l,i){l=vm(l),a.context===null?a.context=l:a.pendingContext=l,a=_n(e),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Mn(t,a,e),n!==null&&(Zt(n,t,e),Il(n,t,e))}function Qf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lo(t,e){Qf(t,e),(t=t.alternate)&&Qf(t,e)}function Sm(t){if(t.tag===13||t.tag===31){var e=ha(t,67108864);e!==null&&Zt(e,t,67108864),lo(t,67108864)}}function Zf(t){if(t.tag===13||t.tag===31){var e=ue();e=mc(e);var n=ha(t,e);n!==null&&Zt(n,t,e),lo(t,e)}}var Hs=!0;function nv(t,e,n,a){var l=U.T;U.T=null;var i=Q.p;try{Q.p=2,io(t,e,n,a)}finally{Q.p=i,U.T=l}}function av(t,e,n,a){var l=U.T;U.T=null;var i=Q.p;try{Q.p=8,io(t,e,n,a)}finally{Q.p=i,U.T=l}}function io(t,e,n,a){if(Hs){var l=tc(a);if(l===null)Pr(t,e,a,Ys,n),Kf(t,a);else if(iv(l,t,e,n,a))a.stopPropagation();else if(Kf(t,a),e&4&&-1<lv.indexOf(t)){for(;l!==null;){var i=sl(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Jn(i.pendingLanes);if(s!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var u=1<<31-re(s);r.entanglements[1]|=u,s&=~u}Le(i),!(V&6)&&(Cs=ie()+500,Ai(0))}}break;case 31:case 13:r=ha(i,2),r!==null&&Zt(r,i,2),ur(),lo(i,2)}if(i=tc(a),i===null&&Pr(t,e,a,Ys,n),i===l)break;l=i}l!==null&&a.stopPropagation()}else Pr(t,e,a,null,n)}}function tc(t){return t=bc(t),so(t)}var Ys=null;function so(t){if(Ys=null,t=xa(t),t!==null){var e=hi(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Gd(e),t!==null)return t;t=null}else if(n===31){if(t=Bd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ys=t,null}function Em(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qy()){case Vd:return 2;case Qd:return 8;case gs:case Xy:return 32;case Zd:return 268435456;default:return 32}default:return 32}}var ec=!1,jn=null,Ln=null,In=null,ui=new Map,ci=new Map,wn=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kf(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":ui.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(e.pointerId)}}function Dl(t,e,n,a,l,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[l]},e!==null&&(e=sl(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function iv(t,e,n,a,l){switch(e){case"focusin":return jn=Dl(jn,t,e,n,a,l),!0;case"dragenter":return Ln=Dl(Ln,t,e,n,a,l),!0;case"mouseover":return In=Dl(In,t,e,n,a,l),!0;case"pointerover":var i=l.pointerId;return ui.set(i,Dl(ui.get(i)||null,t,e,n,a,l)),!0;case"gotpointercapture":return i=l.pointerId,ci.set(i,Dl(ci.get(i)||null,t,e,n,a,l)),!0}return!1}function Am(t){var e=xa(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Gd(n),e!==null){t.blockedOn=e,_o(t.priority,function(){Zf(n)});return}}else if(e===31){if(e=Bd(n),e!==null){t.blockedOn=e,_o(t.priority,function(){Zf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tc(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);bu=a,n.target.dispatchEvent(a),bu=null}else return e=sl(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Jf(t,e,n){cs(t)&&n.delete(e)}function sv(){ec=!1,jn!==null&&cs(jn)&&(jn=null),Ln!==null&&cs(Ln)&&(Ln=null),In!==null&&cs(In)&&(In=null),ui.forEach(Jf),ci.forEach(Jf)}function Vi(t,e){t.blockedOn===e&&(t.blockedOn=null,ec||(ec=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,sv)))}var Qi=null;function $f(t){Qi!==t&&(Qi=t,At.unstable_scheduleCallback(At.unstable_NormalPriority,function(){Qi===t&&(Qi=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(so(a||n)===null)continue;break}var i=sl(n);i!==null&&(t.splice(e,3),e-=3,ju(i,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function nl(t){function e(u){return Vi(u,t)}jn!==null&&Vi(jn,t),Ln!==null&&Vi(Ln,t),In!==null&&Vi(In,t),ui.forEach(e),ci.forEach(e);for(var n=0;n<wn.length;n++){var a=wn[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&wn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],i=n[a+1],s=l[Kt]||null;if(typeof i=="function")s||$f(n);else if(s){var r=null;if(i&&i.hasAttribute("formAction")){if(l=i,s=i[Kt]||null)r=s.formAction;else if(so(l)!==null)continue}else r=s.action;typeof r=="function"?n[a+1]=r:(n.splice(a,3),a-=3),$f(n)}}}function wm(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return l=s})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function ro(t){this._internalRoot=t}fr.prototype.render=ro.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));var n=e.current,a=ue();bm(n,a,t,e,null,null)};fr.prototype.unmount=ro.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bm(t.current,2,null,t,null,null),ur(),e[il]=null}};function fr(t){this._internalRoot=t}fr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&Am(t)}};var Wf=Hd.version;if(Wf!=="19.2.0")throw Error(w(527,Wf,"19.2.0"));Q.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Ly(e),t=t!==null?kd(t):null,t=t===null?null:t.stateNode,t};var rv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{gi=Zi.inject(rv),se=Zi}catch{}}Ks.createRoot=function(t,e){if(!Yd(t))throw Error(w(299));var n=!1,a="",l=gg,i=mg,s=yg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,a,null,l,i,s,wm),t[il]=e.current,eo(t),new ro(e)};Ks.hydrateRoot=function(t,e,n){if(!Yd(t))throw Error(w(299));var a=!1,l="",i=gg,s=mg,r=yg,u=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=pm(t,1,!0,e,n??null,a,l,u,i,s,r,wm),e.context=vm(null),n=e.current,a=ue(),a=mc(a),l=_n(a),l.callback=null,Mn(n,l,a),n=a,e.current.lanes=n,yi(e,n),Le(e),t[il]=e.current,eo(t),new fr(e)};Ks.version="19.2.0";function Tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tm)}catch(t){console.error(t)}}Tm(),Md.exports=Ks;var uv=Md.exports;const cv=Ad(uv),dr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dl(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function uo(t){return"nodeType"in t}function Bt(t){var e,n;return t?dl(t)?t:uo(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function co(t){const{Document:e}=Bt(t);return t instanceof e}function xi(t){return dl(t)?!1:t instanceof Bt(t).HTMLElement}function xm(t){return t instanceof Bt(t).SVGElement}function hl(t){return t?dl(t)?t.document:uo(t)?co(t)?t:xi(t)||xm(t)?t.ownerDocument:document:document:document}const rn=dr?E.useLayoutEffect:E.useEffect;function hr(t){const e=E.useRef(t);return rn(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e.current==null?void 0:e.current(...a)},[])}function ov(){const t=E.useRef(null),e=E.useCallback((a,l)=>{t.current=setInterval(a,l)},[]),n=E.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function oi(t,e){e===void 0&&(e=[t]);const n=E.useRef(t);return rn(()=>{n.current!==t&&(n.current=t)},e),n}function Di(t,e){const n=E.useRef();return E.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function Gs(t){const e=hr(t),n=E.useRef(null),a=E.useCallback(l=>{l!==n.current&&(e==null||e(l,n.current)),n.current=l},[]);return[n,a]}function Bs(t){const e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}let nu={};function gr(t,e){return E.useMemo(()=>{if(e)return e;const n=nu[t]==null?0:nu[t]+1;return nu[t]=n,t+"-"+n},[t,e])}function Dm(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.reduce((i,s)=>{const r=Object.entries(s);for(const[u,c]of r){const h=i[u];h!=null&&(i[u]=h+t*c)}return i},{...e})}}const qa=Dm(1),ks=Dm(-1);function fv(t){return"clientX"in t&&"clientY"in t}function oo(t){if(!t)return!1;const{KeyboardEvent:e}=Bt(t.target);return e&&t instanceof e}function dv(t){if(!t)return!1;const{TouchEvent:e}=Bt(t.target);return e&&t instanceof e}function qs(t){if(dv(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return fv(t)?{x:t.clientX,y:t.clientY}:null}const fi=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[fi.Translate.toString(t),fi.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),Ff="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hv(t){return t.matches(Ff)?t:t.querySelector(Ff)}const gv={display:"none"};function mv(t){let{id:e,value:n}=t;return at.createElement("div",{id:e,style:gv},n)}function yv(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return at.createElement("div",{id:e,style:l,role:"status","aria-live":a,"aria-atomic":!0},n)}function pv(){const[t,e]=E.useState("");return{announce:E.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const Nm=E.createContext(null);function vv(t){const e=E.useContext(Nm);E.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function bv(){const[t]=E.useState(()=>new Set),e=E.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[E.useCallback(a=>{let{type:l,event:i}=a;t.forEach(s=>{var r;return(r=s[l])==null?void 0:r.call(s,i)})},[t]),e]}const Sv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ev={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Av(t){let{announcements:e=Ev,container:n,hiddenTextDescribedById:a,screenReaderInstructions:l=Sv}=t;const{announce:i,announcement:s}=pv(),r=gr("DndLiveRegion"),[u,c]=E.useState(!1);if(E.useEffect(()=>{c(!0)},[]),vv(E.useMemo(()=>({onDragStart(d){let{active:o}=d;i(e.onDragStart({active:o}))},onDragMove(d){let{active:o,over:p}=d;e.onDragMove&&i(e.onDragMove({active:o,over:p}))},onDragOver(d){let{active:o,over:p}=d;i(e.onDragOver({active:o,over:p}))},onDragEnd(d){let{active:o,over:p}=d;i(e.onDragEnd({active:o,over:p}))},onDragCancel(d){let{active:o,over:p}=d;i(e.onDragCancel({active:o,over:p}))}}),[i,e])),!u)return null;const h=at.createElement(at.Fragment,null,at.createElement(mv,{id:a,value:l.draggable}),at.createElement(yv,{id:r,announcement:s}));return n?Fn.createPortal(h,n):h}var St;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(St||(St={}));function Xs(){}const De=Object.freeze({x:0,y:0});function wv(t,e){const n=qs(t);if(!n)return"0 0";const a={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return a.x+"% "+a.y+"%"}function Tv(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function xv(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Dv(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),l=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=l-a,r=i-n;if(a<l&&n<i){const u=e.width*e.height,c=t.width*t.height,h=s*r,d=h/(u+c-h);return Number(d.toFixed(4))}return 0}const Nv=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const l=[];for(const i of a){const{id:s}=i,r=n.get(s);if(r){const u=Dv(r,e);u>0&&l.push({id:s,data:{droppableContainer:i,value:u}})}}return l.sort(Tv)};function Cv(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Cm(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:De}function Ov(t){return function(n){for(var a=arguments.length,l=new Array(a>1?a-1:0),i=1;i<a;i++)l[i-1]=arguments[i];return l.reduce((s,r)=>({...s,top:s.top+t*r.y,bottom:s.bottom+t*r.y,left:s.left+t*r.x,right:s.right+t*r.x}),{...n})}}const Rv=Ov(1);function Om(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function _v(t,e,n){const a=Om(e);if(!a)return t;const{scaleX:l,scaleY:i,x:s,y:r}=a,u=t.left-s-(1-l)*parseFloat(n),c=t.top-r-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?t.width/l:t.width,d=i?t.height/i:t.height;return{width:h,height:d,top:c,right:u+h,bottom:c+d,left:u}}const Mv={ignoreTransform:!1};function Ni(t,e){e===void 0&&(e=Mv);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:h}=Bt(t).getComputedStyle(t);c&&(n=_v(n,c,h))}const{top:a,left:l,width:i,height:s,bottom:r,right:u}=n;return{top:a,left:l,width:i,height:s,bottom:r,right:u}}function Pf(t){return Ni(t,{ignoreTransform:!0})}function zv(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Uv(t,e){return e===void 0&&(e=Bt(t).getComputedStyle(t)),e.position==="fixed"}function jv(t,e){e===void 0&&(e=Bt(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=e[l];return typeof i=="string"?n.test(i):!1})}function fo(t,e){const n=[];function a(l){if(e!=null&&n.length>=e||!l)return n;if(co(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!xi(l)||xm(l)||n.includes(l))return n;const i=Bt(t).getComputedStyle(l);return l!==t&&jv(l,i)&&n.push(l),Uv(l,i)?n:a(l.parentNode)}return t?a(t):n}function Rm(t){const[e]=fo(t,1);return e??null}function au(t){return!dr||!t?null:dl(t)?t:uo(t)?co(t)||t===hl(t).scrollingElement?window:xi(t)?t:null:null}function _m(t){return dl(t)?t.scrollX:t.scrollLeft}function Mm(t){return dl(t)?t.scrollY:t.scrollTop}function nc(t){return{x:_m(t),y:Mm(t)}}var Tt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Tt||(Tt={}));function zm(t){return!dr||!t?!1:t===document.scrollingElement}function Um(t){const e={x:0,y:0},n=zm(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},l=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=a.y,r=t.scrollLeft>=a.x;return{isTop:l,isLeft:i,isBottom:s,isRight:r,maxScroll:a,minScroll:e}}const Lv={x:.2,y:.2};function Iv(t,e,n,a,l){let{top:i,left:s,right:r,bottom:u}=n;a===void 0&&(a=10),l===void 0&&(l=Lv);const{isTop:c,isBottom:h,isLeft:d,isRight:o}=Um(t),p={x:0,y:0},S={x:0,y:0},v={height:e.height*l.y,width:e.width*l.x};return!c&&i<=e.top+v.height?(p.y=Tt.Backward,S.y=a*Math.abs((e.top+v.height-i)/v.height)):!h&&u>=e.bottom-v.height&&(p.y=Tt.Forward,S.y=a*Math.abs((e.bottom-v.height-u)/v.height)),!o&&r>=e.right-v.width?(p.x=Tt.Forward,S.x=a*Math.abs((e.right-v.width-r)/v.width)):!d&&s<=e.left+v.width&&(p.x=Tt.Backward,S.x=a*Math.abs((e.left+v.width-s)/v.width)),{direction:p,speed:S}}function Hv(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:n,right:a,bottom:l}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:l,width:t.clientWidth,height:t.clientHeight}}function jm(t){return t.reduce((e,n)=>qa(e,nc(n)),De)}function Yv(t){return t.reduce((e,n)=>e+_m(n),0)}function Gv(t){return t.reduce((e,n)=>e+Mm(n),0)}function Lm(t,e){if(e===void 0&&(e=Ni),!t)return;const{top:n,left:a,bottom:l,right:i}=e(t);Rm(t)&&(l<=0||i<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Bv=[["x",["left","right"],Yv],["y",["top","bottom"],Gv]];class ho{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=fo(n),l=jm(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,r]of Bv)for(const u of s)Object.defineProperty(this,u,{get:()=>{const c=r(a),h=l[i]-c;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ql{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var l;(l=this.target)==null||l.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function kv(t){const{EventTarget:e}=Bt(t);return t instanceof e?t:hl(t)}function lu(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var he;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(he||(he={}));function td(t){t.preventDefault()}function qv(t){t.stopPropagation()}var et;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(et||(et={}));const Im={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},Xv=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case et.Right:return{...n,x:n.x+25};case et.Left:return{...n,x:n.x-25};case et.Down:return{...n,y:n.y+25};case et.Up:return{...n,y:n.y-25}}};class Hm{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ql(hl(n)),this.windowListeners=new Ql(Bt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(he.Resize,this.handleCancel),this.windowListeners.add(he.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(he.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&Lm(a),n(De)}handleKeyDown(e){if(oo(e)){const{active:n,context:a,options:l}=this.props,{keyboardCodes:i=Im,coordinateGetter:s=Xv,scrollBehavior:r="smooth"}=l,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:c}=a.current,h=c?{x:c.left,y:c.top}:De;this.referenceCoordinates||(this.referenceCoordinates=h);const d=s(e,{active:n,context:a.current,currentCoordinates:h});if(d){const o=ks(d,h),p={x:0,y:0},{scrollableAncestors:S}=a.current;for(const v of S){const x=e.code,{isTop:m,isRight:f,isLeft:y,isBottom:b,maxScroll:A,minScroll:D}=Um(v),T=Hv(v),N={x:Math.min(x===et.Right?T.right-T.width/2:T.right,Math.max(x===et.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(x===et.Down?T.bottom-T.height/2:T.bottom,Math.max(x===et.Down?T.top:T.top+T.height/2,d.y))},R=x===et.Right&&!f||x===et.Left&&!y,_=x===et.Down&&!b||x===et.Up&&!m;if(R&&N.x!==d.x){const k=v.scrollLeft+o.x,dt=x===et.Right&&k<=A.x||x===et.Left&&k>=D.x;if(dt&&!o.y){v.scrollTo({left:k,behavior:r});return}dt?p.x=v.scrollLeft-k:p.x=x===et.Right?v.scrollLeft-A.x:v.scrollLeft-D.x,p.x&&v.scrollBy({left:-p.x,behavior:r});break}else if(_&&N.y!==d.y){const k=v.scrollTop+o.y,dt=x===et.Down&&k<=A.y||x===et.Up&&k>=D.y;if(dt&&!o.x){v.scrollTo({top:k,behavior:r});return}dt?p.y=v.scrollTop-k:p.y=x===et.Down?v.scrollTop-A.y:v.scrollTop-D.y,p.y&&v.scrollBy({top:-p.y,behavior:r});break}}this.handleMove(e,qa(ks(d,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Hm.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=Im,onActivation:l}=e,{active:i}=n;const{code:s}=t.nativeEvent;if(a.start.includes(s)){const r=i.activatorNode.current;return r&&t.target!==r?!1:(t.preventDefault(),l==null||l({event:t.nativeEvent}),!0)}return!1}}];function ed(t){return!!(t&&"distance"in t)}function nd(t){return!!(t&&"delay"in t)}class go{constructor(e,n,a){var l;a===void 0&&(a=kv(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:s}=i;this.props=e,this.events=n,this.document=hl(s),this.documentListeners=new Ql(this.document),this.listeners=new Ql(a),this.windowListeners=new Ql(Bt(s)),this.initialCoordinates=(l=qs(i))!=null?l:De,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(he.Resize,this.handleCancel),this.windowListeners.add(he.DragStart,td),this.windowListeners.add(he.VisibilityChange,this.handleCancel),this.windowListeners.add(he.ContextMenu,td),this.documentListeners.add(he.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nd(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ed(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:l}=this.props;l(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(he.Click,qv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(he.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:l,props:i}=this,{onMove:s,options:{activationConstraint:r}}=i;if(!l)return;const u=(n=qs(e))!=null?n:De,c=ks(l,u);if(!a&&r){if(ed(r)){if(r.tolerance!=null&&lu(c,r.tolerance))return this.handleCancel();if(lu(c,r.distance))return this.handleStart()}if(nd(r)&&lu(c,r.tolerance))return this.handleCancel();this.handlePending(r,c);return}e.cancelable&&e.preventDefault(),s(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Vv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ym extends go{constructor(e){const{event:n}=e,a=hl(n.target);super(e,Vv,a)}}Ym.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const Qv={move:{name:"mousemove"},end:{name:"mouseup"}};var ac;(function(t){t[t.RightClick=2]="RightClick"})(ac||(ac={}));class Zv extends go{constructor(e){super(e,Qv,hl(e.event.target))}}Zv.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===ac.RightClick?!1:(a==null||a({event:n}),!0)}}];const iu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Kv extends go{constructor(e){super(e,iu)}static setup(){return window.addEventListener(iu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(iu.move.name,e)};function e(){}}}Kv.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:l}=n;return l.length>1?!1:(a==null||a({event:n}),!0)}}];var Zl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Zl||(Zl={}));var Vs;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vs||(Vs={}));function Jv(t){let{acceleration:e,activator:n=Zl.Pointer,canScroll:a,draggingRect:l,enabled:i,interval:s=5,order:r=Vs.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:h,delta:d,threshold:o}=t;const p=Wv({delta:d,disabled:!i}),[S,v]=ov(),x=E.useRef({x:0,y:0}),m=E.useRef({x:0,y:0}),f=E.useMemo(()=>{switch(n){case Zl.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Zl.DraggableRect:return l}},[n,l,u]),y=E.useRef(null),b=E.useCallback(()=>{const D=y.current;if(!D)return;const T=x.current.x*m.current.x,N=x.current.y*m.current.y;D.scrollBy(T,N)},[]),A=E.useMemo(()=>r===Vs.TreeOrder?[...c].reverse():c,[r,c]);E.useEffect(()=>{if(!i||!c.length||!f){v();return}for(const D of A){if((a==null?void 0:a(D))===!1)continue;const T=c.indexOf(D),N=h[T];if(!N)continue;const{direction:R,speed:_}=Iv(D,N,f,e,o);for(const k of["x","y"])p[k][R[k]]||(_[k]=0,R[k]=0);if(_.x>0||_.y>0){v(),y.current=D,S(b,s),x.current=_,m.current=R;return}}x.current={x:0,y:0},m.current={x:0,y:0},v()},[e,b,a,v,i,s,JSON.stringify(f),JSON.stringify(p),S,c,A,h,JSON.stringify(o)])}const $v={x:{[Tt.Backward]:!1,[Tt.Forward]:!1},y:{[Tt.Backward]:!1,[Tt.Forward]:!1}};function Wv(t){let{delta:e,disabled:n}=t;const a=Bs(e);return Di(l=>{if(n||!a||!l)return $v;const i={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[Tt.Backward]:l.x[Tt.Backward]||i.x===-1,[Tt.Forward]:l.x[Tt.Forward]||i.x===1},y:{[Tt.Backward]:l.y[Tt.Backward]||i.y===-1,[Tt.Forward]:l.y[Tt.Forward]||i.y===1}}},[n,e,a])}function Fv(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return Di(l=>{var i;return e==null?null:(i=a??l)!=null?i:null},[a,e])}function Pv(t,e){return E.useMemo(()=>t.reduce((n,a)=>{const{sensor:l}=a,i=l.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,a)}));return[...n,...i]},[]),[t,e])}var di;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(di||(di={}));var lc;(function(t){t.Optimized="optimized"})(lc||(lc={}));const ad=new Map;function tb(t,e){let{dragging:n,dependencies:a,config:l}=e;const[i,s]=E.useState(null),{frequency:r,measure:u,strategy:c}=l,h=E.useRef(t),d=x(),o=oi(d),p=E.useCallback(function(m){m===void 0&&(m=[]),!o.current&&s(f=>f===null?m:f.concat(m.filter(y=>!f.includes(y))))},[o]),S=E.useRef(null),v=Di(m=>{if(d&&!n)return ad;if(!m||m===ad||h.current!==t||i!=null){const f=new Map;for(let y of t){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){f.set(y.id,y.rect.current);continue}const b=y.node.current,A=b?new ho(u(b),b):null;y.rect.current=A,A&&f.set(y.id,A)}return f}return m},[t,i,n,d,u]);return E.useEffect(()=>{h.current=t},[t]),E.useEffect(()=>{d||p()},[n,d]),E.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),E.useEffect(()=>{d||typeof r!="number"||S.current!==null||(S.current=setTimeout(()=>{p(),S.current=null},r))},[r,d,p,...a]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:i!=null};function x(){switch(c){case di.Always:return!1;case di.BeforeDragging:return n;default:return!n}}}function mo(t,e){return Di(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function eb(t,e){return mo(t,e)}function nb(t){let{callback:e,disabled:n}=t;const a=hr(e),l=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,n]);return E.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function mr(t){let{callback:e,disabled:n}=t;const a=hr(e),l=E.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[n]);return E.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ab(t){return new ho(Ni(t),t)}function ld(t,e,n){e===void 0&&(e=ab);const[a,l]=E.useState(null);function i(){l(u=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=u??n)!=null?c:null}const h=e(t);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const s=nb({callback(u){if(t)for(const c of u){const{type:h,target:d}=c;if(h==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),r=mr({callback:i});return rn(()=>{i(),t?(r==null||r.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(r==null||r.disconnect(),s==null||s.disconnect())},[t]),a}function lb(t){const e=mo(t);return Cm(t,e)}const id=[];function ib(t){const e=E.useRef(t),n=Di(a=>t?a&&a!==id&&t&&e.current&&t.parentNode===e.current.parentNode?a:fo(t):id,[t]);return E.useEffect(()=>{e.current=t},[t]),n}function sb(t){const[e,n]=E.useState(null),a=E.useRef(t),l=E.useCallback(i=>{const s=au(i.target);s&&n(r=>r?(r.set(s,nc(s)),new Map(r)):null)},[]);return E.useEffect(()=>{const i=a.current;if(t!==i){s(i);const r=t.map(u=>{const c=au(u);return c?(c.addEventListener("scroll",l,{passive:!0}),[c,nc(c)]):null}).filter(u=>u!=null);n(r.length?new Map(r):null),a.current=t}return()=>{s(t),s(i)};function s(r){r.forEach(u=>{const c=au(u);c==null||c.removeEventListener("scroll",l)})}},[l,t]),E.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>qa(i,s),De):jm(t):De,[t,e])}function sd(t,e){e===void 0&&(e=[]);const n=E.useRef(null);return E.useEffect(()=>{n.current=null},e),E.useEffect(()=>{const a=t!==De;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?ks(t,n.current):De}function rb(t){E.useEffect(()=>{if(!dr)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function ub(t,e){return E.useMemo(()=>t.reduce((n,a)=>{let{eventName:l,handler:i}=a;return n[l]=s=>{i(s,e)},n},{}),[t,e])}function Gm(t){return E.useMemo(()=>t?zv(t):null,[t])}const rd=[];function cb(t,e){e===void 0&&(e=Ni);const[n]=t,a=Gm(n?Bt(n):null),[l,i]=E.useState(rd);function s(){i(()=>t.length?t.map(u=>zm(u)?a:new ho(e(u),u)):rd)}const r=mr({callback:s});return rn(()=>{r==null||r.disconnect(),s(),t.forEach(u=>r==null?void 0:r.observe(u))},[t]),l}function Bm(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return xi(e)?e:t}function ob(t){let{measure:e}=t;const[n,a]=E.useState(null),l=E.useCallback(c=>{for(const{target:h}of c)if(xi(h)){a(d=>{const o=e(h);return d?{...d,width:o.width,height:o.height}:o});break}},[e]),i=mr({callback:l}),s=E.useCallback(c=>{const h=Bm(c);i==null||i.disconnect(),h&&(i==null||i.observe(h)),a(h?e(h):null)},[e,i]),[r,u]=Gs(s);return E.useMemo(()=>({nodeRef:r,rect:n,setRef:u}),[n,r,u])}const fb=[{sensor:Ym,options:{}},{sensor:Hm,options:{}}],db={current:{}},os={draggable:{measure:Pf},droppable:{measure:Pf,strategy:di.WhileDragging,frequency:lc.Optimized},dragOverlay:{measure:Ni}};class Kl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const hb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xs},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:os,measureDroppableContainers:Xs,windowRect:null,measuringScheduled:!1},km={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xs,draggableNodes:new Map,over:null,measureDroppableContainers:Xs},Ci=E.createContext(km),qm=E.createContext(hb);function gb(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kl}}}function mb(t,e){switch(e.type){case St.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case St.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case St.DragEnd:case St.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case St.RegisterDroppable:{const{element:n}=e,{id:a}=n,l=new Kl(t.droppable.containers);return l.set(a,n),{...t,droppable:{...t.droppable,containers:l}}}case St.SetDroppableDisabled:{const{id:n,key:a,disabled:l}=e,i=t.droppable.containers.get(n);if(!i||a!==i.key)return t;const s=new Kl(t.droppable.containers);return s.set(n,{...i,disabled:l}),{...t,droppable:{...t.droppable,containers:s}}}case St.UnregisterDroppable:{const{id:n,key:a}=e,l=t.droppable.containers.get(n);if(!l||a!==l.key)return t;const i=new Kl(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function yb(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:l}=E.useContext(Ci),i=Bs(a),s=Bs(n==null?void 0:n.id);return E.useEffect(()=>{if(!e&&!a&&i&&s!=null){if(!oo(i)||document.activeElement===i.target)return;const r=l.get(s);if(!r)return;const{activatorNode:u,node:c}=r;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const h of[u.current,c.current]){if(!h)continue;const d=hv(h);if(d){d.focus();break}}})}},[a,e,l,s,i]),null}function Xm(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((l,i)=>i({transform:l,...a}),n):n}function pb(t){return E.useMemo(()=>({draggable:{...os.draggable,...t==null?void 0:t.draggable},droppable:{...os.droppable,...t==null?void 0:t.droppable},dragOverlay:{...os.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function vb(t){let{activeNode:e,measure:n,initialRect:a,config:l=!0}=t;const i=E.useRef(!1),{x:s,y:r}=typeof l=="boolean"?{x:l,y:l}:l;rn(()=>{if(!s&&!r||!e){i.current=!1;return}if(i.current||!a)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const h=n(c),d=Cm(h,a);if(s||(d.x=0),r||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const o=Rm(c);o&&o.scrollBy({top:d.y,left:d.x})}},[e,s,r,a,n])}const yr=E.createContext({...De,scaleX:1,scaleY:1});var bn;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(bn||(bn={}));const bb=E.memo(function(e){var n,a,l,i;let{id:s,accessibility:r,autoScroll:u=!0,children:c,sensors:h=fb,collisionDetection:d=Nv,measuring:o,modifiers:p,...S}=e;const v=E.useReducer(mb,void 0,gb),[x,m]=v,[f,y]=bv(),[b,A]=E.useState(bn.Uninitialized),D=b===bn.Initialized,{draggable:{active:T,nodes:N,translate:R},droppable:{containers:_}}=x,k=T!=null?N.get(T):null,dt=E.useRef({initial:null,translated:null}),Nt=E.useMemo(()=>{var Lt;return T!=null?{id:T,data:(Lt=k==null?void 0:k.data)!=null?Lt:db,rect:dt}:null},[T,k]),It=E.useRef(null),[$t,C]=E.useState(null),[z,j]=E.useState(null),Z=oi(S,Object.values(S)),tt=gr("DndDescribedBy",s),we=E.useMemo(()=>_.getEnabled(),[_]),jt=pb(o),{droppableRects:Wt,measureDroppableContainers:M,measuringScheduled:H}=tb(we,{dragging:D,dependencies:[R.x,R.y],config:jt.droppable}),Y=Fv(N,T),K=E.useMemo(()=>z?qs(z):null,[z]),W=oy(),bt=eb(Y,jt.draggable.measure);vb({activeNode:T!=null?N.get(T):null,config:W.layoutShiftCompensation,initialRect:bt,measure:jt.draggable.measure});const Ct=ld(Y,jt.draggable.measure,bt),kt=ld(Y?Y.parentElement:null),Ce=E.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:Wt,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Oi=_.getNodeFor((n=Ce.current.over)==null?void 0:n.id),He=ob({measure:jt.dragOverlay.measure}),Qn=(a=He.nodeRef.current)!=null?a:Y,Ye=D?(l=He.rect)!=null?l:Ct:null,gl=!!(He.nodeRef.current&&He.rect),ml=lb(gl?null:Ct),Ge=Gm(Qn?Bt(Qn):null),on=ib(D?Oi??Y:null),Ri=cb(on),_i=Xm(p,{transform:{x:R.x-ml.x,y:R.y-ml.y,scaleX:1,scaleY:1},activatorEvent:z,active:Nt,activeNodeRect:Ct,containerNodeRect:kt,draggingNodeRect:Ye,over:Ce.current.over,overlayNodeRect:He.rect,scrollableAncestors:on,scrollableAncestorRects:Ri,windowRect:Ge}),po=K?qa(K,R):null,vo=sb(on),ay=sd(vo),ly=sd(vo,[Ct]),ma=qa(_i,ay),ya=Ye?Rv(Ye,_i):null,yl=Nt&&ya?d({active:Nt,collisionRect:ya,droppableRects:Wt,droppableContainers:we,pointerCoordinates:po}):null,bo=xv(yl,"id"),[fn,So]=E.useState(null),iy=gl?_i:qa(_i,ly),sy=Cv(iy,(i=fn==null?void 0:fn.rect)!=null?i:null,Ct),pr=E.useRef(null),Eo=E.useCallback((Lt,Ft)=>{let{sensor:Pt,options:dn}=Ft;if(It.current==null)return;const fe=N.get(It.current);if(!fe)return;const te=Lt.nativeEvent,Oe=new Pt({active:It.current,activeNode:fe,event:te,options:dn,context:Ce,onAbort(Ot){if(!N.get(Ot))return;const{onDragAbort:Re}=Z.current,Be={id:Ot};Re==null||Re(Be),f({type:"onDragAbort",event:Be})},onPending(Ot,hn,Re,Be){if(!N.get(Ot))return;const{onDragPending:vl}=Z.current,gn={id:Ot,constraint:hn,initialCoordinates:Re,offset:Be};vl==null||vl(gn),f({type:"onDragPending",event:gn})},onStart(Ot){const hn=It.current;if(hn==null)return;const Re=N.get(hn);if(!Re)return;const{onDragStart:Be}=Z.current,pl={activatorEvent:te,active:{id:hn,data:Re.data,rect:dt}};Fn.unstable_batchedUpdates(()=>{Be==null||Be(pl),A(bn.Initializing),m({type:St.DragStart,initialCoordinates:Ot,active:hn}),f({type:"onDragStart",event:pl}),C(pr.current),j(te)})},onMove(Ot){m({type:St.DragMove,coordinates:Ot})},onEnd:pa(St.DragEnd),onCancel:pa(St.DragCancel)});pr.current=Oe;function pa(Ot){return async function(){const{active:Re,collisions:Be,over:pl,scrollAdjustedTranslate:vl}=Ce.current;let gn=null;if(Re&&vl){const{cancelDrop:bl}=Z.current;gn={activatorEvent:te,active:Re,collisions:Be,delta:vl,over:pl},Ot===St.DragEnd&&typeof bl=="function"&&await Promise.resolve(bl(gn))&&(Ot=St.DragCancel)}It.current=null,Fn.unstable_batchedUpdates(()=>{m({type:Ot}),A(bn.Uninitialized),So(null),C(null),j(null),pr.current=null;const bl=Ot===St.DragEnd?"onDragEnd":"onDragCancel";if(gn){const vr=Z.current[bl];vr==null||vr(gn),f({type:bl,event:gn})}})}}},[N]),ry=E.useCallback((Lt,Ft)=>(Pt,dn)=>{const fe=Pt.nativeEvent,te=N.get(dn);if(It.current!==null||!te||fe.dndKit||fe.defaultPrevented)return;const Oe={active:te};Lt(Pt,Ft.options,Oe)===!0&&(fe.dndKit={capturedBy:Ft.sensor},It.current=dn,Eo(Pt,Ft))},[N,Eo]),Ao=Pv(h,ry);rb(h),rn(()=>{Ct&&b===bn.Initializing&&A(bn.Initialized)},[Ct,b]),E.useEffect(()=>{const{onDragMove:Lt}=Z.current,{active:Ft,activatorEvent:Pt,collisions:dn,over:fe}=Ce.current;if(!Ft||!Pt)return;const te={active:Ft,activatorEvent:Pt,collisions:dn,delta:{x:ma.x,y:ma.y},over:fe};Fn.unstable_batchedUpdates(()=>{Lt==null||Lt(te),f({type:"onDragMove",event:te})})},[ma.x,ma.y]),E.useEffect(()=>{const{active:Lt,activatorEvent:Ft,collisions:Pt,droppableContainers:dn,scrollAdjustedTranslate:fe}=Ce.current;if(!Lt||It.current==null||!Ft||!fe)return;const{onDragOver:te}=Z.current,Oe=dn.get(bo),pa=Oe&&Oe.rect.current?{id:Oe.id,rect:Oe.rect.current,data:Oe.data,disabled:Oe.disabled}:null,Ot={active:Lt,activatorEvent:Ft,collisions:Pt,delta:{x:fe.x,y:fe.y},over:pa};Fn.unstable_batchedUpdates(()=>{So(pa),te==null||te(Ot),f({type:"onDragOver",event:Ot})})},[bo]),rn(()=>{Ce.current={activatorEvent:z,active:Nt,activeNode:Y,collisionRect:ya,collisions:yl,droppableRects:Wt,draggableNodes:N,draggingNode:Qn,draggingNodeRect:Ye,droppableContainers:_,over:fn,scrollableAncestors:on,scrollAdjustedTranslate:ma},dt.current={initial:Ye,translated:ya}},[Nt,Y,yl,ya,N,Qn,Ye,Wt,_,fn,on,ma]),Jv({...W,delta:R,draggingRect:ya,pointerCoordinates:po,scrollableAncestors:on,scrollableAncestorRects:Ri});const uy=E.useMemo(()=>({active:Nt,activeNode:Y,activeNodeRect:Ct,activatorEvent:z,collisions:yl,containerNodeRect:kt,dragOverlay:He,draggableNodes:N,droppableContainers:_,droppableRects:Wt,over:fn,measureDroppableContainers:M,scrollableAncestors:on,scrollableAncestorRects:Ri,measuringConfiguration:jt,measuringScheduled:H,windowRect:Ge}),[Nt,Y,Ct,z,yl,kt,He,N,_,Wt,fn,M,on,Ri,jt,H,Ge]),cy=E.useMemo(()=>({activatorEvent:z,activators:Ao,active:Nt,activeNodeRect:Ct,ariaDescribedById:{draggable:tt},dispatch:m,draggableNodes:N,over:fn,measureDroppableContainers:M}),[z,Ao,Nt,Ct,m,tt,N,fn,M]);return at.createElement(Nm.Provider,{value:y},at.createElement(Ci.Provider,{value:cy},at.createElement(qm.Provider,{value:uy},at.createElement(yr.Provider,{value:sy},c)),at.createElement(yb,{disabled:(r==null?void 0:r.restoreFocus)===!1})),at.createElement(Av,{...r,hiddenTextDescribedById:tt}));function oy(){const Lt=($t==null?void 0:$t.autoScrollEnabled)===!1,Ft=typeof u=="object"?u.enabled===!1:u===!1,Pt=D&&!Lt&&!Ft;return typeof u=="object"?{...u,enabled:Pt}:{enabled:Pt}}}),Sb=E.createContext(null),ud="button",Eb="Draggable";function Ab(t){let{id:e,data:n,disabled:a=!1,attributes:l}=t;const i=gr(Eb),{activators:s,activatorEvent:r,active:u,activeNodeRect:c,ariaDescribedById:h,draggableNodes:d,over:o}=E.useContext(Ci),{role:p=ud,roleDescription:S="draggable",tabIndex:v=0}=l??{},x=(u==null?void 0:u.id)===e,m=E.useContext(x?yr:Sb),[f,y]=Gs(),[b,A]=Gs(),D=ub(s,e),T=oi(n);rn(()=>(d.set(e,{id:e,key:i,node:f,activatorNode:b,data:T}),()=>{const R=d.get(e);R&&R.key===i&&d.delete(e)}),[d,e]);const N=E.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":a,"aria-pressed":x&&p===ud?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[a,p,v,x,S,h.draggable]);return{active:u,activatorEvent:r,activeNodeRect:c,attributes:N,isDragging:x,listeners:a?void 0:D,node:f,over:o,setNodeRef:y,setActivatorNodeRef:A,transform:m}}function wb(){return E.useContext(qm)}const Tb="Droppable",xb={timeout:25};function Db(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:l}=t;const i=gr(Tb),{active:s,dispatch:r,over:u,measureDroppableContainers:c}=E.useContext(Ci),h=E.useRef({disabled:n}),d=E.useRef(!1),o=E.useRef(null),p=E.useRef(null),{disabled:S,updateMeasurementsFor:v,timeout:x}={...xb,...l},m=oi(v??a),f=E.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(m.current)?m.current:[m.current]),p.current=null},x)},[x]),y=mr({callback:f,disabled:S||!s}),b=E.useCallback((N,R)=>{y&&(R&&(y.unobserve(R),d.current=!1),N&&y.observe(N))},[y]),[A,D]=Gs(b),T=oi(e);return E.useEffect(()=>{!y||!A.current||(y.disconnect(),d.current=!1,y.observe(A.current))},[A,y]),E.useEffect(()=>(r({type:St.RegisterDroppable,element:{id:a,key:i,disabled:n,node:A,rect:o,data:T}}),()=>r({type:St.UnregisterDroppable,key:i,id:a})),[a]),E.useEffect(()=>{n!==h.current.disabled&&(r({type:St.SetDroppableDisabled,id:a,key:i,disabled:n}),h.current.disabled=n)},[a,i,n,r]),{active:s,rect:o,isOver:(u==null?void 0:u.id)===a,node:A,over:u,setNodeRef:D}}function Nb(t){let{animation:e,children:n}=t;const[a,l]=E.useState(null),[i,s]=E.useState(null),r=Bs(n);return!n&&!a&&r&&l(r),rn(()=>{if(!i)return;const u=a==null?void 0:a.key,c=a==null?void 0:a.props.id;if(u==null||c==null){l(null);return}Promise.resolve(e(c,i)).then(()=>{l(null)})},[e,a,i]),at.createElement(at.Fragment,null,n,a?E.cloneElement(a,{ref:s}):null)}const Cb={x:0,y:0,scaleX:1,scaleY:1};function Ob(t){let{children:e}=t;return at.createElement(Ci.Provider,{value:km},at.createElement(yr.Provider,{value:Cb},e))}const Rb={position:"fixed",touchAction:"none"},_b=t=>oo(t)?"transform 250ms ease":void 0,Mb=E.forwardRef((t,e)=>{let{as:n,activatorEvent:a,adjustScale:l,children:i,className:s,rect:r,style:u,transform:c,transition:h=_b}=t;if(!r)return null;const d=l?c:{...c,scaleX:1,scaleY:1},o={...Rb,width:r.width,height:r.height,top:r.top,left:r.left,transform:fi.Transform.toString(d),transformOrigin:l&&a?wv(a,r):void 0,transition:typeof h=="function"?h(a):h,...u};return at.createElement(n,{className:s,style:o,ref:e},i)}),zb=t=>e=>{let{active:n,dragOverlay:a}=e;const l={},{styles:i,className:s}=t;if(i!=null&&i.active)for(const[r,u]of Object.entries(i.active))u!==void 0&&(l[r]=n.node.style.getPropertyValue(r),n.node.style.setProperty(r,u));if(i!=null&&i.dragOverlay)for(const[r,u]of Object.entries(i.dragOverlay))u!==void 0&&a.node.style.setProperty(r,u);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&a.node.classList.add(s.dragOverlay),function(){for(const[u,c]of Object.entries(l))n.node.style.setProperty(u,c);s!=null&&s.active&&n.node.classList.remove(s.active)}},Ub=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:fi.Transform.toString(e)},{transform:fi.Transform.toString(n)}]},jb={duration:250,easing:"ease",keyframes:Ub,sideEffects:zb({styles:{active:{opacity:"0"}}})};function Lb(t){let{config:e,draggableNodes:n,droppableContainers:a,measuringConfiguration:l}=t;return hr((i,s)=>{if(e===null)return;const r=n.get(i);if(!r)return;const u=r.node.current;if(!u)return;const c=Bm(s);if(!c)return;const{transform:h}=Bt(s).getComputedStyle(s),d=Om(h);if(!d)return;const o=typeof e=="function"?e:Ib(e);return Lm(u,l.draggable.measure),o({active:{id:i,data:r.data,node:u,rect:l.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:s,rect:l.dragOverlay.measure(c)},droppableContainers:a,measuringConfiguration:l,transform:d})})}function Ib(t){const{duration:e,easing:n,sideEffects:a,keyframes:l}={...jb,...t};return i=>{let{active:s,dragOverlay:r,transform:u,...c}=i;if(!e)return;const h={x:r.rect.left-s.rect.left,y:r.rect.top-s.rect.top},d={scaleX:u.scaleX!==1?s.rect.width*u.scaleX/r.rect.width:1,scaleY:u.scaleY!==1?s.rect.height*u.scaleY/r.rect.height:1},o={x:u.x-h.x,y:u.y-h.y,...d},p=l({...c,active:s,dragOverlay:r,transform:{initial:u,final:o}}),[S]=p,v=p[p.length-1];if(JSON.stringify(S)===JSON.stringify(v))return;const x=a==null?void 0:a({active:s,dragOverlay:r,...c}),m=r.node.animate(p,{duration:e,easing:n,fill:"forwards"});return new Promise(f=>{m.onfinish=()=>{x==null||x(),f()}})}}let cd=0;function Hb(t){return E.useMemo(()=>{if(t!=null)return cd++,cd},[t])}const Yb=at.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:a,style:l,transition:i,modifiers:s,wrapperElement:r="div",className:u,zIndex:c=999}=t;const{activatorEvent:h,active:d,activeNodeRect:o,containerNodeRect:p,draggableNodes:S,droppableContainers:v,dragOverlay:x,over:m,measuringConfiguration:f,scrollableAncestors:y,scrollableAncestorRects:b,windowRect:A}=wb(),D=E.useContext(yr),T=Hb(d==null?void 0:d.id),N=Xm(s,{activatorEvent:h,active:d,activeNodeRect:o,containerNodeRect:p,draggingNodeRect:x.rect,over:m,overlayNodeRect:x.rect,scrollableAncestors:y,scrollableAncestorRects:b,transform:D,windowRect:A}),R=mo(o),_=Lb({config:a,draggableNodes:S,droppableContainers:v,measuringConfiguration:f}),k=R?x.setRef:void 0;return at.createElement(Ob,null,at.createElement(Nb,{animation:_},d&&T?at.createElement(Mb,{key:T,id:d.id,ref:k,as:r,activatorEvent:h,adjustScale:e,className:u,transition:i,rect:R,style:{zIndex:c,...l},transform:N},n):null))}),Gb="/assets/card-frame-vBb4lK3e.png",Bb="/assets/rarity-gems-BBoNp6fY.png",al=({card:t,isInHand:e=!1,rotation:n=0,yOffset:a=0,isDragging:l=!1,style:i={},variant:s="hand"})=>{const r=t.getType()==="unit",u=r?t:null,[c,h]=E.useState(!1),[d,o]=E.useState({x:0,y:0}),p=(A="common")=>{const D={common:"0%",rare:"33.3%",epic:"66.6%",legendary:"100%"};return{backgroundImage:`url(${Bb})`,backgroundPositionX:D[A]||"0%",backgroundSize:"400% 100%"}},S=()=>u?u.power>u.originalPower?"text-green-700":u.power<u.originalPower?"text-red-700":"text-stone-800":"text-stone-800",v=A=>{if(s==="board"){const D=A.target.getBoundingClientRect();o({x:D.right+20,y:D.top-50}),h(!0)}},x=()=>{if(!u)return null;const A=[];u.hasDominant&&A.push(g.jsx("span",{children:""},"dom")),u.shield>0&&A.push(g.jsx("span",{children:""},"shield")),u.hasDeathTrigger&&A.push(g.jsx("span",{children:""},"death")),u.hasActiveAbility&&A.push(g.jsx("span",{children:""},"active")),u.hasOngoingEffect&&A.push(g.jsx("span",{children:""},"ongoing"));const D=3;return A.length>D?g.jsxs("div",{className:"flex gap-1 text-sm justify-center bg-stone-900/40 rounded-full px-1.5 py-0.5 text-white shadow-sm backdrop-blur-sm",children:[A.slice(0,D),g.jsx("span",{className:"font-bold",children:"..."})]}):A.length===0?null:g.jsx("div",{className:"flex gap-1 text-sm justify-center bg-stone-900/40 rounded-full px-1.5 py-0.5 text-white shadow-sm backdrop-blur-sm",children:A})},m="w-48",f="h-72",y=s==="board"?"scale-[0.65]":"",b=s==="board"?"origin-center":"";return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`relative ${m} ${f} select-none transition-transform duration-200 ${y} ${b}`,style:{transform:s==="board"?void 0:`rotate(${n}deg) translateY(${a}px)`,opacity:l?.5:1,cursor:e||s==="board"?e?"grab":"help":"default",...i},onMouseEnter:v,onMouseLeave:()=>h(!1),children:[g.jsx("img",{src:Gb,alt:"frame",className:"absolute inset-0 w-full h-full z-10 pointer-events-none drop-shadow-xl"}),g.jsx("div",{className:"absolute inset-0 z-0 flex flex-col pt-[18%] px-[12%] pb-[40%]",children:g.jsxs("div",{className:"bg-stone-300 w-full h-full rounded-sm overflow-hidden relative",children:[g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-stone-400",children:g.jsx("span",{className:"text-stone-600 font-bold opacity-30 text-2xl",children:"ART"})}),s==="board"&&g.jsx("div",{className:"absolute bottom-2 w-full flex justify-center z-20",children:x()})]})}),g.jsx("div",{className:"absolute top-[6%] left-[20%] right-[20%] h-[10%] z-20 flex items-center justify-center",children:g.jsx("span",{className:"font-serif font-bold text-stone-900 text-sm tracking-wide text-shadow-sm truncate w-full text-center",children:t.name.toUpperCase()})}),r&&u&&g.jsx("div",{className:"absolute top-[3%] left-[4%] w-[16%] aspect-square z-30 flex items-center justify-center",children:g.jsx("span",{className:`font-bold text-2xl drop-shadow-md stroke-black stroke-2 ${S()}`,children:u.power})}),g.jsxs("div",{className:"absolute top-[60%] left-[10%] right-[10%] h-[6%] z-20 flex items-center justify-between px-2",children:[g.jsx("span",{className:"font-ui text-[10px] uppercase font-bold text-stone-300 tracking-wider",children:r?"Unit":"Action"}),g.jsx("div",{className:"w-5 h-5 bg-no-repeat",style:p(t.rarity)})]}),s!=="board"&&g.jsx("div",{className:"absolute top-[68%] left-[12%] right-[12%] bottom-[8%] z-20 p-1 flex items-center justify-center",children:g.jsx("p",{className:"font-serif text-[11px] leading-tight text-stone-900 text-center",children:t.description})})]}),c&&s==="board"&&Fn.createPortal(g.jsx("div",{className:"fixed z-[9999] pointer-events-none",style:{left:Math.min(window.innerWidth-300,d.x),top:Math.max(10,Math.min(window.innerHeight-300,d.y))},children:g.jsx("div",{className:"scale-100 origin-top-left",children:g.jsx(al,{card:t,variant:"preview"})})}),document.body)]})},kb=({unit:t,slotModifier:e,playerId:n,terrainId:a,isPlayerSlot:l,isHighlighted:i=!1,onDrop:s,winner:r,isTargetable:u=!1,onUnitClick:c,onSlotClick:h})=>{const d=v=>{v.preventDefault(),s&&(l||i||u)&&s(a,n)},o=v=>{v.preventDefault()},p=()=>{if(u){if(h){h(a,n);return}t&&c&&c(t.id)}},S=()=>{const v="w-36 h-52 rounded-xl border-2 flex flex-col items-center justify-center relative";return u?`${v} border-green-500 bg-green-50/50 border-solid shadow-lg cursor-pointer animate-pulse`:i&&!t?`${v} border-blue-500 bg-blue-50/50 border-dashed`:t?`${v} border-stone-400 bg-stone-300/30`:`${v} border-stone-400 bg-stone-300/50 border-dashed`};return g.jsxs("div",{className:S(),onDrop:d,onDragOver:o,onClick:p,children:[t?g.jsxs("div",{className:"p-1",children:[g.jsx(al,{card:t,variant:"board",isPlayerOwned:l}),u&&g.jsx("div",{className:"absolute inset-0 border-4 border-green-400 rounded-xl pointer-events-none animate-pulse"})]}):g.jsx("span",{className:"font-ui text-xs text-stone-400",children:i?"Drop here":"Empty"}),e!==0&&g.jsxs("div",{className:`
            absolute left-1/2 -translate-x-1/2
            ${l?"-bottom-2":"-top-2"}
            px-3 py-1 rounded-full text-xs font-bold
            ${e>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}
            border border-stone-800 shadow-sm
          `,children:[e>0?"+":"",e]}),r===n&&g.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 text-2xl",children:""})]})},od=({terrainId:t,playerId:e,unit:n,slotModifier:a,isPlayerSlot:l,isHighlighted:i,winner:s,isTargetable:r,onUnitClick:u,onSlotClick:c})=>{const{setNodeRef:h,isOver:d}=Db({id:`slot-${t}-${e}`,data:{slotCoord:{terrainId:t,playerId:e}}});return g.jsx("div",{ref:h,children:g.jsx(kb,{terrainId:t,playerId:e,unit:n,slotModifier:a,isPlayerSlot:l,isHighlighted:i||d,winner:s,isTargetable:r,onUnitClick:u,onSlotClick:c})})},qb=({card:t,rotation:e=0,yOffset:n=0,isHovered:a=!1,isTop:l=!1})=>{const{attributes:i,listeners:s,setNodeRef:r,transform:u,isDragging:c}=Ab({id:t.id,data:{card:t}}),h={transform:u?`translate3d(${u.x}px, ${u.y}px, 0)`:void 0,zIndex:c?1e3:a?50:void 0};return g.jsx("div",{ref:r,style:h,...s,...i,children:g.jsx(al,{card:t,isInHand:!0,rotation:a?0:e,yOffset:a?l?40:-40:n,isDragging:c,variant:"hand"})})},fd=({cards:t,isLocalPlayer:e,isOpen:n=!1,isTop:a=!1})=>{const[l,i]=E.useState(null),s=t.length,r=10,u=90,c=d=>{const o=(s-1)/2,p=d-o,S=p/Math.max(s,5)*r,v=p*u,x=Math.abs(p)*5;return{rotation:S,x:v,yOffset:x}};return e||n?g.jsx("div",{className:`relative h-64 flex ${a?"items-start":"items-end"} justify-center`,children:g.jsx("div",{className:"relative",style:{width:`${s*u+150}px`},children:t.map((d,o)=>{const{rotation:p,x:S,yOffset:v}=c(o),x=l===o;return g.jsx("div",{className:`absolute left-1/2 ${a?"top-0":"bottom-0"}`,style:{transform:`translateX(calc(-50% + ${S}px))`,zIndex:x?50:o},onMouseEnter:()=>i(o),onMouseLeave:()=>i(null),children:g.jsx(qb,{card:d,rotation:p,yOffset:v,isHovered:x,isTop:a})},d.id)})})}):g.jsx("div",{className:"relative h-64 flex items-start justify-center",children:g.jsx("div",{className:"relative",style:{width:`${s*u+150}px`},children:t.map((d,o)=>{const{rotation:p,x:S,yOffset:v}=c(o);return g.jsx("div",{className:"absolute left-1/2 top-0",style:{transform:`translateX(calc(-50% + ${S}px))`,zIndex:o},children:g.jsx("div",{className:"w-32 h-48 bg-amber-600 rounded-lg border-2 border-stone-800 shadow-md flex items-center justify-center",style:{transform:`rotate(${p}deg) translateY(${v}px)`},children:g.jsx("span",{className:"font-hand text-2xl text-amber-900",children:"?"})})},o)})})})},Xb=({gameState:t,localPlayerId:e,onPlayAgain:n,onMainMenu:a})=>{const{matchWinner:l,players:i}=t;if(l===void 0)return null;const s=e===0?1:0,r=i[e],u=i[s],c=l===e,h=l===null,d=r.skirmishesWon,o=u.skirmishesWon;return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsx("div",{className:"bg-white rounded-lg shadow-2xl p-8 max-w-md w-full mx-4",children:g.jsxs("div",{className:"text-center space-y-6",children:[h?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-6xl font-hand text-amber-600",children:"Draw!"}),g.jsx("p",{className:"font-ui text-xl text-stone-700",children:"The match ended in a tie"})]}):c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-6xl font-hand text-green-600",children:"Victory!"}),g.jsx("p",{className:"font-ui text-xl text-stone-700",children:"You won the match!"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-6xl font-hand text-red-600",children:"Defeat"}),g.jsx("p",{className:"font-ui text-xl text-stone-700",children:"Your opponent won the match"})]}),g.jsxs("div",{className:"bg-stone-100 rounded-lg p-6 space-y-3",children:[g.jsx("h3",{className:"font-hand text-2xl text-stone-800",children:"Final Score"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:`flex justify-between items-center px-4 py-3 rounded ${c&&!h?"bg-green-100 border-2 border-green-500":"bg-white"}`,children:[g.jsx("span",{className:"font-ui font-semibold text-stone-800",children:"You"}),g.jsx("span",{className:"font-hand text-3xl text-stone-800",children:d})]}),g.jsxs("div",{className:`flex justify-between items-center px-4 py-3 rounded ${!c&&!h?"bg-red-100 border-2 border-red-500":"bg-white"}`,children:[g.jsx("span",{className:"font-ui font-semibold text-stone-800",children:"Opponent"}),g.jsx("span",{className:"font-hand text-3xl text-stone-800",children:o})]})]}),g.jsx("p",{className:"font-ui text-sm text-stone-600 pt-2",children:"Skirmishes Won"})]}),g.jsxs("div",{className:"space-y-3 pt-2",children:[g.jsx("button",{onClick:n,className:"w-full bg-green-600 hover:bg-green-700 text-white font-hand text-2xl py-4 rounded-lg transition-colors shadow-md",children:"Play Again"}),g.jsx("button",{onClick:a,className:"w-full bg-stone-600 hover:bg-stone-700 text-white font-hand text-2xl py-4 rounded-lg transition-colors shadow-md",children:"Main Menu"})]})]})})})},Vb="modulepreload",Qb=function(t){return"/"+t},dd={},kn=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=Qb(u),u in dd)return;dd[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Vb,c||(d.as="script"),d.crossOrigin="",d.href=u,r&&d.setAttribute("nonce",r),document.head.appendChild(d),c)return new Promise((o,p)=>{d.addEventListener("load",o),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return l.then(s=>{for(const r of s||[])r.status==="rejected"&&i(r.reason);return e().catch(i)})},hd=t=>{let e;const n=new Set,a=(c,h)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const o=e;e=h??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,o))}},l=()=>e,r={setState:a,getState:l,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=t(a,l,r);return r},Zb=t=>t?hd(t):hd,Kb=t=>t;function Jb(t,e=Kb){const n=at.useSyncExternalStore(t.subscribe,at.useCallback(()=>e(t.getState()),[t,e]),at.useCallback(()=>e(t.getInitialState()),[t,e]));return at.useDebugValue(n),n}const gd=t=>{const e=Zb(t),n=a=>Jb(e,a);return Object.assign(n,e),n},Vm=t=>t?gd(t):gd;class md{constructor(){O(this,"listeners",[])}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(n=>n!==e)}}async emit(e){const n=this.listeners.map(async a=>{try{await a(e)}catch(l){console.error("Error in event listener:",l),console.error("Event:",e)}});await Promise.all(n)}get listenerCount(){return this.listeners.length}clear(){this.listeners=[]}}class $b{constructor(){O(this,"stack",[])}push(e){this.stack.push(e)}pushSequence(e){for(let n=e.length-1;n>=0;n--)this.stack.push(e[n])}pop(){return this.stack.pop()}isEmpty(){return this.stack.length===0}size(){return this.stack.length}clear(){this.stack=[]}peek(){return this.stack[this.stack.length-1]}}class Wb{constructor(e){this.engine=e}checkStateConditions(e){const n=[],a=this.checkDeaths(e);return a.length>0&&a.forEach(l=>{l.die()}),n}checkDeaths(e){const n=[];for(const a of e.terrains)for(const l of[0,1]){const i=a.slots[l].unit;if(i){const s=i;s.power<=0&&n.push(s)}}return n}shouldEndSkirmish(e){return e.isDone[0]&&e.isDone[1]}shouldEndMatch(e){if(e.players[0].skirmishesWon>=2)return 0;if(e.players[1].skirmishesWon>=2)return 1;if(e.players[0].skirmishesWon===1&&e.tieSkirmishes>=1)return 0;if(e.players[1].skirmishesWon===1&&e.tieSkirmishes>=1)return 1;if(e.tieSkirmishes>=2)return null}}class Qm{constructor(e,n){O(this,"engine");O(this,"owner");this.engine=e,this.owner=n}requestInput(e){return new Promise(async n=>{this.engine.pendingInputResolve=n,console.log("[GameEntity] pendingInputResolve set, emitting INPUT_REQUIRED"),await this.engine.emitEvent({type:"INPUT_REQUIRED",playerId:this.owner,inputRequest:e}),console.log("[GameEntity] INPUT_REQUIRED event emitted, waiting for input...")})}}class Zm extends Qm{constructor(n,a,l,i,s){super(s,i);O(this,"id");O(this,"cardId");O(this,"name");O(this,"description");O(this,"eventUnsubscribers",[]);const r=Math.floor(s.rng.next()*1e6);this.id=`p${i}_${n}_${r}`,this.cardId=n,this.name=a,this.description=l}needsTarget(){return!1}getValidTargets(n){if(this.getType()==="unit"){const a=[];return n.terrains.forEach((i,s)=>{const r=s;this.engine.isDeploymentAllowed(this,r)&&a.push({terrainId:r,playerId:this.owner})}),{type:"slots",validSlots:a}}return{type:"none"}}selectDefaultTarget(n){const a=this.getValidTargets(n);return a.type==="slots"&&a.validSlots.length>0?a.validSlots[0]:null}registerRule(n,a){this.engine.ruleManager.registerRule(this.id,n,a)}unregisterRule(n){this.engine.ruleManager.unregisterRule(this.id,n)}subscribe(n){const a=this.engine.onEvent(n);this.eventUnsubscribers.push(a)}unsubscribeAll(){this.eventUnsubscribers.forEach(n=>n()),this.eventUnsubscribers=[]}onLeave(){this.unregisterRule(),this.unsubscribeAll()}}class yo extends Zm{constructor(n,a,l,i,s,r){super(n,a,l,s,r);O(this,"originalPower");O(this,"damage",0);O(this,"buffs",0);O(this,"shield",0);O(this,"terrainId",null);O(this,"hasDominant",!1);O(this,"dominantTriggered",!1);O(this,"hasDeathTrigger",!1);O(this,"hasActiveAbility",!1);O(this,"hasOngoingEffect",!1);O(this,"rarity","common");O(this,"traits",[]);O(this,"activateAbility");this.originalPower=i}onLeave(){for(const n of this.traits)n.onLeave();super.onLeave()}getType(){return"unit"}get power(){let n=this.originalPower+this.buffs-this.damage;if(this.terrainId!==null){const a=this.engine.getSlotModifier(this.terrainId,this.owner);n+=a}for(const a of this.traits)n=a.modifyPower(n);return Math.max(0,n)}async deploy(n){const a=this.engine.state.terrains[n],l=a.slots[this.owner].unit;let i=null;if(l&&(i=l,await this.consume(i)),a.slots[this.owner].unit=this,this.terrainId=n,await this.engine.emitEvent({type:"UNIT_DEPLOYED",unitId:this.id,unitName:this.name,terrainId:n,playerId:this.owner}),await this.onDeploy(),i){const{ResolveConsumptionEffect:s}=await kn(async()=>{const{ResolveConsumptionEffect:r}=await import("./ResolveConsumptionEffect-D-FMMtOi.js");return{ResolveConsumptionEffect:r}},[]);this.engine.addInterrupt(new s(i,this))}}async consume(n){await n.die("consumed"),await this.engine.emitEvent({type:"UNIT_CONSUMED",unitId:n.id,unitName:n.name,terrainId:n.terrainId})}async die(n="death"){const a=this.terrainId;if(a===null)return;const l=this.engine.state.terrains[a];l.slots[this.owner].unit=null,this.engine.state.players[this.owner].graveyard.push(this),await this.engine.emitEvent({type:"UNIT_DIED",unitId:this.id,unitName:this.name,terrainId:a,cause:n}),await this.onDeath(),this.terrainId=null,this.onLeave()}async bounce(){const n=this.terrainId;if(n===null)return;const a=this.engine.state.terrains[n];a.slots[this.owner].unit=null,this.terrainId=null,this.engine.state.players[this.owner].hand.push(this),this.buffs=0,this.damage=0,this.shield=0,this.dominantTriggered=!1,await this.engine.emitEvent({type:"UNIT_BOUNCED",unitId:this.id,unitName:this.name,terrainId:n,toHand:!0}),this.onLeave()}async move(n){const a=this.terrainId;if(a===null||a===n)return;const l=this.engine.state.terrains[a];l.slots[this.owner].unit=null;const i=this.engine.state.terrains[n];i.slots[this.owner].unit=this,this.terrainId=n,await this.engine.emitEvent({type:"UNIT_MOVED",unitId:this.id,fromTerrainId:a,toTerrainId:n,playerId:this.owner})}static async swap(n,a){if(n.owner!==a.owner||n.terrainId===null||a.terrainId===null)return;const l=n.terrainId,i=a.terrainId,s=n.engine.state.terrains[l],r=n.engine.state.terrains[i];s.slots[n.owner].unit=a,r.slots[a.owner].unit=n,n.terrainId=i,a.terrainId=l,await n.engine.emitEvent({type:"UNIT_MOVED",unitId:n.id,fromTerrainId:l,toTerrainId:i,playerId:n.owner}),await n.engine.emitEvent({type:"UNIT_MOVED",unitId:a.id,fromTerrainId:i,toTerrainId:l,playerId:a.owner})}async onDeploy(){for(const n of this.traits)await n.onDeploy()}async onDeath(){for(const n of this.traits)await n.onDeath()}async onConquer(){for(const n of this.traits)await n.onConquer()}onPowerChanged(n,a){}onTurnStart(){for(const n of this.traits)n.onTurnStart()}onConsumed(n){var a;for(const l of this.traits)(a=l.onConsumed)==null||a.call(l,n)}onConsume(n){var a;for(const l of this.traits)(a=l.onConsume)==null||a.call(l,n)}canActivate(){return this.activateAbility?this.activateAbility.cooldownRemaining===0:!1}async activate(){this.canActivate()&&(this.activateAbility.activate(),this.activateAbility.cooldownRemaining=this.activateAbility.cooldownMax,await this.engine.emitEvent({type:"ABILITY_ACTIVATED",unitId:this.id,abilityName:this.activateAbility.description}))}async reduceCooldown(){this.activateAbility&&this.activateAbility.cooldownRemaining>0&&(this.activateAbility.cooldownRemaining--,await this.engine.emitEvent({type:"COOLDOWN_REDUCED",unitId:this.id,newCooldown:this.activateAbility.cooldownRemaining}))}addTrait(n){n.onAttach(this),this.traits.push(n)}removeTrait(n){const a=this.traits.findIndex(l=>l.id===n);a!==-1&&(this.traits[a].onDetach(),this.traits.splice(a,1))}async addPower(n){const a=this.power;this.buffs+=n,await this.engine.emitEvent({type:"UNIT_POWER_CHANGED",unitId:this.id,terrainId:this.terrainId,oldPower:a,newPower:this.power,amount:n}),this.onPowerChanged(a,this.power)}async dealDamage(n){const a=this.power;let l=n;for(const i of this.traits)l=i.interceptDamage(l);this.shield>0&&(this.shield>=l?(this.shield-=l,l=0):(l-=this.shield,this.shield=0)),this.damage+=l,await this.engine.emitEvent({type:"UNIT_DAMAGED",unitId:this.id,terrainId:this.terrainId,amount:l,newPower:this.power}),this.onPowerChanged(a,this.power)}async heal(n){const a=this.power,l=Math.min(this.damage,n);this.damage-=l,l>0&&(await this.engine.emitEvent({type:"UNIT_HEALED",unitId:this.id,terrainId:this.terrainId,amount:l,newPower:this.power}),this.onPowerChanged(a,this.power))}async addShield(n){this.shield+=n}getCloseAllies(){return this.engine.getCloseUnits(this.terrainId,this.owner,"ally")}getCloseEnemies(){return this.engine.getCloseUnits(this.terrainId,this.owner,"enemy")}getUnitInFront(){return this.terrainId===null?null:this.engine.getUnitInFront(this.terrainId,this.owner)}canBeConsumed(){return!0}}class Ie extends Zm{getType(){return"action"}}class yd{constructor(e,n){O(this,"id");O(this,"hand",[]);O(this,"deck",[]);O(this,"graveyard",[]);O(this,"sp",0);O(this,"skirmishesWon",0);O(this,"engine");this.id=e,this.engine=n}async draw(e=1){for(let n=0;n<e&&this.deck.length!==0;n++){const a=this.deck.pop();this.hand.push(a),await this.engine.emitEvent({type:"CARD_DRAWN",playerId:this.id,count:1,cardId:a.id})}}async discard(e=1){for(let n=0;n<e&&this.hand.length!==0;n++){const a=this.hand.pop();this.graveyard.push(a),await this.engine.emitEvent({type:"CARD_DISCARDED",playerId:this.id,cardId:a.id,cardName:a.name})}}async pass(){this.engine.state.isDone[this.id]=!0}async playCard(e,n){const a=this.hand.findIndex(i=>i.id===e);if(a===-1)throw new Error(`Card ${e} not found in hand`);const l=this.hand[a];if(this.hand.splice(a,1),await this.engine.emitEvent({type:"CARD_PLAYED",playerId:this.id,cardId:l.id,cardName:l.name,cardType:l.getType(),targetSlot:n}),l instanceof yo){if(!n)throw new Error(`Unit ${l.name} played without target slot`);await l.deploy(n.terrainId)}else l instanceof Ie&&(await l.play(n),this.graveyard.push(l))}}const ic={NUM_TERRAINS:5,INITIAL_HAND_SIZE:8,CARDS_DRAWN_PER_SKIRMISH:4};class Km extends Qm{constructor(n,a,l){super(a,l);O(this,"definition");this.definition=n}canActivate(){return!0}}class Fb extends Km{async execute(){await this.engine.getPlayer(this.owner).draw(1)}}class Pb extends Km{async execute(){const e=this.engine.getOpponent(this.owner),n=this.engine.getPlayerUnits(e);if(n.length===0)return;const a=n.map(s=>s.id);console.log("[Warlord] Requesting input for targets:",a);const l=await this.requestInput({type:"target",targetType:"enemy_unit",context:"Warlord: Choose an enemy unit to deal 1 damage",validTargetIds:a});console.log("[Warlord] Received target:",l);const i=this.engine.getUnitAt(l);i&&await i.dealDamage(1)}canActivate(){const e=this.engine.getOpponent(this.owner);return this.engine.getPlayerUnits(e).length>0}}const Jm={rookie:{leaderId:"rookie",name:"Rookie",maxCharges:0,abilityDescription:"No ability"},sage:{leaderId:"sage",name:"Sage",maxCharges:1,abilityDescription:"Draw 1 card"},warlord:{leaderId:"warlord",name:"Warlord",maxCharges:2,abilityDescription:"Deal 1 damage to an enemy unit"}},tS={sage:Fb,warlord:Pb};function Xa(t,e,n){const a=Jm[t];if(!a)throw new Error(`Unknown leader: ${t}`);const l=tS[t],i=l?new l(a,e,n):null;return{definition:a,ability:i}}function eS(t){const e=Jm[t];if(!e)throw new Error(`Unknown leader: ${t}`);return e}function pd(t){const e=t||"rookie",n=eS(e);return{leaderId:e,currentCharges:n.maxCharges,isExhausted:!1}}function nS(t,e,n,a,l,i){const s=new yd(0,n);s.deck=[...t];const r=new yd(1,n);r.deck=[...e];const u=c=>({id:c,slots:{0:{unit:null,modifier:0},1:{unit:null,modifier:0}},winner:null});return{players:[s,r],terrains:[u(0),u(1),u(2),u(3),u(4)],leaders:[pd(l),pd(i)],currentSkirmish:1,currentTurn:1,currentPlayer:a.next()<.5?0:1,isDone:[!1,!1],hasActedThisTurn:[!1,!1],hasPlayedCardThisTurn:[!1,!1],tieSkirmishes:0,matchWinner:void 0}}function $m(t){return 1-t}function Wm(t){const e=[];return t>0&&e.push(t-1),t<ic.NUM_TERRAINS-1&&e.push(t+1),e}function aS(t,e,n){const a=$m(n);return t.terrains[e].slots[a].unit}var la=(t=>(t.CAN_DEPLOY="CAN_DEPLOY",t.CAN_TARGET="CAN_TARGET",t.CAN_CONSUME="CAN_CONSUME",t.DETERMINE_TERRAIN_WINNER="DETERMINE_TERRAIN_WINNER",t))(la||{});class lS{constructor(){O(this,"modifiers",new Map);Object.values(la).forEach(e=>{this.modifiers.set(e,[])})}registerRule(e,n,a){const l=this.modifiers.get(n)||[];l.push({id:e,modifier:a}),this.modifiers.set(n,l)}unregisterRule(e,n){if(n){const a=this.modifiers.get(n)||[];this.modifiers.set(n,a.filter(l=>l.id!==e))}else this.modifiers.forEach((a,l)=>{this.modifiers.set(l,a.filter(i=>i.id!==e))})}evaluate(e,n,a){const l=this.modifiers.get(e)||[];let i=a;for(const s of l)i=s.modifier(n,i);return i}}class cn{constructor(){O(this,"engine")}setEngine(e){this.engine=e}getDescription(){return this.constructor.name}}class iS extends cn{constructor(e,n,a){super(),this.playerId=e,this.cardId=n,this.targetSlot=a}async execute(e){return e.hasActedThisTurn[this.playerId]=!0,e.hasPlayedCardThisTurn[this.playerId]=!0,await this.engine.getPlayer(this.playerId).playCard(this.cardId,this.targetSlot),{newState:e,events:[]}}getDescription(){return`PlayCardEffect: Player ${this.playerId} plays card ${this.cardId}`}}class sS extends cn{constructor(e,n){super(),this.playerId=e,this.unitId=n}async execute(e){e.hasActedThisTurn[this.playerId]=!0;const n=this.engine.getUnitById(this.unitId);return n&&await n.activate(),{newState:e,events:[]}}getDescription(){return`ActivateEffect: Player ${this.playerId} activates unit ${this.unitId}`}}class Fm extends cn{async execute(e){const n=[],a=e.currentPlayer;for(const l of e.terrains){const i=l.slots[a].unit;i&&(i.onTurnStart(),await i.reduceCooldown())}return n.push({type:"TURN_CHANGED",playerId:a}),{newState:e,events:n}}}class Pm extends cn{async execute(e){const n=[],a=e.currentSkirmish===1?ic.INITIAL_HAND_SIZE:ic.CARDS_DRAWN_PER_SKIRMISH;for(const i of[0,1])await this.engine.getPlayer(i).draw(a);e.isDone=[!1,!1],e.hasActedThisTurn=[!1,!1],e.hasPlayedCardThisTurn=[!1,!1],e.players[0].sp=0,e.players[1].sp=0,n.push({type:"SKIRMISH_STARTED",skirmishNumber:e.currentSkirmish});const l=[];return l.push(new Fm),this.engine.addSequence(l),{newState:e,events:n}}}const rS=Object.freeze(Object.defineProperty({__proto__:null,StartSkirmishEffect:Pm},Symbol.toStringTag,{value:"Module"}));class uS extends cn{async execute(e){const n=[];for(let r=0;r<5;r++){const u=e.terrains[r],c=u.slots[0].unit,h=u.slots[1].unit;u.winner=this.engine.calculateTerrainWinner(r),u.winner===0?e.players[0].sp+=1:u.winner===1&&(e.players[1].sp+=1);const d=c?c.power:0,o=h?h.power:0;n.push({type:"TERRAIN_RESOLVED",terrainId:r,winner:u.winner,unit0Power:d,unit1Power:o})}for(let r=0;r<5;r++){const u=e.terrains[r];if(u.winner!==null){const c=u.slots[u.winner].unit;c&&(n.push({type:"CONQUER_TRIGGERED",unitId:c.id,terrainId:r}),c.onConquer())}}const a=e.players[0].sp,l=e.players[1].sp;let i=null;a>l?(i=0,e.players[0].skirmishesWon+=1):l>a?(i=1,e.players[1].skirmishesWon+=1):e.tieSkirmishes+=1,n.push({type:"SKIRMISH_ENDED",skirmishNumber:e.currentSkirmish,winner:i,sp:[a,l]});const s=this.checkMatchEnd(e);return s!==void 0?(e.matchWinner=s??void 0,this.cleanupMatchEnd(e),s!==null&&n.push({type:"MATCH_ENDED",winner:s})):(this.cleanupSkirmish(e),e.currentSkirmish+=1,this.engine.enqueueEffect(new Pm)),{newState:e,events:n}}checkMatchEnd(e){if(e.players[0].skirmishesWon>=2)return 0;if(e.players[1].skirmishesWon>=2)return 1;if(e.players[0].skirmishesWon===1&&e.tieSkirmishes>=1)return 0;if(e.players[1].skirmishesWon===1&&e.tieSkirmishes>=1)return 1;if(e.tieSkirmishes>=2)return null}cleanupSkirmish(e){for(const n of e.terrains){for(const a of[0,1]){const l=n.slots[a];if(l.unit){const i=l.unit;e.players[a].graveyard.push(i),l.unit=null,i.onLeave()}}n.winner=null}e.isDone=[!1,!1]}cleanupMatchEnd(e){for(const n of e.terrains)for(const a of[0,1]){const l=n.slots[a];l.unit&&l.unit.onLeave()}}}class cS extends cn{async execute(e){const n=[],l=1-e.currentPlayer;return e.currentTurn++,e.isDone.every(i=>i)&&this.engine.addInterrupt(new uS),e.isDone[l]||(e.currentPlayer=l,e.hasActedThisTurn[l]=!1,e.hasPlayedCardThisTurn[l]=!1,n.push({type:"PRIORITY_CHANGED",newPriority:l}),this.engine.addInterrupt(new Fm)),{newState:e,events:n}}}class oS extends cn{constructor(e){super(),this.playerId=e}async execute(e){const n=[],a=(this.playerId+1)%2,l=!e.hasActedThisTurn[this.playerId]||e.isDone[a];return l&&(e.isDone[this.playerId]=!0),n.push({type:"PLAYER_PASSED",playerId:this.playerId,isDone:l}),this.engine.addInterrupt(new cS),{newState:e,events:n}}getDescription(){return`PassEffect: Player ${this.playerId} passes`}}class fS extends cn{constructor(e){super(),this.playerId=e}async execute(e){const n=[],a=e.leaders[this.playerId];e.hasActedThisTurn[this.playerId]=!0;const l=a.currentCharges;a.currentCharges--,n.push({type:"LEADER_CHARGES_CHANGED",playerId:this.playerId,oldCharges:l,newCharges:a.currentCharges});const i=Xa(a.leaderId,this.engine,this.playerId);return i.ability&&await i.ability.execute(),n.push({type:"LEADER_ABILITY_ACTIVATED",playerId:this.playerId,leaderId:a.leaderId,abilityName:i.definition.name,chargesRemaining:a.currentCharges}),{newState:e,events:n}}getDescription(){return`ActivateLeaderEffect: Player ${this.playerId} activates leader ability`}}class dS{constructor(e,n){O(this,"gameId");O(this,"startTime");O(this,"actions");O(this,"players");O(this,"turnCounter");O(this,"gameResult");this.gameId=this.generateGameId(),this.startTime=new Date,this.actions=[],this.players=[e,n],this.turnCounter=0,this.gameResult=null}logAction(e,n,a,l){this.turnCounter++;const i={turn:this.turnCounter,player:e.playerId,playerType:n,actionType:e.type,details:this.extractActionDetails(e,a),reasoning:l||null,timestamp:new Date().toISOString(),gameStateSnapshot:this.simplifyState(a)};this.actions.push(i)}setResult(e,n){this.gameResult={winner:e,finalScore:[n.players[0].skirmishesWon,n.players[1].skirmishesWon],totalTurns:this.turnCounter}}getFullLog(){return{gameId:this.gameId,timestamp:this.startTime.toISOString(),players:this.players,result:this.gameResult,actions:this.actions}}getHistory(e=10){return this.actions.slice(-e)}exportToJSON(){return JSON.stringify(this.getFullLog(),null,2)}clear(){this.actions=[],this.turnCounter=0,this.gameResult=null,this.gameId=this.generateGameId(),this.startTime=new Date}generateGameId(){return`game-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}simplifyState(e){return{currentSkirmish:e.currentSkirmish,currentPlayer:e.currentPlayer,scores:{player0:{sp:e.players[0].sp,skirmishesWon:e.players[0].skirmishesWon},player1:{sp:e.players[1].sp,skirmishesWon:e.players[1].skirmishesWon}},terrains:e.terrains.map(n=>({id:n.id,winner:n.winner,units:[n.slots[0].unit?{name:n.slots[0].unit.name,power:n.slots[0].unit.power}:null,n.slots[1].unit?{name:n.slots[1].unit.name,power:n.slots[1].unit.power}:null]})),handSizes:[e.players[0].hand.length,e.players[1].hand.length],deckSizes:[e.players[0].deck.length,e.players[1].deck.length]}}extractActionDetails(e,n){switch(e.type){case"PLAY_CARD":{const a=this.findCard(e.cardId,n.players[e.playerId]);return{cardId:e.cardId,cardName:(a==null?void 0:a.name)||"Unknown",cardType:(a==null?void 0:a.getType())||"unknown",targetSlot:e.targetSlot||null}}case"PASS":return{action:"pass"};case"ACTIVATE":{const a=this.findUnit(e.unitId,n);return{unitId:e.unitId,unitName:(a==null?void 0:a.name)||"Unknown"}}default:return{...e}}}findCard(e,n){return n.hand.find(a=>a.id===e)||n.deck.find(a=>a.id===e)||n.graveyard.find(a=>a.id===e)||null}findUnit(e,n){var a,l;for(const i of n.terrains){if(((a=i.slots[0].unit)==null?void 0:a.id)===e)return i.slots[0].unit;if(((l=i.slots[1].unit)==null?void 0:l.id)===e)return i.slots[1].unit}return null}}class hS{constructor(e){O(this,"seed");O(this,"a",1664525);O(this,"c",1013904223);O(this,"m",2**32);this.seed=e>>>0}next(){return this.seed=(this.a*this.seed+this.c)%this.m,this.seed/this.m}nextInt(e,n){return Math.floor(this.next()*(n-e))+e}shuffle(e){for(let n=e.length-1;n>0;n--){const a=this.nextInt(0,n+1);[e[n],e[a]]=[e[a],e[n]]}return e}getSeed(){return this.seed}reset(e){this.seed=e>>>0}}class gS{static async hashState(e){const n=this.canonicalize(e);return(await this.sha256(n)).substring(0,16)}static hashStateSync(e){const n=this.canonicalize(e);return this.fnv1a(n).substring(0,16)}static canonicalize(e){const n={currentSkirmish:e.currentSkirmish,currentPlayer:e.currentPlayer,isDone:e.isDone,tieSkirmishes:e.tieSkirmishes,matchWinner:e.matchWinner,players:e.players.map(a=>({id:a.id,sp:a.sp,skirmishesWon:a.skirmishesWon,handSize:a.hand.length,deckSize:a.deck.length,graveyardSize:a.graveyard.length,handIds:a.hand.map(l=>l.id).sort(),deckIds:a.deck.map(l=>l.id),graveyardIds:a.graveyard.map(l=>l.id).sort()})),terrains:e.terrains.map(a=>{var l,i,s,r;return{winner:a.winner,slots:{0:{unitId:((l=a.slots[0].unit)==null?void 0:l.id)??null,unitPower:((i=a.slots[0].unit)==null?void 0:i.power)??null,modifier:a.slots[0].modifier},1:{unitId:((s=a.slots[1].unit)==null?void 0:s.id)??null,unitPower:((r=a.slots[1].unit)==null?void 0:r.power)??null,modifier:a.slots[1].modifier}}}})};return JSON.stringify(n,Object.keys(n).sort())}static async sha256(e){var n;if(typeof window<"u"&&window.crypto&&window.crypto.subtle){const a=new TextEncoder().encode(e),l=await window.crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(l)).map(s=>s.toString(16).padStart(2,"0")).join("")}else if(typeof globalThis<"u"&&((n=globalThis.crypto)!=null&&n.subtle)){const a=new TextEncoder().encode(e),l=await globalThis.crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(l)).map(s=>s.toString(16).padStart(2,"0")).join("")}else return this.fnv1a(e)}static fnv1a(e){let n=2166136261;for(let a=0;a<e.length;a++)n^=e.charCodeAt(a),n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return(n>>>0).toString(16).padStart(8,"0")}}class mS{constructor(e,n,a){O(this,"state");O(this,"effectStack");O(this,"ruleManager");O(this,"logger");O(this,"rng");O(this,"eventEmitter");O(this,"actionEmitter");O(this,"stateChecker");O(this,"controllers");O(this,"pendingInputResolve",null);this.state={},this.effectStack=new $b,this.ruleManager=new lS,this.eventEmitter=new md,this.actionEmitter=new md,this.stateChecker=new Wb(this),this.controllers=[e,n];const l=(a==null?void 0:a.seed)??Date.now();this.rng=new hS(l);const i={id:0,name:"Player 1",type:e.type==="ai"?"ai":"human"},s={id:1,name:"Player 2",type:n.type==="ai"?"ai":"human"};this.logger=new dS(i,s),this.onEvent(r=>{this.controllers.forEach(u=>u.onEvent(r))}),this.onEvent(r=>{r.type==="MATCH_ENDED"&&this.logger.setResult(r.winner,this.state)})}async initializeGame(e,n,a,l){this.state=nS(e,n,this,this.rng,a,l);const{StartSkirmishEffect:i}=await kn(async()=>{const{StartSkirmishEffect:s}=await Promise.resolve().then(()=>rS);return{StartSkirmishEffect:s}},void 0);this.addInterrupt(new i),await this.processEffectStack(),await this.checkForRequiredActions()}onEvent(e){return this.eventEmitter.subscribe(e)}onAction(e){return this.actionEmitter.subscribe(e)}async emitEvent(e){await this.eventEmitter.emit(e)}async processAction(e){if(!this.isLegalAction(e))throw new Error(`Illegal action: ${JSON.stringify(e)}`);switch(await this.actionEmitter.emit(e),e.type){case"PLAY_CARD":this.addInterrupt(new iS(e.playerId,e.cardId,e.targetSlot));break;case"ACTIVATE":this.addInterrupt(new sS(e.playerId,e.unitId));break;case"PASS":this.addInterrupt(new oS(e.playerId));break;case"ACTIVATE_LEADER":this.addInterrupt(new fS(e.playerId));break}return await this.processEffectStack(),this.pendingInputResolve||(await this.emitEvent({type:"STATE_SNAPSHOT",state:this.state}),await this.checkForRequiredActions()),this.state}async submitAction(e,n){const l=this.controllers[e.playerId].type==="ai"?"ai":"human";return this.logger.logAction(e,l,this.state,n),await this.processAction(e)}async checkForRequiredActions(){const e=this.state.currentPlayer;if(this.state.matchWinner===void 0&&!this.state.isDone[e]){const n=this.getLegalActions(e);if(this.state.hasActedThisTurn[e]&&n.length===1&&n[0].type==="PASS"){await this.processAction({type:"PASS",playerId:e});return}await this.emitEvent({type:"ACTION_REQUIRED",playerId:e})}}async processEffectStack(){let e=0;const n=1e3;for(;!this.effectStack.isEmpty();){if(e++>n)throw new Error("Effect stack exceeded maximum iterations - possible infinite loop");const a=this.effectStack.pop();if(!a)break;const l=await a.execute(this.state);this.stateChecker.checkStateConditions(this.state),this.state=l.newState;for(const i of l.events)await this.emitEvent(i)}}async submitInput(e){if(!this.pendingInputResolve)throw new Error("No input request in progress");const n=this.state.currentPlayer,a=gS.hashStateSync(this.state),l={type:"INPUT",playerId:n,input:e,checksum:a};await this.actionEmitter.emit(l),this.pendingInputResolve(e),this.pendingInputResolve=null}addInterrupt(e){e.setEngine(this),this.effectStack.push(e)}addSequence(e){e.forEach(n=>n.setEngine(this)),this.effectStack.pushSequence(e)}enqueueEffect(e){this.addInterrupt(e)}isLegalAction(e){if(this.state.matchWinner!==void 0)return console.log(`action [${JSON.stringify(e)}] is not legal because game ended`),!1;if(e.playerId!==this.state.currentPlayer)return console.log(`action [${JSON.stringify(e)}] is not legal not current player [${this.state.currentPlayer}]`),!1;if(this.state.isDone[e.playerId])return console.log(`action [${JSON.stringify(e)}] is not legal current player done [${this.state.currentPlayer}]`),!1;switch(e.type){case"PLAY_CARD":{const n=1-e.playerId,a=this.state.isDone[n];if(this.state.hasPlayedCardThisTurn[e.playerId]&&!a)return console.log(`action [${JSON.stringify(e)}] already played a card this turn`),!1;const i=this.state.players[e.playerId].hand.find(s=>s.id===e.cardId);if(!i)return console.log(`action [${JSON.stringify(e)}] card not found [${e.cardId}]`),!1;if(!e.targetSlot)return i.needsTarget()?(console.log(`action [${JSON.stringify(e)}] needed target and not found`),!1):!0;if(i.getType()==="unit"){if(!this.isDeploymentAllowed(i,e.targetSlot.terrainId))return console.log(`action [${JSON.stringify(e)}] deployment not allowed [${e.targetSlot.terrainId}]`),!1}else if(!this.isTargetingAllowed(i,e.targetSlot))return console.log(`action [${JSON.stringify(e)}] target not allowed [${e.targetSlot.terrainId}]`),!1;return!0}case"ACTIVATE":{const n=this.getUnitById(e.unitId);return!n||n.owner!==e.playerId?!1:n.canActivate()}case"PASS":return!0;case"ACTIVATE_LEADER":{const n=this.state.leaders[e.playerId];if(!n||n.currentCharges<=0||n.isExhausted)return!1;const a=Xa(n.leaderId,this,e.playerId);return a.ability?a.ability.canActivate():!1}default:return console.log(`action [${JSON.stringify(e)}] unknown type`),!1}}isDeploymentAllowed(e,n){const i=this.state.terrains[n].slots[e.owner].unit;let s=!i;return this.ruleManager.evaluate(la.CAN_DEPLOY,{deployingCard:e,targetSlot:{terrainId:n,playerId:e.owner},targetUnitId:i==null?void 0:i.id},s)}isTargetingAllowed(e,n){return this.ruleManager.evaluate(la.CAN_TARGET,{sourceCard:e,targetSlot:n},!0)}getLegalActions(e){const n=[];if(this.state.matchWinner!==void 0||this.state.currentPlayer!==e||this.state.isDone[e])return n;n.push({type:"PASS",playerId:e});const a=this.state.players[e],l=1-e,i=this.state.isDone[l];(!this.state.hasPlayedCardThisTurn[e]||i)&&a.hand.forEach(u=>{if(u.getType()==="unit")this.state.terrains.forEach((c,h)=>{c.slots[e].unit||this.isDeploymentAllowed(u,h)&&n.push({type:"PLAY_CARD",playerId:e,cardId:u.id,targetSlot:{terrainId:h,playerId:e}})});else if(!u.needsTarget())n.push({type:"PLAY_CARD",playerId:e,cardId:u.id});else{const c=u.getValidTargets(this.state);c.type==="slots"&&c.validSlots&&c.validSlots.forEach(h=>{this.isTargetingAllowed(u,h)&&n.push({type:"PLAY_CARD",playerId:e,cardId:u.id,targetSlot:h})})}}),this.state.terrains.forEach(u=>{const c=u.slots[e].unit;if(c&&c.owner===e){const h=c;h.canActivate&&h.canActivate()&&n.push({type:"ACTIVATE",playerId:e,unitId:c.id})}});const r=this.state.leaders[e];if(r){const u=Xa(r.leaderId,this,e);u.ability&&r.currentCharges>0&&!r.isExhausted&&u.ability.canActivate()&&n.push({type:"ACTIVATE_LEADER",playerId:e})}return n}calculateTerrainWinner(e){const n=this.state.terrains[e];if(!n)return null;const a=n.slots[0].unit,l=n.slots[1].unit,i=a?a.power:0,s=l?l.power:0;let r=null;return a&&l?i>s?r=0:s>i?r=1:r=null:a?r=0:l?r=1:r=null,this.ruleManager.evaluate(la.DETERMINE_TERRAIN_WINNER,{terrainId:e,power0:i,power1:s},r)}getPlayer(e){return this.state.players[e]}getCardById(e){var n,a;for(const l of Object.values(this.state.players)){const i=l.hand.find(s=>s.id===e)||l.deck.find(s=>s.id===e)||l.graveyard.find(s=>s.id===e);if(i)return i}for(const l of this.state.terrains){if(((n=l.slots[0].unit)==null?void 0:n.id)===e)return l.slots[0].unit;if(((a=l.slots[1].unit)==null?void 0:a.id)===e)return l.slots[1].unit}}getUnitById(e){var n,a;for(const l of this.state.terrains){if(((n=l.slots[0].unit)==null?void 0:n.id)===e)return l.slots[0].unit;if(((a=l.slots[1].unit)==null?void 0:a.id)===e)return l.slots[1].unit}for(const l of[0,1]){const i=this.state.players[l].hand.find(s=>s.id===e);if(i&&i.getType()==="unit")return i}}getCloseUnits(e,n,a){if(e===null)return[];const l=[],i=this.getUnitInFront(e,n);i&&(a==="ally"&&i.owner===n||a==="enemy"&&i.owner!==n||a==="any")&&l.push(i);const s=Wm(e);for(const r of s){const u=this.state.terrains[r],c=u.slots[0].unit,h=u.slots[1].unit;for(const d of[c,h]){if(!d)continue;const o=d;(a==="ally"&&o.owner===n||a==="enemy"&&o.owner!==n||a==="any")&&l.push(o)}}return l}getUnitInFront(e,n){return aS(this.state,e,n)}getUnitAt(e){const n=this.state.terrains[e.terrainId];return n?n.slots[e.playerId].unit:null}async addSlotModifier(e,n,a){if(!this.state.terrains[e])return;this.state.terrains[e].slots[n].modifier+=a,await this.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e,playerId:n,newModifier:this.state.terrains[e].slots[n].modifier});const l=this.state.terrains[e].slots[n].unit;l&&await this.emitEvent({type:"UNIT_POWER_CHANGED",unitId:l.id,terrainId:e,oldPower:l.power-a,newPower:l.power,amount:a})}getSlotModifier(e,n){return this.state.terrains[e]?this.state.terrains[e].slots[n].modifier:0}getPlayerUnits(e){const n=[];for(const a of this.state.terrains){const l=a.slots[e].unit;l&&n.push(l)}return n}getOpponent(e){return $m(e)}}const ty={acolyte:{name:"Acolyte",description:"Consumed: Consuming unit gets +3",basePower:1,traits:[{type:"reaction",config:{trigger:"ON_CONSUMED",target:"CONSUMING_UNIT",effect:"ADD_POWER",value:3}}],rarity:"common"},apprentice:{name:"Apprentice",description:"Consume: Draw a card.",basePower:3,traits:[{type:"reaction",config:{trigger:"ON_CONSUME",effect:"DRAW_CARDS",value:1}}]},archer:{name:"Archer",description:"Deploy: Deal 2 damage to a close enemy",basePower:3,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"CLOSE_ENEMY",targetDecision:"PLAYER",effect:"DEAL_DAMAGE",value:2}}]},bard:{name:"Bard",description:"When your turn starts, close allies get +1.",basePower:2,traits:[{type:"ongoingReaction",config:{listenTo:"YOUR_TURN_START",target:"CLOSE_ALLY",targetDecision:"ALL",effect:"ADD_POWER",value:1}}]},champion:{name:"Champion",description:"",basePower:5,traits:[]},dragon:{name:"Dragon",description:"I can only be deployed to consume another unit.",basePower:7,traits:[{type:"deployCondition",config:{condition:"MUST_CONSUME_UNIT",validTargets:"ALLIES"}}],rarity:"legendary"},engineer:{name:"Engineer",description:"On your turn start, my slot gets +2.",basePower:1,traits:[{type:"ongoingReaction",config:{listenTo:"YOUR_TURN_START",target:"SELF",effect:"ADD_SLOT_MODIFIER",value:2}}]},ghoul:{name:"Ghoul",description:"When a close unit dies, I get +2.",basePower:1,traits:[{type:"ongoingReaction",config:{listenTo:"UNIT_DIED",proximity:"CLOSE",target:"SELF",effect:"ADD_POWER",value:2}}],rarity:"common"},hunter:{name:"Hunter",description:"Kill a close wounded enemy.",basePower:4,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"CLOSE_ENEMY",targetDecision:"PLAYER",effect:"KILL",value:0,condition:t=>t.power<t.originalPower}}]},knight:{name:"Knight",description:"Deploy: You may deploy a Squire to a close ally slot.",basePower:3,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"CLOSE_ALLY_SLOT",targetDecision:"PLAYER",effect:"DEPLOY_UNIT",value:"squire"}}]},mimic:{name:"Mimic",description:"Deploy: My power becomes equal to the enemy in front of me.",basePower:1,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"SELF",effect:"SET_POWER",value:t=>{const e=t.unit.getUnitInFront();return e?e.power:t.unit.originalPower}}}]},necromancer:{name:"Necromancer",description:"Activate (cooldown 1): You may deploy a dead ally with power 3 or less.",basePower:2,traits:[{type:"activate",config:{cooldownMax:1,description:"Reanimate",effect:async t=>{}}}]},noble:{name:"Noble",description:"Conquer: Draw two cards.",basePower:4,traits:[{type:"reaction",config:{trigger:"ON_CONQUER",effect:"DRAW_CARDS",value:2}}]},priest:{name:"Priest",description:"Deploy: Cleanse a close slot (remove all modifiers from slot and buffs from unit)",basePower:2,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"SLOT",targetDecision:"PLAYER",effect:"CLEANSE",value:0}}]},ranger:{name:"Ranger",description:"Activate: Move me to a close ally slot.",basePower:4,traits:[{type:"activate",config:{cooldownMax:0,description:"Reposition",effect:async t=>{}}}]},rogue:{name:"Rogue",description:"This terrain is won by the lowest power instead of the highest.",basePower:2,traits:[{type:"ruleModifier",config:{ruleType:la.DETERMINE_TERRAIN_WINNER,modifierFunction:function(t,e){const n=t,a=this;if(n.terrainId!==a.terrainId)return e;const l=a.engine.state.terrains[a.terrainId],i=l.slots[0].unit,s=l.slots[1].unit;if(i&&s){const{power0:r,power1:u}=n;return r<u?0:u<r?1:null}return e}}}]},underdog:{name:"Underdog",description:"When a close ally deploys for the first time each turn, give me and that ally +3.",basePower:1,traits:[{type:"ongoingReaction",config:{listenTo:"UNIT_DEPLOYED",proximity:"CLOSE",filter:(()=>{const t=new Map;return(e,n)=>{if(!("playerId"in e)||e.playerId!==n.owner||"unitId"in e&&e.unitId===n.id)return!1;const a=n.engine.state.currentTurn;return t.get(n.id)===a?!1:(t.set(n.id,a),!0)}})(),effects:[{target:"SELF",effect:"ADD_POWER",value:3},{target:"EVENT_SOURCE",effect:"ADD_POWER",value:3}]}}]},roots:{name:"Roots",description:"Death: My slot gets +X modifier equal to my power",basePower:2,traits:[{type:"reaction",config:{trigger:"ON_DEATH",target:"SLOT",effect:"ADD_SLOT_MODIFIER",value:t=>t.unit.power}}]},scout:{name:"Scout",description:"Deploy: Draw a card.",basePower:2,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",effect:"DRAW_CARDS",value:1}}]},sentinel:{name:"Sentinel",description:"An enemy cannot be deployed in front of me.",basePower:2,traits:[{type:"ruleModifier",config:{ruleType:la.CAN_DEPLOY,modifierFunction:function(t,e){if(!e)return!1;if(!("deployingCard"in t))return e;const n=t,a=this;return!(n.deployingCard.owner!==a.owner&&a.terrainId!==null&&n.targetSlot.terrainId===a.terrainId&&n.targetSlot.playerId!==a.owner)}}}]},turret:{name:"Turret",description:"When your turn ends, deal 1 damage to a random enemy.",basePower:3,traits:[{type:"ongoingReaction",config:{listenTo:"YOUR_TURN_ENDS",target:"CLOSE_ENEMY",effect:"DEAL_DAMAGE",value:1}}]},vampire:{name:"Vampire",description:"When a close unit is dealt damage, I gain that much power. Activate (Cooldown 1): Deal 2 damage to a close unit.",basePower:2,traits:[{type:"ongoingReaction",config:{listenTo:"UNIT_DAMAGED",proximity:"CLOSE",target:"SELF",effect:"ADD_POWER",value:t=>("amount"in t?t.amount:0)||0}},{type:"activate",config:{cooldownMax:1,description:"Blood Drain",effect:async t=>{}}}]},veteran:{name:"Veteran",description:"(Pure stats, no ability)",basePower:4,traits:[]},warlock:{name:"Warlock",description:"Consume: I deal damage to a close enemy equal to the consumed unit's power.",basePower:3,traits:[{type:"reaction",config:{trigger:"ON_CONSUME",target:"CLOSE_ENEMY",targetDecision:"PLAYER",effect:"DEAL_DAMAGE",value:t=>t.victim?t.victim.power:0}}]},wizard:{name:"Wizard",description:"When you play an action, give my slot +2.",basePower:3,traits:[{type:"ongoingReaction",config:{listenTo:"CARD_PLAYED",filter:(t,e)=>t.type==="CARD_PLAYED"&&t.playerId===e.owner&&t.cardId!==e.id&&t.cardType==="action",target:"SELF",effect:"ADD_SLOT_MODIFIER",value:2}}]},squire:{name:"Squire",description:"",basePower:1,traits:[]},warrior:{name:"Warrior",description:"Deploy: Gain 2 Shield.",basePower:4,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",target:"SELF",effect:"ADD_SHIELD",value:2}}]},ninja:{name:"Ninja",description:"When a close enemy is deployed, give my slot +1 and move me to another random empty ally slot.",basePower:3,traits:[{type:"ongoingReaction",config:{listenTo:"UNIT_DEPLOYED",proximity:"IN_FRONT",filter:(t,e)=>"playerId"in t&&t.playerId!==e.owner,effects:[{target:"SELF",effect:"ADD_SLOT_MODIFIER",value:1},{target:"SELF",effect:"MOVE",value:0}]}}]},thief:{name:"Thief",description:"Deploy: Steal slot modifier from a close slot.",basePower:3,traits:[{type:"reaction",config:{trigger:"ON_DEPLOY",effects:[{target:"SLOT",targetDecision:"PLAYER",effect:"REMOVE_SLOT_MODIFIER",value:0},{target:"SELF",effect:"ADD_SLOT_MODIFIER",value:t=>{var e;return((e=t.effectResults[0])==null?void 0:e.amount)||0}}]}}]},zombie:{name:"Zombie",description:"Consume: +3",basePower:2,traits:[{type:"reaction",config:{trigger:"ON_CONSUME",target:"SELF",effect:"ADD_POWER",value:3}}]},berserker:{name:"Berserker",description:"Turn starts: Heal me. When I'm healed, I get bonus equal to power I gained.",basePower:4,traits:[{type:"ongoingReaction",config:{listenTo:"YOUR_TURN_START",target:"SELF",effect:"HEAL",value:999}},{type:"ongoingReaction",config:{listenTo:"UNIT_HEALED",filter:(t,e)=>"unitId"in t&&t.unitId===e.id,target:"SELF",effect:"ADD_POWER",value:t=>("amount"in t?t.amount:0)||0}}]},armsPeddler:{name:"Arms Peddler",description:"Dominant: Draw two Spikes. This triggers only once.",basePower:5,traits:[{type:"ongoingReaction",config:{listenTo:"YOUR_TURN_START",filter:(()=>{const t=new WeakMap;return(e,n)=>{var u,c;if(t.get(n)||n.terrainId===null)return!1;const a=n.engine.state.terrains[n.terrainId],l=a.slots[n.owner],i=a.slots[n.engine.getOpponent(n.owner)],s=(((u=l.unit)==null?void 0:u.power)||0)+l.modifier,r=(((c=i.unit)==null?void 0:c.power)||0)+i.modifier;return s<=r?!1:(t.set(n,!0),!0)}})(),target:"SELF",effect:"CREATE_CARDS",value:"spike:2"}}]},vicious:{name:"Vicious",description:"Dominant: +3",basePower:5,traits:[{type:"dominant",config:{effect:"ADD_POWER",target:"SELF",value:3}}]}};class Vn{constructor(e){O(this,"id");O(this,"name");O(this,"owner");this.name=e,this.id=`trait_${Math.random().toString(36).substr(2,9)}`}onAttach(e){this.owner=e}onDetach(){}onLeave(){}async onDeploy(){}async onDeath(){}async onConquer(){}onTurnStart(){}modifyPower(e){return e}interceptDamage(e){return e}get engine(){return this.owner.engine}}class Jl extends cn{constructor(e,n,a){super(),this.source=e,this.name=n,this.logic=a}async execute(e){const n={type:"ABILITY_TRIGGERED",playerId:this.source.owner,cardId:this.source.id,cardName:this.source.name,abilityName:this.name};return await this.logic(e),{newState:e,events:[n]}}}class yS extends Vn{constructor(e,n){super(`Reaction:${e.trigger}`),this.config=e,n&&(this.owner=n)}async onDeploy(){this.config.trigger==="ON_DEPLOY"&&await this.executeReaction()}async onDeath(){this.config.trigger==="ON_DEATH"&&await this.executeReaction()}async onConquer(){this.config.trigger==="ON_CONQUER"&&await this.executeReaction()}onConsume(e){if(this.config.trigger==="ON_CONSUME"){const n=async()=>{await this.executeReactionWithContext({victim:e})};this.engine.addInterrupt(new Jl(this.owner,`${this.name}`,n))}}onConsumed(e){if(this.config.trigger==="ON_CONSUMED"){const n=async()=>{await this.executeReactionWithContext({consumingUnit:e})};this.engine.addInterrupt(new Jl(this.owner,`${this.name}`,n))}}async executeReaction(e){const n=async()=>{await this.executeReactionWithContext(e)};this.engine.addInterrupt(new Jl(this.owner,`${this.name}`,n))}async executeReactionWithContext(e){if(this.config.effects&&this.config.effects.length>0){await this.executeMultipleEffects(e);return}const n=this.getTargets(e);if(n.length===0&&this.config.target)return;const a=this.config.condition?n.filter(i=>{const s=this.engine.getUnitAt(i);return s&&this.config.condition(s)}):n;if(a.length===0&&this.config.target)return;let l=[];if(!this.config.target||this.config.target==="SELF")l=a;else if(this.config.targetDecision==="ALL")l=a;else if(this.config.targetDecision==="PLAYER"){if(a.length===0)return;const i=await this.owner.requestInput({type:"target",targetType:this.getTargetTypeForInput(),validSlots:a,context:`${this.owner.name}: ${this.name}`});i&&(l=[i])}else if(this.config.targetDecision==="RANDOM"){const i=Math.floor(this.engine.rng.next()*a.length);l=[a[i]]}else l=[a[0]];for(const i of l)await this.applyEffect(i,e)}async executeMultipleEffects(e){const n={...e,effectResults:[],selectedSlot:null};for(const a of this.config.effects){const l=this.getTargetsForEffect(a,n);if(l.length===0&&a.target)continue;const i=a.condition?l.filter(r=>{const u=this.engine.getUnitAt(r);return u&&a.condition(u)}):l;if(i.length===0&&a.target)continue;let s=[];if(!a.target||a.target==="SELF")s=i;else if(a.targetDecision==="ALL")s=i;else if(a.targetDecision==="PLAYER"){if(i.length===0)continue;const r=await this.owner.requestInput({type:"target",targetType:this.getTargetTypeForEffectInput(a),validSlots:i,context:`${this.owner.name}: ${this.name}`});r&&(s=[r],n.selectedSlot=r)}else if(a.targetDecision==="RANDOM"){const r=Math.floor(this.engine.rng.next()*i.length);s=[i[r]]}else s=[i[0]];for(const r of s){const u=await this.applyEffectFromConfig(r,n,a);n.effectResults.push(u)}}}getTargetsForEffect(e,n){if(!e.target||e.target==="SELF")return this.owner.terrainId===null?[]:[{terrainId:this.owner.terrainId,playerId:this.owner.owner}];const a=this.config.target;this.config.target=e.target;const l=this.getTargets(n);return this.config.target=a,l}getTargetTypeForEffectInput(e){return e.target==="CLOSE_ENEMY"||e.target==="ALL_ENEMIES"?"enemy_unit":e.target==="CLOSE_ALLY"||e.target==="CLOSE_ALLY_SLOT"?"ally_unit":e.target==="SLOT"?"slot":"unit"}async applyEffectFromConfig(e,n,a){const l=typeof a.value=="function"?a.value(n):a.value,i=this.engine.getUnitAt(e);switch(a.effect){case"DEAL_DAMAGE":return i&&await i.dealDamage(l),{type:"damage",amount:l};case"ADD_POWER":return i&&await i.addPower(l),{type:"power",amount:l};case"SET_POWER":if(i){const S=l,v=i.power,x=S-v;x!==0&&await i.addPower(x)}return{type:"setPower",amount:l};case"DRAW_CARDS":return await this.engine.getPlayer(this.owner.owner).draw(l),{type:"draw",amount:l};case"ADD_SLOT_MODIFIER":const r=this.engine.state.terrains[e.terrainId].slots[e.playerId];return r.modifier+=l,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e.terrainId,playerId:e.playerId,newModifier:r.modifier}),{type:"slotModifier",amount:l};case"REMOVE_SLOT_MODIFIER":const u=this.engine.state.terrains[e.terrainId].slots[e.playerId],c=u.modifier;return c!==0&&(u.modifier=0,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e.terrainId,playerId:e.playerId,newModifier:0})),{type:"removedSlotModifier",amount:c,slot:e};case"KILL":return i&&await i.die(`killed by ${this.owner.name}'s ${this.name}`),{type:"kill"};case"CLEANSE":const h=this.engine.state.terrains[e.terrainId].slots[e.playerId];if(h.modifier!==0&&(h.modifier=0,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e.terrainId,playerId:e.playerId,newModifier:0})),i){const S=i.power;i.buffs=0;const v=i.power;v!==S&&(await this.engine.emitEvent({type:"UNIT_POWER_CHANGED",unitId:i.id,terrainId:e.terrainId,oldPower:S,newPower:v,amount:v-S}),i.onPowerChanged(S,v))}return{type:"cleanse"};case"DEPLOY_UNIT":const{createUnitCard:d}=await kn(async()=>{const{createUnitCard:S}=await Promise.resolve().then(()=>vd);return{createUnitCard:S}},void 0),o=typeof a.value=="string"?a.value:String(l),p=d(o,this.owner.owner,this.engine);return await p.deploy(e.terrainId),{type:"deploy",unitId:p.id};case"ADD_SHIELD":return i&&await i.addShield(l),{type:"shield",amount:l}}return{type:"unknown"}}getTargets(e){if(!this.config.target||this.config.target==="SELF")return this.owner.terrainId===null?[]:[{terrainId:this.owner.terrainId,playerId:this.owner.owner}];if(this.config.target==="CONSUMING_UNIT"){const n=e==null?void 0:e.consumingUnit;return!n||n.terrainId===null?[]:[{terrainId:n.terrainId,playerId:n.owner}]}if(this.config.target==="CONSUMED_UNIT"){const n=e==null?void 0:e.victim;return!n||n.terrainId===null?[]:[{terrainId:n.terrainId,playerId:n.owner}]}if(this.config.target==="CLOSE_ALLY")return this.unitsToSlotCoords(this.owner.getCloseAllies());if(this.config.target==="CLOSE_ENEMY")return this.unitsToSlotCoords(this.owner.getCloseEnemies());if(this.config.target==="CLOSE_ANY")return this.unitsToSlotCoords([...this.owner.getCloseAllies(),...this.owner.getCloseEnemies()]);if(this.config.target==="IN_FRONT"){const n=this.owner.getUnitInFront();return!n||n.terrainId===null?[]:[{terrainId:n.terrainId,playerId:n.owner}]}if(this.config.target==="ALL_ENEMIES"){const n=[],a=this.engine.getOpponent(this.owner.owner);for(let l=0;l<5;l++)this.engine.state.terrains[l].slots[a].unit&&n.push({terrainId:l,playerId:a});return n}if(this.config.target==="SLOT"){const n=[];if(this.owner.terrainId!==null){const a=this.owner.terrainId,l=this.engine.getOpponent(this.owner.owner);n.push({terrainId:a,playerId:l}),a>0&&(n.push({terrainId:a-1,playerId:this.owner.owner}),n.push({terrainId:a-1,playerId:l})),a<4&&(n.push({terrainId:a+1,playerId:this.owner.owner}),n.push({terrainId:a+1,playerId:l}))}return n}if(this.config.target==="CLOSE_ALLY_SLOT"){const n=[];if(this.owner.terrainId!==null){const a=this.owner.terrainId;if(a>0){const l={terrainId:a-1,playerId:this.owner.owner};n.push(l)}if(a<4){const l={terrainId:a+1,playerId:this.owner.owner};n.push(l)}}return n}return[]}unitsToSlotCoords(e){return e.filter(n=>n.terrainId!==null).map(n=>({terrainId:n.terrainId,playerId:n.owner}))}getTargetTypeForInput(){return this.config.target==="CLOSE_ENEMY"||this.config.target==="ALL_ENEMIES"?"enemy_unit":this.config.target==="CLOSE_ALLY"?"ally_unit":"unit"}async applyEffect(e,n){const a=typeof this.config.value=="function"?this.config.value(n||{unit:this.owner}):this.config.value,l=this.engine.getUnitAt(e);switch(this.config.effect){case"DEAL_DAMAGE":l&&await l.dealDamage(a);break;case"ADD_POWER":l&&await l.addPower(a);break;case"SET_POWER":if(l){const d=a,o=l.power,p=d-o;p!==0&&await l.addPower(p)}break;case"DRAW_CARDS":await this.engine.getPlayer(this.owner.owner).draw(a);break;case"ADD_SLOT_MODIFIER":const s=this.engine.state.terrains[e.terrainId].slots[e.playerId];s.modifier+=a,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e.terrainId,playerId:e.playerId,newModifier:s.modifier});break;case"KILL":l&&await l.die(`killed by ${this.owner.name}'s ${this.name}`);break;case"CLEANSE":const r=this.engine.state.terrains[e.terrainId].slots[e.playerId];if(r.modifier!==0&&(r.modifier=0,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:e.terrainId,playerId:e.playerId,newModifier:0})),l){const d=l.power;l.buffs=0;const o=l.power;o!==d&&(await this.engine.emitEvent({type:"UNIT_POWER_CHANGED",unitId:l.id,terrainId:e.terrainId,oldPower:d,newPower:o,amount:o-d}),l.onPowerChanged(d,o))}break;case"DEPLOY_UNIT":const{createUnitCard:u}=await kn(async()=>{const{createUnitCard:d}=await Promise.resolve().then(()=>vd);return{createUnitCard:d}},void 0),c=typeof this.config.value=="string"?this.config.value:String(a);await u(c,this.owner.owner,this.engine).deploy(e.terrainId);break;case"ADD_SHIELD":l&&await l.addShield(a);break}}}class pS extends Vn{constructor(n,a){super(`Ongoing:${n.listenTo}`);O(this,"unsubscribe");this.config=n,a&&(this.owner=a)}onAttach(n){super.onAttach(n),n.terrainId!==null&&(this.unsubscribe=this.engine.onEvent(a=>{this.handleEvent(a)}))}async onDeploy(){this.unsubscribe||(this.unsubscribe=this.engine.onEvent(n=>{this.handleEvent(n)}))}onLeave(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}onDetach(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}handleEvent(n){if(this.config.listenTo==="YOUR_TURN_ENDS"){if(n.type!=="PRIORITY_CHANGED"||n.newPriority===this.owner.owner)return}else if(this.config.listenTo==="YOUR_TURN_START"){if(n.type!=="TURN_CHANGED"||n.playerId!==this.owner.owner)return}else if(this.config.listenTo==="OPPONENT_TURN_START"){if(n.type!=="TURN_CHANGED"||n.playerId===this.owner.owner)return}else if(n.type!==this.config.listenTo)return;this.config.proximity&&!this.checkProximity(n)||this.config.filter&&!this.config.filter(n,this.owner)||this.executeReaction(n)}checkProximity(n){if(!this.config.proximity)return!0;const a=this.owner.terrainId;if(a===null)return!1;let l;return"terrainId"in n&&(l=n.terrainId),l===void 0?!1:this.config.proximity==="CLOSE"?Math.abs(a-l)<=1:this.config.proximity==="IN_FRONT"||this.config.proximity==="SAME_TERRAIN"?a===l:!1}executeReaction(n){const a=async()=>{await this.applyReaction(n)};this.engine.addInterrupt(new Jl(this.owner,`${this.name}`,a))}async applyReaction(n){const a=this.config.effects||[{target:this.config.target,targetDecision:this.config.targetDecision,effect:this.config.effect,value:this.config.value}];for(const l of a)await this.applyEffectConfig(l,n)}async applyEffectConfig(n,a){let l=[];if(!n.target||n.target==="SELF")l=[this.owner];else if(n.target==="CLOSE_ALLY")l=this.owner.getCloseAllies();else if(n.target==="CLOSE_ENEMY")l=this.owner.getCloseEnemies();else if(n.target==="EVENT_SOURCE"&&"unitId"in a){const i=this.engine.getUnitById(a.unitId);i&&(l=[i])}if(n.targetDecision==="ALL"||!n.targetDecision)for(const i of l)await this.applyEffect(i,a,n);else n.targetDecision==="SELF"?await this.applyEffect(this.owner,a,n):n.targetDecision==="RANDOM"&&await this.applyEffect(l[this.engine.rng.next()*l.length],a,n)}async applyEffect(n,a,l){const i=typeof l.value=="function"?l.value(a):l.value;switch(l.effect){case"ADD_POWER":await n.addPower(i);break;case"DEAL_DAMAGE":await n.dealDamage(i);break;case"ADD_SLOT_MODIFIER":if(n.terrainId!==null){const o=this.engine.state.terrains[n.terrainId].slots[n.owner];o.modifier+=i,await this.engine.emitEvent({type:"SLOT_MODIFIER_CHANGED",terrainId:n.terrainId,playerId:n.owner,newModifier:o.modifier})}break;case"BOUNCE":n.terrainId!==null&&await n.bounce();break;case"MOVE":if(n.terrainId!==null){const o=n.terrainId,p=[];for(let S=0;S<5;S++)S!==o&&(this.engine.state.terrains[S].slots[n.owner].unit||p.push(S));if(p.length>0){const S=Math.floor(this.engine.rng.next()*p.length),v=p[S],x=this.engine.state.terrains[o].slots[n.owner];x.unit=null;const m=this.engine.state.terrains[v].slots[n.owner];m.unit=n,n.terrainId=v,await this.engine.emitEvent({type:"UNIT_MOVED",unitId:n.id,fromTerrainId:o,toTerrainId:v,playerId:n.owner})}}break;case"HEAL":await n.heal(i);break;case"CREATE_CARDS":const s=String(i),[r,u]=s.includes(":")?s.split(":"):[s,"1"],c=parseInt(u,10)||1,{createCard:h}=await kn(async()=>{const{createCard:o}=await Promise.resolve().then(()=>ny);return{createCard:o}},void 0),d=this.engine.getPlayer(this.owner.owner);for(let o=0;o<c;o++){const p=h(r,this.owner.owner,this.engine);d.hand.push(p),await this.engine.emitEvent({type:"CARD_DRAWN",playerId:this.owner.owner,count:1,cardId:p.id})}break}}}class vS extends Vn{constructor(e,n){super(`RuleModifier:${e.ruleType}`),this.config=e,n&&(this.owner=n)}async onDeploy(){const e=(n,a)=>this.config.modifierFunction.call(this.owner,n,a);this.owner.registerRule(this.config.ruleType,e)}onDetach(){this.owner.unregisterRule(this.config.ruleType)}}class bS extends Vn{constructor(n,a){super(`Shield:${n.amount}`);O(this,"shieldAmount");O(this,"duration");this.shieldAmount=n.amount,this.duration=n.duration||"UNTIL_DEPLETED",a&&(this.owner=a)}interceptDamage(n){if(this.shieldAmount<=0)return n;const a=Math.min(n,this.shieldAmount);return this.shieldAmount-=a,this.engine.emitEvent({type:"SHIELD_BLOCKED",unitId:this.owner.id,blocked:a,remaining:this.shieldAmount}),this.shieldAmount<=0&&this.duration==="UNTIL_DEPLETED"&&setTimeout(()=>{this.owner.removeTrait(this.id)},0),n-a}getShieldAmount(){return this.shieldAmount}}class SS extends Vn{constructor(n,a){super(`Activate:${n.description}`);O(this,"cooldownMax");O(this,"cooldownRemaining");O(this,"description");O(this,"effect");this.cooldownMax=n.cooldownMax,this.cooldownRemaining=0,this.description=n.description,this.effect=n.effect,a&&(this.owner=a)}onAttach(n){super.onAttach(n),n.activateAbility={cooldownMax:this.cooldownMax,cooldownRemaining:this.cooldownRemaining,description:this.description,activate:async()=>{await this.activate()}}}onTurnStart(){this.cooldownRemaining>0&&(this.cooldownRemaining--,this.owner.activateAbility&&(this.owner.activateAbility.cooldownRemaining=this.cooldownRemaining),this.engine.emitEvent({type:"COOLDOWN_REDUCED",unitId:this.owner.id,newCooldown:this.cooldownRemaining}))}canActivate(){return this.cooldownRemaining===0}async activate(){this.canActivate()&&(await this.effect(this.owner),this.cooldownRemaining=this.cooldownMax,this.owner.activateAbility&&(this.owner.activateAbility.cooldownRemaining=this.cooldownRemaining),await this.engine.emitEvent({type:"ABILITY_ACTIVATED",unitId:this.owner.id,abilityName:this.description}))}onDetach(){this.owner.activateAbility=void 0}}class ES extends Vn{constructor(e,n,a="Special",l){super(a),this.hook=e,this.implementation=n,l&&(this.owner=l)}async onDeploy(){this.hook==="onDeploy"&&await this.implementation(this.owner,this.engine)}async onDeath(){this.hook==="onDeath"&&await this.implementation(this.owner,this.engine)}async onConquer(){this.hook==="onConquer"&&await this.implementation(this.owner,this.engine)}onTurnStart(){this.hook==="onTurnStart"&&this.implementation(this.owner,this.engine)}}class AS extends Vn{constructor(e,n){super(`DeployCondition:${e.condition}`),this.config=e,n&&(this.owner=n)}onAttach(e){super.onAttach(e);const n=e.getValidTargets.bind(e);e.getValidTargets=a=>this.config.condition==="MUST_CONSUME_UNIT"?this.getMustConsumeTargets(a,n):n(a)}getMustConsumeTargets(e,n){const a=[];return e.terrains.forEach((i,s)=>{const r=s;i.slots[this.owner.owner].unit&&(!this.config.validTargets||this.config.validTargets==="ALLIES"?a.push({terrainId:r,playerId:this.owner.owner}):this.config.validTargets==="ANY"&&a.push({terrainId:r,playerId:this.owner.owner}))}),{type:"slots",validSlots:a}}}class wS extends Vn{constructor(n,a){super("Dominant");O(this,"unsubscribe");this.config=n,a&&(this.owner=a)}onAttach(n){super.onAttach(n),n.hasDominant=!0,n.dominantTriggered=!1,n.terrainId!==null&&this.subscribeToEvents()}async onDeploy(){this.owner.dominantTriggered=!1,this.unsubscribe||this.subscribeToEvents()}onLeave(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}onDetach(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}subscribeToEvents(){this.unsubscribe=this.engine.onEvent(n=>{this.handleEvent(n)})}handleEvent(n){n.type!=="TURN_CHANGED"||n.playerId!==this.owner.owner||this.owner.dominantTriggered||this.isDominant()&&(this.owner.dominantTriggered=!0,this.executeEffect())}isDominant(){var r,u;if(this.owner.terrainId===null)return!1;const n=this.engine.state.terrains[this.owner.terrainId],a=n.slots[this.owner.owner],l=n.slots[this.engine.getOpponent(this.owner.owner)],i=(((r=a.unit)==null?void 0:r.power)||0)+a.modifier,s=(((u=l.unit)==null?void 0:u.power)||0)+l.modifier;return i>s}executeEffect(){const n=async()=>{await this.applyEffect()};this.engine.addInterrupt(new Jl(this.owner,"Dominant",n))}async applyEffect(){const n=this.getTargets();for(const a of n)switch(this.config.effect){case"ADD_POWER":await a.addPower(this.config.value);break;case"DEAL_DAMAGE":await a.dealDamage(this.config.value);break;case"ADD_SHIELD":await a.addShield(this.config.value);break;case"DRAW_CARDS":{const l=this.engine.getPlayer(this.owner.owner),i=this.config.value;for(let s=0;s<i;s++)if(l.deck.length>0){const r=l.deck.shift();l.hand.push(r),await this.engine.emitEvent({type:"CARD_DRAWN",playerId:this.owner.owner,count:1,cardId:r.id})}break}case"CREATE_CARDS":{const l=String(this.config.value),[i,s]=l.includes(":")?l.split(":"):[l,"1"],r=parseInt(s,10)||1,{createCard:u}=await kn(async()=>{const{createCard:h}=await Promise.resolve().then(()=>ny);return{createCard:h}},void 0),c=this.engine.getPlayer(this.owner.owner);for(let h=0;h<r;h++){const d=u(i,this.owner.owner,this.engine);c.hand.push(d),await this.engine.emitEvent({type:"CARD_DRAWN",playerId:this.owner.owner,count:1,cardId:d.id})}break}}}getTargets(){switch(this.config.target||"SELF"){case"SELF":return[this.owner];case"CLOSE_ALLY":return this.owner.getCloseAllies();case"CLOSE_ENEMY":return this.owner.getCloseEnemies();case"IN_FRONT":{const a=this.owner.getUnitInFront();return a?[a]:[]}default:return[this.owner]}}}function TS(t,e){switch(t.type){case"reaction":return new yS(t.config,e);case"ongoingReaction":return new pS(t.config,e);case"ruleModifier":return new vS(t.config,e);case"shield":return new bS(t.config,e);case"activate":return new SS(t.config,e);case"deployCondition":return new AS(t.config,e);case"dominant":return new wS(t.config,e);case"special":return new ES(t.hook,t.implementation,t.name||"Special",e);default:const n=t;throw new Error(`Unknown trait type: ${JSON.stringify(n)}`)}}function ey(t,e,n){const a=ty[t];if(!a)throw new Error(`Unknown unit card ID: ${t}`);const l=new yo(t,a.name,a.description,a.basePower,e,n);l.rarity=a.rarity||"common";for(const i of a.traits){const s=TS(i,l);l.addTrait(s),i.type==="reaction"&&(i.config.trigger==="ON_DEATH"&&(l.hasDeathTrigger=!0),i.config.trigger==="ON_CONQUER"&&(l.hasOngoingEffect=!0)),i.type==="activate"&&(l.hasActiveAbility=!0),(i.type==="ongoingReaction"||i.type==="ruleModifier"||i.type==="shield"||i.type==="deployCondition")&&(l.hasOngoingEffect=!0),i.type==="dominant"&&(l.hasDominant=!0)}return l}const vd=Object.freeze(Object.defineProperty({__proto__:null,createUnitCard:ey},Symbol.toStringTag,{value:"Module"}));class xS extends Ie{constructor(e,n){super("assassinate","Assassinate","Kill an enemy with power 5 or greater.",e,n)}needsTarget(){return!0}getValidTargets(e){const n=[];return e.terrains.forEach(l=>{const i=l.slots[1-this.owner];i.unit&&i.unit.power>=5&&n.push(i.unit.id)}),{type:"slots",validSlots:e.terrains.map((l,i)=>({terrainId:i,playerId:1-this.owner,unit:l.slots[1-this.owner].unit})).filter(l=>l.unit&&l.unit.power>=5).map(l=>({terrainId:l.terrainId,playerId:l.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&n.power>=5&&await n.die("assassinate")}}class DS extends Ie{constructor(e,n){super("brawl","Brawl","An ally fights their opposing enemy.",e,n)}needsTarget(){return!0}getValidTargets(e){const n=this.engine.getOpponent(this.owner);return{type:"slots",validSlots:e.terrains.map((l,i)=>({terrainId:i,playerId:this.owner,allyUnit:l.slots[this.owner].unit,enemyUnit:l.slots[n].unit})).filter(l=>l.allyUnit!==null&&l.enemyUnit!==null).map(l=>({terrainId:l.terrainId,playerId:l.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);if(!n)return;const a=this.engine.getOpponent(this.owner),l={terrainId:e.terrainId,playerId:a},i=this.engine.getUnitAt(l);if(!i)return;const s=n.power,r=i.power;await n.dealDamage(r),await i.dealDamage(s)}}class NS extends Ie{constructor(e,n){super("energize","Energize","An ally gets +3.",e,n)}needsTarget(){return!0}getValidTargets(e){return{type:"slots",validSlots:e.terrains.map((a,l)=>({terrainId:l,playerId:this.owner,unit:a.slots[this.owner].unit})).filter(a=>a.unit!==null).map(a=>({terrainId:a.terrainId,playerId:a.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&await n.addPower(3)}}class CS extends Ie{constructor(e,n){super("fireball","Fireball","Choose a slot, deal 2 damage to the unit on it and each close unit.",e,n)}needsTarget(){return!0}getValidTargets(e){const n=[];return e.terrains.forEach((a,l)=>{n.push({terrainId:l,playerId:0}),n.push({terrainId:l,playerId:1})}),{type:"slots",validSlots:n}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&await n.dealDamage(2);const a=e.terrainId,l=e.playerId,i=[a-1,a+1].filter(r=>r>=0&&r<=4);for(const r of i)for(const u of[0,1]){const c=this.engine.getUnitAt({terrainId:r,playerId:u});c&&await c.dealDamage(2)}const s=this.engine.getUnitAt({terrainId:a,playerId:1-l});s&&await s.dealDamage(2)}}class OS extends Ie{constructor(e,n){super("repositioning","Repositioning","Move an ally to a close ally slot. If occupied, swap them.",e,n)}needsTarget(){return!0}getValidTargets(e){const n=[];return e.terrains.forEach((a,l)=>{a.slots[this.owner].unit&&this.hasAdjacentSlot(l)&&n.push({terrainId:l,playerId:this.owner})}),{type:"slots",validSlots:n}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);if(!n)return;const a=this.getAdjacentSlots(e.terrainId);if(a.length===0)return;let l;if(a.length===1?l=a[0]:l=await this.requestInput({type:"target",targetType:"ally_slot",validSlots:a,context:"Choose destination slot"}),!l)return;const i=this.engine.getUnitAt(l);i?await yo.swap(n,i):await n.move(l.terrainId)}hasAdjacentSlot(e){return this.getAdjacentSlots(e).length>0}getAdjacentSlots(e){const n=[];return e>0&&n.push({terrainId:e-1,playerId:this.owner}),e<4&&n.push({terrainId:e+1,playerId:this.owner}),n}}class RS extends Ie{constructor(e,n){super("seed","Seed","Give a slot and close slots to it +1.",e,n)}needsTarget(){return!0}getValidTargets(e){const n=[];return e.terrains.forEach((a,l)=>{n.push({terrainId:l,playerId:this.owner})}),{type:"slots",validSlots:n}}async play(e){await this.engine.addSlotModifier(e.terrainId,e.playerId,1);const n=Wm(e.terrainId);for(const a of n)await this.engine.addSlotModifier(a,e.playerId,1)}}class _S extends Ie{constructor(e,n){super("spike","Spike","Deal 1 damage to a unit.",e,n)}needsTarget(){return!0}getValidTargets(e){return{type:"slots",validSlots:e.terrains.flatMap((a,l)=>[{terrainId:l,playerId:0,unit:a.slots[0].unit},{terrainId:l,playerId:1,unit:a.slots[1].unit}]).filter(a=>a.unit!==null).map(a=>({terrainId:a.terrainId,playerId:a.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&await n.dealDamage(1)}}class MS extends Ie{constructor(e,n){super("strike","Strike","Deal 3 damage to a unit.",e,n)}needsTarget(){return!0}getValidTargets(e){return{type:"slots",validSlots:e.terrains.flatMap((a,l)=>[{terrainId:l,playerId:0,unit:a.slots[0].unit},{terrainId:l,playerId:1,unit:a.slots[1].unit}]).filter(a=>a.unit!==null).map(a=>({terrainId:a.terrainId,playerId:a.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&await n.dealDamage(3)}}class zS extends Ie{constructor(e,n){super("unsummon","Unsummon","Return a unit to hand.",e,n)}needsTarget(){return!0}getValidTargets(e){return{type:"slots",validSlots:e.terrains.flatMap((a,l)=>[{terrainId:l,playerId:0,unit:a.slots[0].unit},{terrainId:l,playerId:1,unit:a.slots[1].unit}]).filter(a=>a.unit!==null).map(a=>({terrainId:a.terrainId,playerId:a.playerId}))}}async play(e){if(!e)return;const n=this.engine.getUnitAt(e);n&&await n.bounce()}}const US={...Object.keys(ty).reduce((t,e)=>(t[e]=(n,a)=>ey(e,n,a),t),{}),assassinate:(t,e)=>new xS(t,e),brawl:(t,e)=>new DS(t,e),energize:(t,e)=>new NS(t,e),fireball:(t,e)=>new CS(t,e),repositioning:(t,e)=>new OS(t,e),seed:(t,e)=>new RS(t,e),spike:(t,e)=>new _S(t,e),strike:(t,e)=>new MS(t,e),unsummon:(t,e)=>new zS(t,e)};function Qs(t,e,n){const a=US[t];if(!a)throw new Error(`Unknown card: ${t}`);return a(e,n)}function ja(t,e,n){return t.map(a=>Qs(a,e,n))}const ny=Object.freeze(Object.defineProperty({__proto__:null,createCard:Qs,createDeck:ja},Symbol.toStringTag,{value:"Module"}));function jS(t){const e=[...t];for(let n=e.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[e[n],e[a]]=[e[a],e[n]]}return e}function bd(t,e){const a=ja(["thief","thief","zombie","zombie","repositioning","repositioning","repositioning","archer","archer","turret","strike","strike","scout","scout","engineer","engineer","knight","knight","champion","veteran","brawl","brawl","strike","fireball"],t,e);return jS(a)}class yn{constructor(e){O(this,"type","human");this.playerId=e}onEvent(e){e.type==="ACTION_REQUIRED"&&(e.playerId,this.playerId),e.type==="TARGET_REQUIRED"&&(e.playerId,this.playerId)}}class LS{constructor(e,n){O(this,"rng");this.playerId=e,this.rng=n}decideAction(e){const n=e.players[this.playerId];if(n.hand.length===0)return{type:"PASS",playerId:this.playerId};const a=[...n.hand];this.rng?this.rng.shuffle(a):a.sort(()=>Math.random()-.5);for(const l of a){const i=l,s=i.selectDefaultTarget(e);if(!(i.needsTarget()&&!s)&&!(i.getType()==="unit"&&!s))return{type:"PLAY_CARD",playerId:this.playerId,cardId:l.id,targetSlot:s||void 0}}return{type:"PASS",playerId:this.playerId}}}class Ki{constructor(e,n,a){O(this,"type","ai");O(this,"ai");O(this,"pendingTimeout",null);this.playerId=e,this.engine=n,this.ai=a||new LS(e)}setAI(e){this.ai=e}onEvent(e){this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=null),e.type==="ACTION_REQUIRED"&&e.playerId===this.playerId&&(this.pendingTimeout=setTimeout(async()=>{try{if(typeof window<"u"&&window.__GAME_STORE__&&window.__GAME_STORE__.getState().setAIThinking(this.playerId),"selectAction"in this.ai){const n=await this.ai.selectAction(this.engine.state,this.engine.logger.getHistory());this.engine.submitAction(n.action,n.reasoning)}else{const n=this.ai.decideAction(this.engine.state);n&&this.engine.submitAction(n)}}catch(n){console.error("AI action failed:",n),this.engine.submitAction({type:"PASS",playerId:this.playerId},"Fallback pass due to error")}finally{typeof window<"u"&&window.__GAME_STORE__&&window.__GAME_STORE__.getState().setAIThinking(null),this.pendingTimeout=null}},1e3)),e.type==="INPUT_REQUIRED"&&e.playerId===this.playerId&&(this.pendingTimeout=setTimeout(()=>{try{const n=this.selectInput(e.inputRequest);n!==null&&(console.log("=== AI INPUT SELECTION ==="),console.log("Context:",e.inputRequest.context),console.log("Type:",e.inputRequest.type),console.log("Available options:",this.formatInputOptions(e.inputRequest)),console.log("Selected:",this.formatSelectedInput(n,e.inputRequest)),console.log("========================"),this.engine.submitInput(n))}catch(n){console.error("AI input selection failed:",n)}this.pendingTimeout=null},500))}selectInput(e){if(e.type==="target"){if(e.validSlots&&e.validSlots.length>0)return e.validSlots[0];if(e.validTargetIds&&e.validTargetIds.length>0)return e.validTargetIds[0]}return e.type==="choose_option"&&e.options&&e.options.length>0?e.options[0]:null}formatInputOptions(e){if(e.type==="target"){if(e.validSlots&&e.validSlots.length>0)return`${e.validSlots.length} slots: ${e.validSlots.map(n=>`T${n.terrainId}P${n.playerId}`).join(", ")}`;if(e.validTargetIds&&e.validTargetIds.length>0)return`${e.validTargetIds.length} targets: ${e.validTargetIds.join(", ")}`}return e.type==="choose_option"&&e.options?`${e.options.length} options: ${e.options.join(", ")}`:"(none)"}formatSelectedInput(e,n){return n.type==="target"&&(e==null?void 0:e.terrainId)!==void 0?`Terrain ${e.terrainId}, Player ${e.playerId}`:JSON.stringify(e)}}class Sd{constructor(e,n={}){O(this,"name","Claude AI");O(this,"config");O(this,"totalInputTokens",0);O(this,"totalOutputTokens",0);O(this,"engine",null);this.playerId=e,this.config={proxyUrl:n.proxyUrl||"http://localhost:3001/api/claude",model:n.model||"claude-3-5-haiku-20241022",temperature:n.temperature??.7,maxTokens:n.maxTokens||1024,systemPrompt:n.systemPrompt||this.getGrandmasterSystemPrompt()}}setEngine(e){this.engine=e}async selectAction(e,n){try{const a=this.buildPrompt(e,n),l=await this.callClaude(a),i=this.parseResponse(l);if(!this.isActionValid(i.action,e))throw console.warn("Claude returned invalid action:",i.action),new Error("Claude returned invalid action");return{action:i.action,reasoning:i.reasoning}}catch(a){return console.error("Claude API error:",a),{action:this.getFallbackAction(e),reasoning:`Fallback action due to error: ${a instanceof Error?a.message:"Unknown error"}`}}}async callClaude(e){var i;const n=this.config.proxyUrl,a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,max_tokens:this.config.maxTokens,temperature:this.config.temperature,system:this.config.systemPrompt,messages:[{role:"user",content:e}]})});if(!a.ok){const s=await a.json();throw new Error(`Claude API error: ${((i=s.error)==null?void 0:i.message)||a.statusText}`)}const l=await a.json();return l.usage&&(this.totalInputTokens+=l.usage.input_tokens||0,this.totalOutputTokens+=l.usage.output_tokens||0),l.content[0].text}buildPrompt(e,n){const a=[this.analyzeResources(e),"",this.analyzeBattlefield(e),"",this.serializeGameState(e),"",this.serializeCardCatalog(e),"",this.serializeLegalActions(e),"","=== YOUR TASK ===","Choose the best action from the legal actions above.","Heuristics:","- If you are winning 3 terrains and opponent needs 2+ cards to catch up -> CONSIDER PASSING.","- If you are bleeding cards and cannot win this skirmish -> PASS to save resources.","- Play [ENGINE] cards early in the round. Play [POINT SLAM] cards late.","","Respond with valid JSON (single line reasoning):","{",'  "action": <one of the legal actions above>,','  "reasoning": "<brief strategy explanation in a single line>"',"}","IMPORTANT: Keep reasoning on a single line without line breaks."];if(n&&n.length>0){const l=n.slice(-5);a.unshift("=== RECENT ACTIONS ===",this.serializeHistory(l),"")}return a.join(`
`)}getStrategyTags(e){switch(e){case"Engineer":case"Bard":case"Wizard":case"Turret":return"[ENGINE] Generates value over time. Best played EARLY in a skirmish.";case"Champion":case"Veteran":return"[POINT SLAM] High raw power. Good for swinging a lost lane or securing a win late.";case"Dragon":return"[POINT SLAM] Massive power swing but requires sacrifice.";case"Archer":case"Hunter":case"Assassinate":case"Strike":case"Fireball":return"[CONTROL] Removes enemy power. Use to neutralize key enemy threats.";case"Sentinel":return"[CONTROL] Denies enemy placement.";case"Scout":case"Noble":case"Apprentice":return"[VALUE] Generates card advantage. High priority.";case"Knight":return"[SWARM] Spawns extra bodies. Good for wide board control.";case"Acolyte":return"[FODDER] Good target to be Consumed.";case"Necromancer":return"[REVIVE] Bring back value from graveyard.";default:return""}}analyzeResources(e){const n=e.players[this.playerId].hand.length,a=e.players[1-this.playerId].hand.length,l=n-a;let i="";return l>0?i="You have CARD ADVANTAGE (+ cards). You can press the attack.":l<0?i="You are BEHIND on cards. Consider passing early to recover CA.":i="Cards are equal.",`=== STRATEGIC SNAPSHOT ===
Hand Size: You ${n} vs Opponent ${a} (Diff: ${l>0?"+":""}${l})
Strategic Advice: ${i}`}analyzeBattlefield(e){const n=this.playerId,a=1-this.playerId;let l=0,i=0,s=0;const r=e.terrains.map((u,c)=>{const h=u.slots[n].unit?u.slots[n].unit.power:0,d=u.slots[n].modifier,o=h+d,p=u.slots[a].unit?u.slots[a].unit.power:0,S=u.slots[a].modifier,v=p+S;let x="TIED";return o>v?(x=`WINNING (+${o-v})`,l++):o<v?(x=`LOSING (${o-v})`,i++):s++,`Terrain ${c}: ${x} [My ${o} vs Opp ${v}]`}).join(`
`);return`=== BATTLEFIELD ANALYSIS ===
Lanes Controlled: Winning ${l} | Losing ${i} | Tied ${s}
Victory Condition: You need 3 lanes to win the Skirmish.
Lane Details:
${r}`}serializeGameState(e){const n=1-this.playerId;return`=== RAW GAME STATE ===
MATCH STATUS:
- Skirmish: ${e.currentSkirmish}/5
- Your SP: ${e.players[this.playerId].sp}/3
- Opponent SP: ${e.players[n].sp}/3

CURRENT TURN:
- Active: ${e.currentPlayer===this.playerId?"YOU":"OPPONENT"}
- You Passed: ${e.isDone[this.playerId]?"Yes":"No"}
- Opponent Passed: ${e.isDone[n]?"Yes":"No"}`}serializeCardCatalog(e){const n=new Map;return e.players[this.playerId].hand.forEach(l=>n.set(l.cardId,l)),e.terrains.forEach(l=>{[0,1].forEach(i=>{const s=l.slots[i].unit;s&&n.set(s.cardId,s)})}),n.size===0?`=== CARD CATALOG ===
(No cards visible)`:`=== CARD CATALOG (WITH STRATEGY TAGS) ===
${Array.from(n.values()).map(l=>{const i=this.getStrategyTags(l.name),s=i?` ${i}`:"";if(l.getType()==="unit"){const r=l;return`- ${l.name} (${r.power} pwr): ${l.description}${s}`}else return`- ${l.name} (Action): ${l.description}${s}`}).join(`
`)}`}serializeHand(e){return e.length===0?"(Empty)":e.map(n=>{const a=n.getType()==="unit"?`Unit, ${n.power} pwr`:"Action";return`- ${n.name} (${a})`}).join(`
`)}serializeLegalActions(e){if(!this.engine)return this.serializeLegalActionsFallback(e);const n=this.engine.getLegalActions(this.playerId);return n.length===0?`=== LEGAL ACTIONS ===
(No legal actions available)`:(n.map(a=>a.type==="PASS"?`PASS (End Turn/Skirmish): { "type": "PASS", "playerId": ${this.playerId} }`:JSON.stringify(a)),this.serializeLegalActionsDetailed(e,n))}serializeLegalActionsDetailed(e,n){return`=== LEGAL ACTIONS ===
`+n.map(a=>{if(a.type==="PASS")return`PASS: { "type": "PASS", "playerId": ${this.playerId} }`;if(a.type==="PLAY_CARD"){const l=e.players[this.playerId].hand.find(s=>s.id===a.cardId);if(!l)return null;const i=l.name;return a.targetSlot?`PLAY ${i} to Terrain ${a.targetSlot.terrainId}: ${JSON.stringify(a)}`:`PLAY ${i}: ${JSON.stringify(a)}`}return a.type==="ACTIVATE"?`ACTIVATE Ability: ${JSON.stringify(a)}`:null}).filter(Boolean).join(`

`)}serializeLegalActionsFallback(e){return`PASS: { "type": "PASS", "playerId": ${this.playerId} }`}serializeHistory(e){return e.map(n=>{const a=n.player===this.playerId?"You":"Opponent";let l=n.actionType==="PLAY_CARD"?`played ${n.details.cardName}`:"passed";return n.details.targetSlot&&(l+=` at Terrain ${n.details.targetSlot.terrainId}`),`Turn ${n.turn}: ${a} ${l}`}).join(`
`)}parseResponse(e){const a=e.replace(/```json\n?/g,"").replace(/```\n?/g,"").match(/\{[\s\S]*\}/);if(!a)throw new Error("No JSON found");try{const l=a[0].replace(/\n/g," ").replace(/\r/g,"");return JSON.parse(l)}catch(l){throw console.error("JSON Parse Error",l),new Error("Failed to parse AI response")}}isActionValid(e,n){return e.playerId===this.playerId}getFallbackAction(e){return{type:"PASS",playerId:this.playerId}}getGrandmasterSystemPrompt(){return`You are a Grandmaster player of "Skirmish" (a tactical card game similar to Gwent).

    
CORE RULES:
- Match is Best of 3 Skirmishes.
- Win a Skirmish by controlling more terrains (3 out of 5) than the opponent.
- A terrain is controlled by having higher total power.

STRATEGIC HEURISTICS (HOW TO WIN):
1. SPATIAL CONTROL: Focus on winning 3 lanes. Abandon lanes where the opponent has a massive lead (don't waste cards).
2. CARD ADVANTAGE (CA): Cards are your only resource. 
   - If winning a skirmish costs 2+ more cards than the opponent, it is often better to PASS and save cards for the next round.
   - If you are winning comfortably, PASS to force the opponent to play cards or lose.
3. THE PASS: Declaring "Done" is your strongest move. Use it to lock in a win or cut your losses.
4. ORDER OF OPERATIONS:
   - Use [ENGINE] cards early to accrue value.
   - Use [POINT SLAM] cards as finishers.
   - Use [CONTROL] to remove key enemy engines.

Your response must be valid JSON containing the chosen action and a single-line reasoning.`}}const IS=3,HS=30,YS=["acolyte","apprentice","archer","bard","champion","dragon","engineer","ghoul","hunter","knight","mimic","necromancer","noble","priest","ranger","rogue","rookie","roots","scout","sentinel","turret","vampire","veteran","warlock","wizard","assassinate","energize","fireball","repositioning","seed","strike","unsummon"].sort(),Ed=()=>[{cardId:"scout",count:2},{cardId:"engineer",count:1},{cardId:"acolyte",count:1},{cardId:"mimic",count:1},{cardId:"priest",count:1},{cardId:"bard",count:1},{cardId:"roots",count:1},{cardId:"wizard",count:1},{cardId:"archer",count:2},{cardId:"turret",count:1},{cardId:"rookie",count:1},{cardId:"knight",count:1},{cardId:"sentinel",count:1},{cardId:"champion",count:2},{cardId:"hunter",count:1},{cardId:"noble",count:1},{cardId:"ranger",count:1},{cardId:"strike",count:2},{cardId:"unsummon",count:1},{cardId:"seed",count:1},{cardId:"energize",count:1}],sc=Vm((t,e)=>({deck:Ed(),addCard:n=>{const{deck:a,canAddCard:l}=e();if(!l(n))return;const i=a.find(s=>s.cardId===n);t(i?{deck:a.map(s=>s.cardId===n?{...s,count:s.count+1}:s)}:{deck:[...a,{cardId:n,count:1}].sort((s,r)=>s.cardId.localeCompare(r.cardId))})},removeCard:n=>{const{deck:a}=e(),l=a.find(i=>i.cardId===n);l&&(l.count===1?t({deck:a.filter(i=>i.cardId!==n)}):t({deck:a.map(i=>i.cardId===n?{...i,count:i.count-1}:i)}))},setDeck:n=>{t({deck:[...n].sort((a,l)=>a.cardId.localeCompare(l.cardId))})},resetDeck:()=>{t({deck:Ed()})},getCardCount:n=>{const{deck:a}=e(),l=a.find(i=>i.cardId===n);return l?l.count:0},canAddCard:n=>{const{deck:a,getDeckSize:l}=e();if(l()>=HS)return!1;const i=a.find(r=>r.cardId===n);return(i?i.count:0)<IS},getDeckSize:()=>{const{deck:n}=e();return n.reduce((a,l)=>a+l.count,0)}})),Va=Vm((t,e)=>({gameState:null,eventLog:[],pendingInputRequest:null,pendingInputPlayerId:null,isAIThinking:!1,aiThinkingPlayerId:null,gameMode:"vs-ai",localController:null,opponentController:null,localPlayerId:0,engine:null,networkGameId:null,networkGameCode:null,networkSync:null,setAIThinking:n=>{t({isAIThinking:n!==null,aiThinkingPlayerId:n})},downloadGameLog:()=>{const{engine:n}=e();if(!n){console.warn("No engine available to download log");return}try{const a=n.logger.exportToJSON(),l=new Blob([a],{type:"application/json"}),i=URL.createObjectURL(l),s=document.createElement("a");s.href=i,s.download=`skirmish-log-${Date.now()}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),console.log("Game log downloaded successfully")}catch(a){console.error("Failed to download game log:",a)}},initGame:(n,a="vs-ai")=>{const l=a==="human-vs-human"||a==="god-mode";let i,s,r=null,u=null;l?(i=new yn(0),s=new yn(1)):n===0?(i=new yn(0),u=new Sd(1),s=new Ki(1,null,u)):(r=new Sd(0),i=new Ki(0,null,r),s=new yn(1));const c=new mS(i,s);i instanceof Ki&&(i.engine=c),s instanceof Ki&&(s.engine=c),r&&r.setEngine(c),u&&u.setEngine(c);const h=sc.getState(),d=[];h.deck.forEach(S=>{for(let v=0;v<S.count;v++)d.push(S.cardId)});let o=bd(0,c);const p=bd(1,c);c.initializeGame(o,p,"sage","warlord"),c.onEvent(S=>{const v=e(),x=[...v.eventLog,S],m=v.localPlayerId,f=y=>y==null?"":y===m?"YOU":"OPPONENT";if(S.type==="INPUT_REQUIRED"){console.log(`[Event] INPUT_REQUIRED for ${f(S.playerId)}`,S.inputRequest),t({eventLog:x,pendingInputRequest:S.inputRequest,pendingInputPlayerId:S.playerId});const{localController:y,opponentController:b}=e();y&&"onEvent"in y&&y.onEvent(S),b&&"onEvent"in b&&b.onEvent(S);return}S.type==="STATE_SNAPSHOT"?(console.log(`[Event] STATE_SNAPSHOT - Current turn: ${f(S.state.currentPlayer)}`),t({eventLog:x,gameState:S.state,pendingInputRequest:null,pendingInputPlayerId:null})):"playerId"in S?(console.log(`[Event] ${S.type} by ${f(S.playerId)}`,S),t({eventLog:x})):(console.log(`[Event] ${S.type}`,S),t({eventLog:x}))}),t({engine:c,localController:n===0?i:s,opponentController:n===0?s:i,localPlayerId:n,gameState:c.state,eventLog:[],gameMode:a})},initNetworkGame:async(n,a)=>{try{const{firebaseConfig:l,FIREBASE_CONFIGURED:i}=await kn(async()=>{const{firebaseConfig:d,FIREBASE_CONFIGURED:o}=await import("./firebase.config-Dgyw0Y5G.js");return{firebaseConfig:d,FIREBASE_CONFIGURED:o}},[]),{NetworkGameManager:s}=await kn(async()=>{const{NetworkGameManager:d}=await import("./NetworkGameManager-Bw6CcBv4.js");return{NetworkGameManager:d}},[]);if(!i){alert(`Firebase is not configured!

Please edit src/config/firebase.config.ts with your Firebase credentials.`);return}const r=new s(l),u=sc.getState(),c=[];u.deck.forEach(d=>{for(let o=0;o<d.count;o++)c.push(d.cardId)});const h=["scout","scout","engineer","acolyte","mimic","priest","bard","roots","wizard","archer","archer","turret","rookie","knight","sentinel","champion","champion","hunter","noble","ranger","strike","strike","unsummon","seed","energize"];if(a==="create"){const{engine:d,gameId:o,code:p,networkSync:S,deck0Ids:v,deck1Ids:x}=await r.createGame(n,c,h),m=r.getFirebaseService();m.subscribeToReadyState(o,async f=>{const y=f.player0Ready&&f.player1Ready,b=f.gameStarted;if(y&&!b){const A=await m.getGame(o);A&&!A.gameStarted&&await m.setPlayerReady(o,n)}if(b&&!e().gameState){const A=ja(v,0,d),D=ja(x,1,d);console.log("[CARD IDs] Player 0 deck:",A.map(T=>T.id).slice(0,5),"..."),console.log("[CARD IDs] Player 1 deck:",D.map(T=>T.id).slice(0,5),"..."),await d.initializeGame(A,D),t({gameState:d.state})}}),d.onEvent(f=>{const b=[...e().eventLog,f],A=D=>D==null?"":D===n?"YOU":"OPPONENT";if(f.type==="INPUT_REQUIRED"){console.log(`[Event] INPUT_REQUIRED for ${A(f.playerId)}`,f.inputRequest),t({eventLog:b,pendingInputRequest:f.inputRequest,pendingInputPlayerId:f.playerId});return}f.type==="STATE_SNAPSHOT"?(console.log(`[Event] STATE_SNAPSHOT - Current turn: ${A(f.state.currentPlayer)}`),t({eventLog:b,gameState:f.state,pendingInputRequest:null,pendingInputPlayerId:null})):"playerId"in f?(console.log(`[Event] ${f.type} by ${A(f.playerId)}`,f),t({eventLog:b})):(console.log(`[Event] ${f.type}`,f),t({eventLog:b}))}),S.onDesync(f=>{console.error("DESYNC DETECTED",f),alert(`Game state mismatch detected!

Expected: ${f.expected}
Actual: ${f.actual}

The game may be out of sync.`)}),t({engine:d,localController:n===0?new yn(0):new yn(1),opponentController:null,localPlayerId:n,gameState:null,eventLog:[],gameMode:"network",networkGameId:o,networkGameCode:p,networkSync:S})}else{const d=a,{engine:o,gameId:p,code:S,networkSync:v,deck0Ids:x,deck1Ids:m}=await r.joinGameByCode(d,n,c);r.getFirebaseService().subscribeToReadyState(p,async y=>{const b=e(),A=y.player0Ready&&y.player1Ready,D=y.gameStarted;if(D&&!b.gameState){const T=ja(x,0,o),N=ja(m,1,o);console.log("[CARD IDs] Player 0 deck:",T.map(R=>R.id).slice(0,5),"..."),console.log("[CARD IDs] Player 1 deck:",N.map(R=>R.id).slice(0,5),"..."),await o.initializeGame(T,N),t({gameState:o.state})}}),o.onEvent(y=>{const A=[...e().eventLog,y],D=T=>T==null?"":T===n?"YOU":"OPPONENT";if(y.type==="INPUT_REQUIRED"){console.log(`[Event] INPUT_REQUIRED for ${D(y.playerId)}`,y.inputRequest),t({eventLog:A,pendingInputRequest:y.inputRequest,pendingInputPlayerId:y.playerId});return}y.type==="STATE_SNAPSHOT"?(console.log(`[Event] STATE_SNAPSHOT - Current turn: ${D(y.state.currentPlayer)}`),t({eventLog:A,gameState:y.state,pendingInputRequest:null,pendingInputPlayerId:null})):"playerId"in y?(console.log(`[Event] ${y.type} by ${D(y.playerId)}`,y),t({eventLog:A})):(console.log(`[Event] ${y.type}`,y),t({eventLog:A}))}),v.onDesync(y=>{console.error("DESYNC DETECTED",y),alert(`Game state mismatch detected!

Expected: ${y.expected}
Actual: ${y.actual}

The game may be out of sync.`)}),t({engine:o,localController:n===0?new yn(0):new yn(1),opponentController:null,localPlayerId:n,gameState:null,eventLog:[],gameMode:"network",networkGameId:p,networkGameCode:S,networkSync:v})}}catch(l){console.error("Network game initialization failed:",l),alert(`Failed to create/join network game:

`+l.message)}}}));typeof window<"u"&&(window.__GAME_STORE__=Va,window.printGameState=()=>{var n;const t=Va.getState(),e=t.gameState||((n=t.engine)==null?void 0:n.state);if(!e){console.log("No game state available");return}return console.group("=== GAME STATE SNAPSHOT ==="),console.log("Raw State:",e),console.log("Current Player:",e.currentPlayer),console.log("Skirmish:",e.currentSkirmish),console.group("Terrains"),e.terrains.forEach((a,l)=>{console.group(`Terrain ${l}: ${a.id}`),console.log("Winner:",a.winner===null?"None":`Player ${a.winner}`),[0,1].forEach(i=>{const s=a.slots[i],r=s.unit;console.group(`Player ${i} Slot`),console.log("Modifier:",s.modifier),r?(console.log("Unit:",r.name,`(ID: ${r.id})`),console.log("Base Power:",r.basePower||r.originalPower),console.log("Effective Power:",r.power)):console.log("Empty"),console.groupEnd()}),console.groupEnd()}),console.groupEnd(),console.groupEnd(),e},window.triggerGameOver=t=>{const n=Va.getState().engine;if(!n){console.error("No game engine available");return}console.log(`Triggering game over with winner: Player ${t}`),n.state.matchWinner=t,n.state.players[t].skirmishesWon=2,n.state.players[t===0?1:0].skirmishesWon=0,n.emitEvent({type:"STATE_SNAPSHOT",state:n.state}),console.log("Game over triggered! Check the UI.")});const GS=({gameState:t,engine:e,localPlayerId:n,onPlayAgain:a,onMainMenu:l})=>{const[i,s]=E.useState(null),[r,u]=E.useState(null),{pendingInputRequest:c,pendingInputPlayerId:h,gameMode:d,downloadGameLog:o,isAIThinking:p,aiThinkingPlayerId:S}=Va(),v=d==="god-mode",x=d==="network",m=n===0?1:0,f=t.players[n],y=t.players[m],b=t.currentPlayer===n;x&&console.log(`[Perspective] You are Player ${n}, Opponent is Player ${m}`);const A=c!==null&&(h===n||v),D=M=>{const H=e.getCardById(M.active.id);if(!H)return;s(H);const Y=H.getValidTargets(t);u(Y)},T=M=>{const{active:H,over:Y}=M;if(!Y||!i){s(null),u(null);return}const K=Y.data.current;if(K&&K.slotCoord){const{terrainId:W,playerId:bt}=K.slotCoord;N(W,bt,H.id)}s(null),u(null)},N=(M,H,Y)=>{let K=e.getCardById(Y),W=(K==null?void 0:K.owner)??n;if(!K)return;const bt=M;if(K.getType()==="unit"){if(r&&r.type==="slots"&&r.validSlots&&r.validSlots.some(kt=>kt.terrainId===bt&&kt.playerId===H)){const kt={type:"PLAY_CARD",playerId:W,cardId:Y,targetSlot:{terrainId:bt,playerId:H}};console.log(`[Action] ${W===n?"YOU":"OPPONENT"} playing card to terrain ${bt}, slot player ${H}`),e.submitAction(kt)}}else!r||r.type==="none"?e.submitAction({type:"PLAY_CARD",playerId:W,cardId:Y}):r.type==="slots"&&r.validSlots&&r.validSlots.some(kt=>kt.terrainId===bt&&kt.playerId===H)&&e.submitAction({type:"PLAY_CARD",playerId:W,cardId:Y,targetSlot:{terrainId:bt,playerId:H}})},R=M=>{var Y,K;if(console.log("[UI] handleUnitClick called with unitId:",M),console.log("[UI] isAwaitingInput:",A,"pendingInputRequest:",c),!A||!c||c.type!=="target")return;if(c.validTargetIds){const W=c.validTargetIds.includes(M);if(console.log("[UI] Checking validTargetIds:",c.validTargetIds,"isValid:",W),!W)return;console.log("[UI] Submitting unit ID:",M),e.submitInput(M);return}let H=null;for(let W=0;W<t.terrains.length;W++){const bt=t.terrains[W];if(((Y=bt.slots[0].unit)==null?void 0:Y.id)===M){H={terrainId:W,playerId:0};break}if(((K=bt.slots[1].unit)==null?void 0:K.id)===M){H={terrainId:W,playerId:1};break}}H&&(c.validSlots&&!c.validSlots.some(bt=>bt.terrainId===H.terrainId&&bt.playerId===H.playerId)||e.submitInput(H))},_=(M,H)=>{A&&c&&(c.type==="target"&&c.validSlots&&!c.validSlots.some(K=>K.terrainId===M&&K.playerId===H)||e.submitInput({terrainId:M,playerId:H}))},k=M=>{t.currentPlayer===M&&(console.log(`[Action] ${M===n?"YOU":"OPPONENT"} passing turn (Player ${M})`),e.submitAction({type:"PASS",playerId:M}))},dt=M=>{if(t.currentPlayer!==M)return;const H=t.leaders[M];!H||H.currentCharges<=0||!Xa(H.leaderId,e,M).ability||(console.log(`[Action] ${M===n?"YOU":"OPPONENT"} activating leader ability (Player ${M})`),e.submitAction({type:"ACTIVATE_LEADER",playerId:M}))},Nt=t.leaders[n],It=t.leaders[m],$t=Xa(Nt.leaderId,e,n),C=Xa(It.leaderId,e,m),z=$t.ability!==null&&Nt.currentCharges>0&&!Nt.isExhausted&&b&&$t.ability.canActivate(),j=C.ability!==null&&It.currentCharges>0&&!It.isExhausted&&!b&&C.ability.canActivate(),tt=(()=>{let M=0,H=0;return t.terrains.forEach((Y,K)=>{const W=e.calculateTerrainWinner(K);W===0?M+=1:W===1&&(H+=1)}),{player0SP:M,player1SP:H}})(),we=n===0?tt.player0SP:tt.player1SP,jt=m===0?tt.player0SP:tt.player1SP,Wt=(M,H,Y)=>!r||r.type!=="slots"||!r.validSlots?!1:r.validSlots.some(K=>K.terrainId===M&&K.playerId===H);return g.jsxs(g.Fragment,{children:[g.jsx(Xb,{gameState:t,localPlayerId:n,onPlayAgain:a,onMainMenu:l}),g.jsxs(bb,{onDragStart:D,onDragEnd:T,children:[g.jsxs("div",{className:"min-h-screen bg-stone-200 p-4 flex gap-4",children:[g.jsxs("div",{className:"flex flex-col w-48 h-screen py-4",children:[g.jsxs("div",{className:`bg-blue-200 border-2 rounded-lg p-4 h-48 flex flex-col ${b?"border-stone-800":"border-amber-500 shadow-lg"}`,children:[g.jsxs("div",{className:"font-hand text-lg text-center mb-2 flex items-center justify-center gap-2",children:[g.jsx("span",{children:"Opponent"}),!b&&g.jsx("span",{className:"text-amber-600",children:""})]}),g.jsx("div",{className:"flex-grow bg-blue-100 rounded border border-stone-600 flex items-center justify-center relative",children:p&&S===m?g.jsxs("div",{className:"flex flex-col items-center gap-2",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-stone-800"}),g.jsx("span",{className:"font-ui text-xs text-stone-600",children:"Thinking..."})]}):g.jsx("span",{className:"font-ui text-xs text-stone-600",children:"Character art"})}),g.jsxs("div",{className:"mt-2 space-y-1",children:[v?g.jsx("button",{onClick:()=>k(m),disabled:t.currentPlayer!==m||t.isDone[m],className:"w-full bg-amber-400 hover:bg-amber-500 disabled:bg-stone-400 border-2 border-stone-800 rounded px-2 py-1 font-hand text-sm",children:"Pass"}):g.jsxs("div",{className:"bg-white px-2 py-1 rounded text-xs font-ui flex justify-between",children:[g.jsx("span",{children:"Passed:"}),g.jsx("span",{children:t.isDone[m]?"Yes":"No"})]}),g.jsxs("div",{className:"bg-white px-2 py-1 rounded text-xs font-ui flex justify-between",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:y.graveyard.length})]}),!v&&g.jsxs("div",{className:"bg-white px-2 py-1 rounded text-xs font-ui flex justify-between",children:[g.jsx("span",{children:"Hand:"}),g.jsx("span",{children:y.hand.length})]}),C.definition.maxCharges>0&&g.jsxs("div",{className:"bg-purple-100 px-2 py-1 rounded text-xs font-ui",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-bold",children:C.definition.name}),g.jsxs("span",{className:"text-purple-600",children:[It.currentCharges,"/",C.definition.maxCharges]})]}),g.jsx("div",{className:"text-stone-500 text-[10px] mt-0.5",children:C.definition.abilityDescription}),v&&g.jsx("button",{onClick:()=>dt(m),disabled:!j,className:"w-full mt-1 bg-purple-400 hover:bg-purple-500 disabled:bg-stone-400 border border-stone-800 rounded px-1 py-0.5 text-[10px]",children:"Activate"})]})]})]}),g.jsx("div",{className:"flex-grow"}),g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===1?"bg-amber-200 border-amber-500":y.skirmishesWon>=1?"bg-blue-300 border-blue-500":f.skirmishesWon>=1?"bg-pink-300 border-pink-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===1?jt:y.skirmishesWon>=1?"":(f.skirmishesWon>=1,"")}),g.jsx("div",{className:"w-14 h-0.5 bg-stone-400 rounded-full"}),g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===1?"bg-amber-200 border-amber-500":f.skirmishesWon>=1?"bg-pink-300 border-pink-500":y.skirmishesWon>=1?"bg-blue-300 border-blue-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===1?we:f.skirmishesWon>=1?"":(y.skirmishesWon>=1,"")})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===2?"bg-amber-200 border-amber-500":y.skirmishesWon>=2?"bg-blue-300 border-blue-500":f.skirmishesWon>=2?"bg-pink-300 border-pink-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===2?jt:y.skirmishesWon>=2?"":(f.skirmishesWon>=2,"")}),g.jsx("div",{className:"w-14 h-0.5 bg-stone-400 rounded-full"}),g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===2?"bg-amber-200 border-amber-500":f.skirmishesWon>=2?"bg-pink-300 border-pink-500":y.skirmishesWon>=2?"bg-blue-300 border-blue-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===2?we:f.skirmishesWon>=2?"":(y.skirmishesWon>=2,"")})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===3?"bg-amber-200 border-amber-500":y.skirmishesWon>=3?"bg-blue-300 border-blue-500":f.skirmishesWon>=3?"bg-pink-300 border-pink-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===3?jt:y.skirmishesWon>=3?"":(f.skirmishesWon>=3,"")}),g.jsx("div",{className:"w-14 h-0.5 bg-stone-400 rounded-full"}),g.jsx("div",{className:`w-14 h-10 border-2 rounded flex items-center justify-center font-bold text-base ${t.currentSkirmish===3?"bg-amber-200 border-amber-500":f.skirmishesWon>=3?"bg-pink-300 border-pink-500":y.skirmishesWon>=3?"bg-blue-300 border-blue-500":"bg-stone-300 border-stone-500"}`,children:t.currentSkirmish===3?we:f.skirmishesWon>=3?"":(y.skirmishesWon>=3,"")})]})]}),g.jsx("div",{className:"flex-grow"}),g.jsxs("div",{className:`bg-pink-200 border-2 rounded-lg p-4 h-48 flex flex-col ${b?"border-amber-500 shadow-lg":"border-stone-800"}`,children:[g.jsxs("div",{className:"font-hand text-lg text-center mb-2 flex items-center justify-center gap-2",children:[g.jsx("span",{children:"Player"}),b&&g.jsx("span",{className:"text-amber-600",children:""})]}),g.jsx("div",{className:"flex-grow bg-pink-100 rounded border border-stone-600 flex items-center justify-center",children:g.jsx("span",{className:"font-ui text-xs text-stone-600",children:"Character art"})}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("button",{onClick:()=>k(n),disabled:!b||t.isDone[n],className:"w-full bg-amber-400 hover:bg-amber-500 disabled:bg-stone-400 border-2 border-stone-800 rounded px-2 py-1 font-hand text-sm",children:"Pass"}),g.jsx("button",{onClick:o,className:"w-full bg-green-400 hover:bg-green-500 border-2 border-stone-800 rounded px-2 py-1 font-hand text-xs",title:"Download game log as JSON",children:" Log"}),g.jsxs("div",{className:"bg-white px-2 py-1 rounded text-xs font-ui flex justify-between",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:f.graveyard.length})]}),$t.definition.maxCharges>0&&g.jsxs("div",{className:"bg-purple-100 px-2 py-1 rounded text-xs font-ui",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-bold",children:$t.definition.name}),g.jsxs("span",{className:"text-purple-600",children:[Nt.currentCharges,"/",$t.definition.maxCharges]})]}),g.jsx("div",{className:"text-stone-500 text-[10px] mt-0.5",children:$t.definition.abilityDescription}),g.jsx("button",{onClick:()=>dt(n),disabled:!z,className:"w-full mt-1 bg-purple-400 hover:bg-purple-500 disabled:bg-stone-400 border border-stone-800 rounded px-1 py-0.5 text-[10px]",children:"Activate"})]})]})]})]}),g.jsxs("div",{className:"flex-grow flex flex-col h-screen relative",children:[g.jsxs("div",{className:`absolute top-0 left-0 right-0 ${v?"":"-translate-y-20"}`,children:[x&&g.jsx("div",{className:"text-center mb-2",children:g.jsxs("span",{className:"bg-blue-600 text-white px-4 py-1 rounded-full font-ui text-sm",children:["Opponent (Player ",m,")"]})}),g.jsx(fd,{cards:y.hand,isLocalPlayer:!1,isOpen:v,isTop:v})]}),g.jsx("div",{className:"flex gap-6 justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:t.terrains.map((M,H)=>{var Qn,Ye,gl,ml;const Y=H,K=M.slots[m],W=M.slots[n],bt=e.calculateTerrainWinner(Y),Ct=bt===m?"opponent":bt===n?"player":"tie",kt=Wt(Y,m,(Qn=K.unit)==null?void 0:Qn.id),Ce=Wt(Y,n,(Ye=W.unit)==null?void 0:Ye.id),Oi=A&&(c==null?void 0:c.type)==="target"&&(((gl=c.validSlots)==null?void 0:gl.some(Ge=>Ge.terrainId===Y&&Ge.playerId===m))||c.validTargetIds&&K.unit&&c.validTargetIds.includes(K.unit.id)),He=A&&(c==null?void 0:c.type)==="target"&&(((ml=c.validSlots)==null?void 0:ml.some(Ge=>Ge.terrainId===Y&&Ge.playerId===n))||c.validTargetIds&&W.unit&&c.validTargetIds.includes(W.unit.id));return g.jsxs("div",{className:"flex flex-col gap-4 relative",children:[g.jsx(od,{unit:K.unit,slotModifier:K.modifier,playerId:m,terrainId:Y,isPlayerSlot:!1,winner:M.winner,isTargetable:Oi||kt,onUnitClick:R,onSlotClick:_,isHighlighted:kt}),g.jsxs("div",{className:"relative h-3 flex items-center",children:[g.jsx("div",{className:"absolute inset-0 h-0.5 top-1/2 -translate-y-1/2 bg-gradient-to-r from-transparent via-stone-500 to-transparent rounded-full"}),Ct!=="tie"&&g.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 transition-all duration-300 ${Ct==="opponent"?"bottom-2":"top-2"}`,children:g.jsx("div",{className:`w-0 h-0 ${Ct==="opponent"?"border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[8px] border-b-blue-500":"border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[8px] border-t-pink-500"}`})})]}),g.jsx(od,{unit:W.unit,slotModifier:W.modifier,playerId:n,terrainId:Y,isPlayerSlot:!0,isHighlighted:Ce,winner:M.winner,isTargetable:He||Ce,onUnitClick:R,onSlotClick:_})]},Y)})}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 translate-y-10",children:[x&&g.jsx("div",{className:"text-center mb-2",children:g.jsxs("span",{className:"bg-pink-600 text-white px-4 py-1 rounded-full font-ui text-sm",children:["You (Player ",n,")"]})}),g.jsx(fd,{cards:f.hand,isLocalPlayer:!0})]})]})]}),g.jsx(Yb,{children:i?g.jsx(al,{card:i,isInHand:!1}):null})]})]})},BS=({onStartGame:t,onOpenDeckBuilder:e})=>{const[n,a]=E.useState("claude"),[l,i]=E.useState(""),[s,r]=E.useState(!1),u=()=>{t(n==="human"?"god-mode":"vs-ai",n)},c=async()=>{r(!0);try{await t("network","create")}finally{r(!1)}},h=()=>{if(!l.trim()){alert("Please enter a Game ID");return}t("network",l.trim())};return g.jsx("div",{className:"min-h-screen bg-stone-200 flex items-center justify-center p-8",children:g.jsxs("div",{className:"max-w-2xl w-full",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h1",{className:"font-hand text-8xl text-stone-800 mb-4",children:"Skirmish"}),g.jsx("p",{className:"font-ui text-xl text-stone-600",children:"A tactical card game"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"font-hand text-3xl text-stone-800 mb-4",children:"Single Player"}),g.jsxs("div",{className:"bg-stone-100 rounded-lg p-4 space-y-3",children:[g.jsx("label",{className:"font-ui text-stone-700 font-semibold",children:"Opponent:"}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsx("button",{onClick:()=>a("heuristic"),className:`px-4 py-2 rounded-lg font-ui font-semibold transition-colors ${n==="heuristic"?"bg-stone-700 text-white":"bg-white text-stone-700 hover:bg-stone-200"}`,children:"Heuristic AI"}),g.jsx("button",{onClick:()=>a("claude"),className:`px-4 py-2 rounded-lg font-ui font-semibold transition-colors ${n==="claude"?"bg-stone-700 text-white":"bg-white text-stone-700 hover:bg-stone-200"}`,children:"Claude AI"}),g.jsx("button",{onClick:()=>a("human"),className:`px-4 py-2 rounded-lg font-ui font-semibold transition-colors ${n==="human"?"bg-stone-700 text-white":"bg-white text-stone-700 hover:bg-stone-200"}`,children:"Human"})]}),g.jsxs("div",{className:"text-sm text-stone-600 font-ui mt-2",children:[n==="heuristic"&&g.jsx("p",{children:"Fast, rule-based AI that makes strategic decisions based on card values and board state."}),n==="claude"&&g.jsx("p",{children:"Slower but more intelligent AI powered by Claude that considers complex strategies."}),n==="human"&&g.jsx("p",{children:"Hot seat mode for testing - both players control their own turns on the same device."})]})]}),g.jsx("button",{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 text-white font-hand text-2xl py-4 rounded-lg transition-colors shadow-md",children:"Start Single Player Game"})]}),g.jsxs("div",{className:"border-t border-stone-300 pt-6",children:[g.jsx("h2",{className:"font-hand text-3xl text-stone-800 mb-4",children:"Network Multiplayer"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:c,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-hand text-2xl py-4 rounded-lg transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Game...":"Host Network Game"}),g.jsxs("div",{className:"bg-stone-100 rounded-lg p-4",children:[g.jsx("label",{className:"font-ui text-stone-700 font-semibold block mb-2",children:"Join a Game:"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Enter 6-digit code...",value:l,onChange:d=>i(d.target.value.toUpperCase().slice(0,6)),onKeyDown:d=>d.key==="Enter"&&h(),maxLength:6,className:"flex-1 px-4 py-3 rounded-lg border-2 border-stone-300 font-mono text-2xl text-center tracking-widest focus:outline-none focus:border-blue-500"}),g.jsx("button",{onClick:h,disabled:l.trim().length!==6,className:"bg-blue-600 hover:bg-blue-700 text-white font-hand text-xl px-6 py-3 rounded-lg transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Join"})]}),g.jsx("p",{className:"text-sm text-stone-600 font-ui mt-2",children:"Enter the 6-digit code your friend shared with you."})]})]})]}),g.jsxs("div",{className:"border-t border-stone-300 pt-6",children:[g.jsx("h2",{className:"font-hand text-3xl text-stone-800 mb-4",children:"Deck Builder"}),g.jsx("button",{onClick:e,className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-hand text-2xl py-4 rounded-lg transition-colors shadow-md",children:"Build Your Deck"})]})]}),g.jsx("div",{className:"text-center mt-8 text-stone-600 font-ui text-sm",children:g.jsx("p",{children:"Best of 3 skirmishes  5 terrains  Win by controlling the majority"})})]})})},kS=()=>({getCardById:()=>null,state:{players:[{id:0},{id:1}],terrains:[]},emitEvent:()=>{},registerOngoingEffect:()=>{},unregisterOngoingEffect:()=>{},isDeploymentAllowed:()=>!1,ruleManager:{registerRule:()=>{},unregisterRule:()=>{}},onEvent:()=>()=>{}}),qS=({onBack:t})=>{const{deck:e,addCard:n,removeCard:a,resetDeck:l,getCardCount:i,canAddCard:s,getDeckSize:r}=sc(),u=20,c=30,h=r(),d=h>=u&&h<=c,o=E.useMemo(()=>kS(),[]),p=E.useMemo(()=>YS.map(v=>({cardId:v,card:Qs(v,0,o)})),[o]),S=E.useMemo(()=>{const v=[];return e.forEach(x=>{const m=Qs(x.cardId,0,o);for(let f=0;f<x.count;f++)v.push({cardId:x.cardId,card:m,copyIndex:f})}),v},[e,o]);return g.jsx("div",{className:"min-h-screen bg-stone-200 p-8",children:g.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[g.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"font-hand text-6xl text-stone-800",children:"Deck Builder"}),g.jsxs("p",{className:"font-ui text-stone-600 mt-2",children:["Deck Size: ",g.jsx("span",{className:`font-semibold ${d?"text-green-600":"text-red-600"}`,children:h})," / ",c," (min: ",u,")"]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:l,className:"px-6 py-3 bg-stone-600 hover:bg-stone-700 text-white font-ui font-semibold rounded-lg transition-colors",children:"Reset to Starter"}),g.jsx("button",{onClick:t,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-ui font-semibold rounded-lg transition-colors",children:"Back to Menu"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[g.jsx("h2",{className:"font-hand text-3xl text-stone-800 mb-4",children:"Your Deck"}),g.jsx("p",{className:"font-ui text-sm text-stone-600 mb-4",children:"Click a card to remove one copy"}),g.jsx("div",{className:"grid grid-cols-4 gap-4 max-h-[700px] overflow-y-auto p-2",children:S.length===0?g.jsx("div",{className:"col-span-4 text-center py-12",children:g.jsx("p",{className:"font-ui text-stone-500 italic",children:"Empty deck"})}):S.map((v,x)=>{const m=i(v.cardId);return g.jsxs("div",{onClick:()=>a(v.cardId),className:"relative cursor-pointer hover:scale-105 transition-transform",children:[g.jsx(al,{card:v.card,isInHand:!1}),m>1&&g.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-stone-800 rounded-full border-2 border-white flex items-center justify-center",children:g.jsxs("span",{className:"font-ui text-white font-bold text-sm",children:["",m]})})]},`${v.cardId}-${x}`)})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[g.jsx("h2",{className:"font-hand text-3xl text-stone-800 mb-4",children:"Card Collection"}),g.jsx("p",{className:"font-ui text-sm text-stone-600 mb-4",children:"Click a card to add one copy (max 3)"}),g.jsx("div",{className:"grid grid-cols-4 gap-4 max-h-[700px] overflow-y-auto p-2",children:p.map(({cardId:v,card:x})=>{const m=i(v),f=s(v);return g.jsxs("div",{onClick:()=>f&&n(v),className:`relative transition-all ${f?"cursor-pointer hover:scale-105":"opacity-40 cursor-not-allowed"}`,children:[g.jsx(al,{card:x,isInHand:!1}),m>0&&g.jsx("div",{className:`absolute -top-2 -right-2 w-8 h-8 rounded-full border-2 border-white flex items-center justify-center ${f?"bg-blue-600":"bg-stone-500"}`,children:g.jsxs("span",{className:"font-ui text-white font-bold text-sm",children:[m,"/3"]})}),!f&&m===3&&g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:g.jsx("span",{className:"font-hand text-2xl text-white",children:"MAX"})})]},v)})})]})]})]})})},XS=({gameCode:t,onCancel:e})=>{const[n,a]=E.useState(!1),[l,i]=E.useState("waiting"),{networkGameId:s,networkSync:r}=Va();E.useEffect(()=>{if(!s||!r)return;const o=r.getFirebase().subscribeToReadyState(s,p=>{p.gameStarted?i("starting"):p.player0Ready&&p.player1Ready?i("connected"):i("waiting")});return()=>{o()}},[s,r]);const u=()=>{navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)},c=()=>{switch(l){case"connected":return"Opponent connected! Starting game...";case"starting":return"Loading game...";default:return"Waiting for player to join..."}},h=()=>{switch(l){case"connected":case"starting":return"text-green-600";default:return"text-stone-600"}};return g.jsx("div",{className:"min-h-screen bg-stone-200 flex items-center justify-center p-8",children:g.jsx("div",{className:"max-w-2xl w-full",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-hand text-6xl text-stone-800 mb-2",children:l==="waiting"?"Waiting for Opponent":"Game Starting!"}),g.jsx("p",{className:"font-ui text-lg text-stone-600",children:"Share this code with your friend"})]}),g.jsx("div",{className:"bg-stone-100 rounded-lg p-8 mb-6",children:g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"font-ui text-sm text-stone-600 mb-2",children:"Game Code"}),g.jsx("div",{className:"font-mono text-7xl font-bold text-blue-600 tracking-widest mb-4 select-all",children:t}),g.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-ui px-6 py-3 rounded-lg transition-colors",children:n?" Copied!":"Copy Code"})]})}),g.jsx("div",{className:"text-center mb-6",children:g.jsxs("div",{className:`inline-flex items-center gap-2 ${h()}`,children:[l==="waiting"?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):g.jsx("div",{className:"h-5 w-5 rounded-full bg-green-600 animate-pulse"}),g.jsx("span",{className:"font-ui font-semibold",children:c()})]})}),l==="waiting"&&g.jsx("div",{className:"text-center",children:g.jsx("button",{onClick:e,className:"bg-stone-300 hover:bg-stone-400 text-stone-700 font-ui px-6 py-3 rounded-lg transition-colors",children:"Cancel"})}),g.jsx("div",{className:"mt-8 text-center text-sm text-stone-500 font-ui",children:g.jsx("p",{children:"Your friend can join by entering this code in the main menu"})})]})})})};function VS(){const[t,e]=E.useState("menu"),[n,a]=E.useState("vs-ai"),[l,i]=E.useState("claude"),{gameState:s,engine:r,localPlayerId:u,initGame:c,initNetworkGame:h,networkGameCode:d,gameMode:o}=Va(),p=async(f,y)=>{if(a(f),f==="network"){const b=y==="create";await h(b?0:1,y),e("waiting-room")}else{const b=f==="vs-ai"?"vs-ai":f==="god-mode"?"god-mode":"human-vs-human";i(y),c(0,b),e("game")}},S=()=>{e("menu")},v=()=>{p(n,l)},x=()=>{e("menu")},m=()=>{e("deck-builder")};return t==="menu"?g.jsx(BS,{onStartGame:p,onOpenDeckBuilder:m}):t==="deck-builder"?g.jsx(qS,{onBack:x}):t==="waiting-room"?(o==="network"&&s&&r&&e("game"),g.jsx(XS,{gameCode:d||"",onCancel:S})):!s||!r?g.jsx("div",{className:"min-h-screen bg-stone-200 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"font-hand text-6xl text-stone-800 mb-4",children:"Skirmish"}),g.jsx("p",{className:"font-ui text-xl text-stone-600",children:"Loading game..."})]})}):g.jsx(GS,{gameState:s,engine:r,localPlayerId:u,onPlayAgain:v,onMainMenu:x})}cv.createRoot(document.getElementById("root")).render(g.jsx(at.StrictMode,{children:g.jsx(VS,{})}));export{cn as E,mS as G,yn as H};
